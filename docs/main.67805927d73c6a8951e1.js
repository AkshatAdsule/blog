(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var r=n("uXP2"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,e,n),s=this.destination;s.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&s.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.3","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},LvDl:function(t,e,n){(function(t){var r;(function(){var i="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",h="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",g="[object Number]",v="[object Object]",m="[object RegExp]",y="[object Set]",b="[object String]",_="[object Symbol]",w="[object WeakMap]",O="[object ArrayBuffer]",E="[object DataView]",x="[object Float32Array]",S="[object Float64Array]",T="[object Int8Array]",k="[object Int16Array]",I="[object Int32Array]",C="[object Uint8Array]",j="[object Uint16Array]",A="[object Uint32Array]",N=/\b__p \+= '';/g,R=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,U=RegExp(D.source),V=RegExp(L.source),M=/<%-([\s\S]+?)%>/g,F=/<%([\s\S]+?)%>/g,z=/<%=([\s\S]+?)%>/g,q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,$=RegExp(G.source),W=/^\s+|\s+$/g,K=/^\s+/,J=/\s+$/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,Y=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,rt=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,ut=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,lt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ft="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="["+ft+"]",pt="["+ht+"]",gt="\\d+",vt="[a-z\\xdf-\\xf6\\xf8-\\xff]",mt="[^\\ud800-\\udfff"+ft+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",yt="\\ud83c[\\udffb-\\udfff]",bt="[^\\ud800-\\udfff]",_t="(?:\\ud83c[\\udde6-\\uddff]){2}",wt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ot="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Et="(?:"+vt+"|"+mt+")",xt="(?:"+Ot+"|"+mt+")",St="(?:"+pt+"|"+yt+")?",Tt="[\\ufe0e\\ufe0f]?"+St+"(?:\\u200d(?:"+[bt,_t,wt].join("|")+")[\\ufe0e\\ufe0f]?"+St+")*",kt="(?:"+["[\\u2700-\\u27bf]",_t,wt].join("|")+")"+Tt,It="(?:"+[bt+pt+"?",pt,_t,wt,"[\\ud800-\\udfff]"].join("|")+")",Ct=RegExp("['\u2019]","g"),jt=RegExp(pt,"g"),At=RegExp(yt+"(?="+yt+")|"+It+Tt,"g"),Nt=RegExp([Ot+"?"+vt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[dt,Ot,"$"].join("|")+")",xt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[dt,Ot+Et,"$"].join("|")+")",Ot+"?"+Et+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ot+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,kt].join("|"),"g"),Rt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Pt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Dt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Lt=-1,Ut={};Ut[x]=Ut[S]=Ut[T]=Ut[k]=Ut[I]=Ut[C]=Ut["[object Uint8ClampedArray]"]=Ut[j]=Ut[A]=!0,Ut[a]=Ut[u]=Ut[O]=Ut[c]=Ut[E]=Ut[l]=Ut[h]=Ut[f]=Ut[p]=Ut[g]=Ut[v]=Ut[m]=Ut[y]=Ut[b]=Ut[w]=!1;var Vt={};Vt[a]=Vt[u]=Vt[O]=Vt[E]=Vt[c]=Vt[l]=Vt[x]=Vt[S]=Vt[T]=Vt[k]=Vt[I]=Vt[p]=Vt[g]=Vt[v]=Vt[m]=Vt[y]=Vt[b]=Vt[_]=Vt[C]=Vt["[object Uint8ClampedArray]"]=Vt[j]=Vt[A]=!0,Vt[h]=Vt[f]=Vt[w]=!1;var Mt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ft=parseFloat,zt=parseInt,qt="object"==typeof global&&global&&global.Object===Object&&global,Ht="object"==typeof self&&self&&self.Object===Object&&self,Bt=qt||Ht||Function("return this")(),Gt=e&&!e.nodeType&&e,$t=Gt&&"object"==typeof t&&t&&!t.nodeType&&t,Wt=$t&&$t.exports===Gt,Kt=Wt&&qt.process,Jt=function(){try{return $t&&$t.require&&$t.require("util").types||Kt&&Kt.binding&&Kt.binding("util")}catch(t){}}(),Zt=Jt&&Jt.isArrayBuffer,Xt=Jt&&Jt.isDate,Qt=Jt&&Jt.isMap,Yt=Jt&&Jt.isRegExp,te=Jt&&Jt.isSet,ee=Jt&&Jt.isTypedArray;function ne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function re(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function ie(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function oe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ae(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function ue(t,e){return!(null==t||!t.length)&&ye(t,e,0)>-1}function ce(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function le(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function he(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function fe(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function de(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function pe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ge=Oe("length");function ve(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function me(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ye(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):me(t,_e,n)}function be(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function _e(t){return t!=t}function we(t,e){var n=null==t?0:t.length;return n?Se(t,e)/n:NaN}function Oe(t){return function(e){return null==e?void 0:e[t]}}function Ee(t){return function(e){return null==t?void 0:t[e]}}function xe(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Se(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Te(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function ke(t){return function(e){return t(e)}}function Ie(t,e){return le(e,(function(e){return t[e]}))}function Ce(t,e){return t.has(e)}function je(t,e){for(var n=-1,r=t.length;++n<r&&ye(e,t[n],0)>-1;);return n}function Ae(t,e){for(var n=t.length;n--&&ye(e,t[n],0)>-1;);return n}function Ne(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Re=Ee({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Pe=Ee({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function De(t){return"\\"+Mt[t]}function Le(t){return Rt.test(t)}function Ue(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Ve(t,e){return function(n){return t(e(n))}}function Me(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var a=t[n];a!==e&&a!==o||(t[n]=o,s[i++]=n)}return s}function Fe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function qe(t){return Le(t)?function(t){for(var e=At.lastIndex=0;At.test(t);)++e;return e}(t):ge(t)}function He(t){return Le(t)?function(t){return t.match(At)||[]}(t):function(t){return t.split("")}(t)}var Be=Ee({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ge=function t(e){var n,r=(e=null==e?Bt:Ge.defaults(Bt.Object(),e,Ge.pick(Bt,Dt))).Array,ht=e.Date,ft=e.Error,dt=e.Function,pt=e.Math,gt=e.Object,vt=e.RegExp,mt=e.String,yt=e.TypeError,bt=r.prototype,_t=gt.prototype,wt=e["__core-js_shared__"],Ot=dt.prototype.toString,Et=_t.hasOwnProperty,xt=0,St=(n=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Tt=_t.toString,kt=Ot.call(gt),It=Bt._,At=vt("^"+Ot.call(Et).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=Wt?e.Buffer:void 0,Mt=e.Symbol,qt=e.Uint8Array,Ht=Rt?Rt.allocUnsafe:void 0,Gt=Ve(gt.getPrototypeOf,gt),$t=gt.create,Kt=_t.propertyIsEnumerable,Jt=bt.splice,ge=Mt?Mt.isConcatSpreadable:void 0,Ee=Mt?Mt.iterator:void 0,$e=Mt?Mt.toStringTag:void 0,We=function(){try{var t=Xi(gt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ke=e.clearTimeout!==Bt.clearTimeout&&e.clearTimeout,Je=ht&&ht.now!==Bt.Date.now&&ht.now,Ze=e.setTimeout!==Bt.setTimeout&&e.setTimeout,Xe=pt.ceil,Qe=pt.floor,Ye=gt.getOwnPropertySymbols,tn=Rt?Rt.isBuffer:void 0,en=e.isFinite,nn=bt.join,rn=Ve(gt.keys,gt),on=pt.max,sn=pt.min,an=ht.now,un=e.parseInt,cn=pt.random,ln=bt.reverse,hn=Xi(e,"DataView"),fn=Xi(e,"Map"),dn=Xi(e,"Promise"),pn=Xi(e,"Set"),gn=Xi(e,"WeakMap"),vn=Xi(gt,"create"),mn=gn&&new gn,yn={},bn=ko(hn),_n=ko(fn),wn=ko(dn),On=ko(pn),En=ko(gn),xn=Mt?Mt.prototype:void 0,Sn=xn?xn.valueOf:void 0,Tn=xn?xn.toString:void 0;function kn(t){if(Bs(t)&&!Rs(t)&&!(t instanceof An)){if(t instanceof jn)return t;if(Et.call(t,"__wrapped__"))return Io(t)}return new jn(t)}var In=function(){function t(){}return function(e){if(!Hs(e))return{};if($t)return $t(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Cn(){}function jn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function An(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Pn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Pn;++e<n;)this.add(t[e])}function Ln(t){var e=this.__data__=new Rn(t);this.size=e.size}function Un(t,e){var n=Rs(t),r=!n&&Ns(t),i=!n&&!r&&Us(t),o=!n&&!r&&!i&&Qs(t),s=n||r||i||o,a=s?Te(t.length,mt):[],u=a.length;for(var c in t)!e&&!Et.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||io(c,u))||a.push(c);return a}function Vn(t){var e=t.length;return e?t[Pr(0,e-1)]:void 0}function Mn(t,e){return Oo(gi(t),Kn(e,0,t.length))}function Fn(t){return Oo(gi(t))}function zn(t,e,n){(void 0!==n&&!Cs(t[e],n)||void 0===n&&!(e in t))&&$n(t,e,n)}function qn(t,e,n){var r=t[e];Et.call(t,e)&&Cs(r,n)&&(void 0!==n||e in t)||$n(t,e,n)}function Hn(t,e){for(var n=t.length;n--;)if(Cs(t[n][0],e))return n;return-1}function Bn(t,e,n,r){return Yn(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Gn(t,e){return t&&vi(e,_a(e),t)}function $n(t,e,n){"__proto__"==e&&We?We(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Wn(t,e){for(var n=-1,i=e.length,o=r(i),s=null==t;++n<i;)o[n]=s?void 0:ga(t,e[n]);return o}function Kn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Jn(t,e,n,r,i,o){var s,u=1&e,h=2&e,w=4&e;if(n&&(s=i?n(t,r,i,o):n(t)),void 0!==s)return s;if(!Hs(t))return t;var N=Rs(t);if(N){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Et.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return gi(t,s)}else{var R=to(t),P=R==f||R==d;if(Us(t))return ci(t,u);if(R==v||R==a||P&&!i){if(s=h||P?{}:no(t),!u)return h?function(t,e){return vi(t,Yi(t),e)}(t,function(t,e){return t&&vi(e,wa(e),t)}(s,t)):function(t,e){return vi(t,Qi(t),e)}(t,Gn(s,t))}else{if(!Vt[R])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case O:return li(t);case c:case l:return new r(+t);case E:return function(t,e){var n=e?li(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case x:case S:case T:case k:case I:case C:case"[object Uint8ClampedArray]":case j:case A:return hi(t,n);case p:return new r;case g:case b:return new r(t);case m:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return new r;case _:return Sn?gt(Sn.call(t)):{}}}(t,R,u)}}o||(o=new Ln);var D=o.get(t);if(D)return D;o.set(t,s),Js(t)?t.forEach((function(r){s.add(Jn(r,e,n,r,t,o))})):Gs(t)&&t.forEach((function(r,i){s.set(i,Jn(r,e,n,i,t,o))}));var L=N?void 0:(w?h?Bi:Hi:h?wa:_a)(t);return ie(L||t,(function(r,i){L&&(r=t[i=r]),qn(s,i,Jn(r,e,n,i,t,o))})),s}function Zn(t,e,n){var r=n.length;if(null==t)return!r;for(t=gt(t);r--;){var i=n[r],o=t[i];if(void 0===o&&!(i in t)||!(0,e[i])(o))return!1}return!0}function Xn(t,e,n){if("function"!=typeof t)throw new yt(i);return yo((function(){t.apply(void 0,n)}),e)}function Qn(t,e,n,r){var i=-1,o=ue,s=!0,a=t.length,u=[],c=e.length;if(!a)return u;n&&(e=le(e,ke(n))),r?(o=ce,s=!1):e.length>=200&&(o=Ce,s=!1,e=new Dn(e));t:for(;++i<a;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,s&&h==h){for(var f=c;f--;)if(e[f]===h)continue t;u.push(l)}else o(e,h,r)||u.push(l)}return u}kn.templateSettings={escape:M,evaluate:F,interpolate:z,variable:"",imports:{_:kn}},(kn.prototype=Cn.prototype).constructor=kn,(jn.prototype=In(Cn.prototype)).constructor=jn,(An.prototype=In(Cn.prototype)).constructor=An,Nn.prototype.clear=function(){this.__data__=vn?vn(null):{},this.size=0},Nn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Nn.prototype.get=function(t){var e=this.__data__;if(vn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Et.call(e,t)?e[t]:void 0},Nn.prototype.has=function(t){var e=this.__data__;return vn?void 0!==e[t]:Et.call(e,t)},Nn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vn&&void 0===e?"__lodash_hash_undefined__":e,this},Rn.prototype.clear=function(){this.__data__=[],this.size=0},Rn.prototype.delete=function(t){var e=this.__data__,n=Hn(e,t);return!(n<0||(n==e.length-1?e.pop():Jt.call(e,n,1),--this.size,0))},Rn.prototype.get=function(t){var e=this.__data__,n=Hn(e,t);return n<0?void 0:e[n][1]},Rn.prototype.has=function(t){return Hn(this.__data__,t)>-1},Rn.prototype.set=function(t,e){var n=this.__data__,r=Hn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Pn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(fn||Rn),string:new Nn}},Pn.prototype.delete=function(t){var e=Ji(this,t).delete(t);return this.size-=e?1:0,e},Pn.prototype.get=function(t){return Ji(this,t).get(t)},Pn.prototype.has=function(t){return Ji(this,t).has(t)},Pn.prototype.set=function(t,e){var n=Ji(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Dn.prototype.add=Dn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Dn.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.clear=function(){this.__data__=new Rn,this.size=0},Ln.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ln.prototype.get=function(t){return this.__data__.get(t)},Ln.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Rn){var r=n.__data__;if(!fn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Pn(r)}return n.set(t,e),this.size=n.size,this};var Yn=bi(ar),tr=bi(ur,!0);function er(t,e){var n=!0;return Yn(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function nr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(null!=s&&(void 0===a?s==s&&!Xs(s):n(s,a)))var a=s,u=o}return u}function rr(t,e){var n=[];return Yn(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function ir(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=ro),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?ir(a,e-1,n,r,i):he(i,a):r||(i[i.length]=a)}return i}var or=_i(),sr=_i(!0);function ar(t,e){return t&&or(t,e,_a)}function ur(t,e){return t&&sr(t,e,_a)}function cr(t,e){return ae(e,(function(e){return Fs(t[e])}))}function lr(t,e){for(var n=0,r=(e=oi(e,t)).length;null!=t&&n<r;)t=t[To(e[n++])];return n&&n==r?t:void 0}function hr(t,e,n){var r=e(t);return Rs(t)?r:he(r,n(t))}function fr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":$e&&$e in gt(t)?function(t){var e=Et.call(t,$e),n=t[$e];try{t[$e]=void 0;var r=!0}catch(o){}var i=Tt.call(t);return r&&(e?t[$e]=n:delete t[$e]),i}(t):function(t){return Tt.call(t)}(t)}function dr(t,e){return t>e}function pr(t,e){return null!=t&&Et.call(t,e)}function gr(t,e){return null!=t&&e in gt(t)}function vr(t,e,n){for(var i=n?ce:ue,o=t[0].length,s=t.length,a=s,u=r(s),c=1/0,l=[];a--;){var h=t[a];a&&e&&(h=le(h,ke(e))),c=sn(h.length,c),u[a]=!n&&(e||o>=120&&h.length>=120)?new Dn(a&&h):void 0}h=t[0];var f=-1,d=u[0];t:for(;++f<o&&l.length<c;){var p=h[f],g=e?e(p):p;if(p=n||0!==p?p:0,!(d?Ce(d,g):i(l,g,n))){for(a=s;--a;){var v=u[a];if(!(v?Ce(v,g):i(t[a],g,n)))continue t}d&&d.push(g),l.push(p)}}return l}function mr(t,e,n){var r=null==(t=po(t,e=oi(e,t)))?t:t[To(Mo(e))];return null==r?void 0:ne(r,t,n)}function yr(t){return Bs(t)&&fr(t)==a}function br(t,e,n,r,i){return t===e||(null==t||null==e||!Bs(t)&&!Bs(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var s=Rs(t),f=Rs(e),d=s?u:to(t),w=f?u:to(e),x=(d=d==a?v:d)==v,S=(w=w==a?v:w)==v,T=d==w;if(T&&Us(t)){if(!Us(e))return!1;s=!0,x=!1}if(T&&!x)return o||(o=new Ln),s||Qs(t)?zi(t,e,n,r,i,o):function(t,e,n,r,i,o,s){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return!(t.byteLength!=e.byteLength||!o(new qt(t),new qt(e)));case c:case l:case g:return Cs(+t,+e);case h:return t.name==e.name&&t.message==e.message;case m:case b:return t==e+"";case p:var a=Ue;case y:if(a||(a=Fe),t.size!=e.size&&!(1&r))return!1;var u=s.get(t);if(u)return u==e;r|=2,s.set(t,e);var f=zi(a(t),a(e),r,i,o,s);return s.delete(t),f;case _:if(Sn)return Sn.call(t)==Sn.call(e)}return!1}(t,e,d,n,r,i,o);if(!(1&n)){var k=x&&Et.call(t,"__wrapped__"),I=S&&Et.call(e,"__wrapped__");if(k||I){var C=k?t.value():t,j=I?e.value():e;return o||(o=new Ln),i(C,j,n,r,o)}}return!!T&&(o||(o=new Ln),function(t,e,n,r,i,o){var s=1&n,a=Hi(t),u=a.length;if(u!=Hi(e).length&&!s)return!1;for(var c=u;c--;){var l=a[c];if(!(s?l in e:Et.call(e,l)))return!1}var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=s;++c<u;){var g=t[l=a[c]],v=e[l];if(r)var m=s?r(v,g,l,e,t,o):r(g,v,l,t,e,o);if(!(void 0===m?g===v||i(g,v,n,r,o):m)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}(t,e,n,r,br,i))}function _r(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=gt(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var u=(a=n[i])[0],c=t[u],l=a[1];if(s&&a[2]){if(void 0===c&&!(u in t))return!1}else{var h=new Ln;if(r)var f=r(c,l,u,t,e,h);if(!(void 0===f?br(l,c,3,r,h):f))return!1}}return!0}function wr(t){return!(!Hs(t)||(e=t,St&&St in e))&&(Fs(t)?At:ot).test(ko(t));var e}function Or(t){return"function"==typeof t?t:null==t?$a:"object"==typeof t?Rs(t)?kr(t[0],t[1]):Tr(t):eu(t)}function Er(t){if(!co(t))return rn(t);var e=[];for(var n in gt(t))Et.call(t,n)&&"constructor"!=n&&e.push(n);return e}function xr(t,e){return t<e}function Sr(t,e){var n=-1,i=Ds(t)?r(t.length):[];return Yn(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Tr(t){var e=Zi(t);return 1==e.length&&e[0][2]?ho(e[0][0],e[0][1]):function(n){return n===t||_r(n,t,e)}}function kr(t,e){return so(t)&&lo(e)?ho(To(t),e):function(n){var r=ga(n,t);return void 0===r&&r===e?va(n,t):br(e,r,3)}}function Ir(t,e,n,r,i){t!==e&&or(e,(function(o,s){if(i||(i=new Ln),Hs(o))!function(t,e,n,r,i,o,s){var a=vo(t,n),u=vo(e,n),c=s.get(u);if(c)zn(t,n,c);else{var l=o?o(a,u,n+"",t,e,s):void 0,h=void 0===l;if(h){var f=Rs(u),d=!f&&Us(u),p=!f&&!d&&Qs(u);l=u,f||d||p?Rs(a)?l=a:Ls(a)?l=gi(a):d?(h=!1,l=ci(u,!0)):p?(h=!1,l=hi(u,!0)):l=[]:Ws(u)||Ns(u)?(l=a,Ns(a)?l=sa(a):Hs(a)&&!Fs(a)||(l=no(u))):h=!1}h&&(s.set(u,l),i(l,u,r,o,s),s.delete(u)),zn(t,n,l)}}(t,e,s,n,Ir,r,i);else{var a=r?r(vo(t,s),o,s+"",t,e,i):void 0;void 0===a&&(a=o),zn(t,s,a)}}),wa)}function Cr(t,e){var n=t.length;if(n)return io(e+=e<0?n:0,n)?t[e]:void 0}function jr(t,e,n){e=e.length?le(e,(function(t){return Rs(t)?function(e){return lr(e,1===t.length?t[0]:t)}:t})):[$a];var r=-1;return e=le(e,ke(Ki())),function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=fi(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(Sr(t,(function(t,n,i){return{criteria:le(e,(function(e){return e(t)})),index:++r,value:t}})))}function Ar(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=lr(t,s);n(a,s)&&Mr(o,oi(s,t),a)}return o}function Nr(t,e,n,r){var i=r?be:ye,o=-1,s=e.length,a=t;for(t===e&&(e=gi(e)),n&&(a=le(t,ke(n)));++o<s;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==t&&Jt.call(a,u,1),Jt.call(t,u,1);return t}function Rr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;io(i)?Jt.call(t,i,1):Xr(t,i)}}return t}function Pr(t,e){return t+Qe(cn()*(e-t+1))}function Dr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Qe(e/2))&&(t+=t)}while(e);return n}function Lr(t,e){return bo(fo(t,e,$a),t+"")}function Ur(t){return Vn(Ca(t))}function Vr(t,e){var n=Ca(t);return Oo(n,Kn(e,0,n.length))}function Mr(t,e,n,r){if(!Hs(t))return t;for(var i=-1,o=(e=oi(e,t)).length,s=o-1,a=t;null!=a&&++i<o;){var u=To(e[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=s){var l=a[u];void 0===(c=r?r(l,u,a):void 0)&&(c=Hs(l)?l:io(e[i+1])?[]:{})}qn(a,u,c),a=a[u]}return t}var Fr=mn?function(t,e){return mn.set(t,e),t}:$a,zr=We?function(t,e){return We(t,"toString",{configurable:!0,enumerable:!1,value:Ha(e),writable:!0})}:$a;function qr(t){return Oo(Ca(t))}function Hr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function Br(t,e){var n;return Yn(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Gr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!Xs(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return $r(t,e,$a,n)}function $r(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(e=n(e))!=e,a=null===e,u=Xs(e),c=void 0===e;i<o;){var l=Qe((i+o)/2),h=n(t[l]),f=void 0!==h,d=null===h,p=h==h,g=Xs(h);if(s)var v=r||p;else v=c?p&&(r||f):a?p&&f&&(r||!d):u?p&&f&&!d&&(r||!g):!d&&!g&&(r?h<=e:h<e);v?i=l+1:o=l}return sn(o,4294967294)}function Wr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Cs(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Kr(t){return"number"==typeof t?t:Xs(t)?NaN:+t}function Jr(t){if("string"==typeof t)return t;if(Rs(t))return le(t,Jr)+"";if(Xs(t))return Tn?Tn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Zr(t,e,n){var r=-1,i=ue,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=ce;else if(o>=200){var c=e?null:Di(t);if(c)return Fe(c);s=!1,i=Ce,u=new Dn}else u=e?[]:a;t:for(;++r<o;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),a.push(l)}else i(u,h,n)||(u!==a&&u.push(h),a.push(l))}return a}function Xr(t,e){return null==(t=po(t,e=oi(e,t)))||delete t[To(Mo(e))]}function Qr(t,e,n,r){return Mr(t,e,n(lr(t,e)),r)}function Yr(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Hr(t,r?0:o,r?o+1:i):Hr(t,r?o+1:0,r?i:o)}function ti(t,e){var n=t;return n instanceof An&&(n=n.value()),fe(e,(function(t,e){return e.func.apply(e.thisArg,he([t],e.args))}),n)}function ei(t,e,n){var i=t.length;if(i<2)return i?Zr(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=Qn(s[o]||a,t[u],e,n));return Zr(ir(s,1),e,n)}function ni(t,e,n){for(var r=-1,i=t.length,o=e.length,s={};++r<i;)n(s,t[r],r<o?e[r]:void 0);return s}function ri(t){return Ls(t)?t:[]}function ii(t){return"function"==typeof t?t:$a}function oi(t,e){return Rs(t)?t:so(t,e)?[t]:So(aa(t))}var si=Lr;function ai(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Hr(t,e,n)}var ui=Ke||function(t){return Bt.clearTimeout(t)};function ci(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function li(t){var e=new t.constructor(t.byteLength);return new qt(e).set(new qt(t)),e}function hi(t,e){var n=e?li(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function fi(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Xs(t),s=void 0!==e,a=null===e,u=e==e,c=Xs(e);if(!a&&!c&&!o&&t>e||o&&s&&u&&!a&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function di(t,e,n,i){for(var o=-1,s=t.length,a=n.length,u=-1,c=e.length,l=on(s-a,0),h=r(c+l),f=!i;++u<c;)h[u]=e[u];for(;++o<a;)(f||o<s)&&(h[n[o]]=t[o]);for(;l--;)h[u++]=t[o++];return h}function pi(t,e,n,i){for(var o=-1,s=t.length,a=-1,u=n.length,c=-1,l=e.length,h=on(s-u,0),f=r(h+l),d=!i;++o<h;)f[o]=t[o];for(var p=o;++c<l;)f[p+c]=e[c];for(;++a<u;)(d||o<s)&&(f[p+n[a]]=t[o++]);return f}function gi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function vi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=r?r(n[a],t[a],a,n,t):void 0;void 0===u&&(u=t[a]),i?$n(n,a,u):qn(n,a,u)}return n}function mi(t,e){return function(n,r){var i=Rs(n)?re:Bn,o=e?e():{};return i(n,t,Ki(r,2),o)}}function yi(t){return Lr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,s&&oo(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=gt(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e}))}function bi(t,e){return function(n,r){if(null==n)return n;if(!Ds(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=gt(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function _i(t){return function(e,n,r){for(var i=-1,o=gt(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function wi(t){return function(e){var n=Le(e=aa(e))?He(e):void 0,r=n?n[0]:e.charAt(0),i=n?ai(n,1).join(""):e.slice(1);return r[t]()+i}}function Oi(t){return function(e){return fe(Fa(Na(e).replace(Ct,"")),t,"")}}function Ei(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=In(t.prototype),r=t.apply(n,e);return Hs(r)?r:n}}function xi(t){return function(e,n,r){var i=gt(e);if(!Ds(e)){var o=Ki(n,3);e=_a(e),n=function(t){return o(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}function Si(t){return qi((function(e){var n=e.length,r=n,o=jn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new yt(i);if(o&&!a&&"wrapper"==$i(s))var a=new jn([],!0)}for(r=a?r:n;++r<n;){var u=$i(s=e[r]),c="wrapper"==u?Gi(s):void 0;a=c&&ao(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[$i(c[0])].apply(a,c[3]):1==s.length&&ao(s)?a[u]():a.thru(s)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&Rs(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ti(t,e,n,i,o,s,a,u,c,l){var h=128&e,f=1&e,d=2&e,p=24&e,g=512&e,v=d?void 0:Ei(t);return function m(){for(var y=arguments.length,b=r(y),_=y;_--;)b[_]=arguments[_];if(p)var w=Wi(m),O=Ne(b,w);if(i&&(b=di(b,i,o,p)),s&&(b=pi(b,s,a,p)),y-=O,p&&y<l){var E=Me(b,w);return Ri(t,e,Ti,m.placeholder,n,b,E,u,c,l-y)}var x=f?n:this,S=d?x[t]:t;return y=b.length,u?b=go(b,u):g&&y>1&&b.reverse(),h&&c<y&&(b.length=c),this&&this!==Bt&&this instanceof m&&(S=v||Ei(S)),S.apply(x,b)}}function ki(t,e){return function(n,r){return function(t,e,n,r){return ar(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Ii(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Kr(n),r=Kr(r)),i=t(n,r)}return i}}function Ci(t){return qi((function(e){return e=le(e,ke(Ki())),Lr((function(n){var r=this;return t(e,(function(t){return ne(t,r,n)}))}))}))}function ji(t,e){var n=(e=void 0===e?" ":Jr(e)).length;if(n<2)return n?Dr(e,t):e;var r=Dr(e,Xe(t/qe(e)));return Le(e)?ai(He(r),0,t).join(""):r.slice(0,t)}function Ai(t){return function(e,n,i){return i&&"number"!=typeof i&&oo(e,n,i)&&(n=i=void 0),e=na(e),void 0===n?(n=e,e=0):n=na(n),function(t,e,n,i){for(var o=-1,s=on(Xe((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,i=void 0===i?e<n?1:-1:na(i),t)}}function Ni(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=oa(e),n=oa(n)),t(e,n)}}function Ri(t,e,n,r,i,o,s,a,u,c){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var h=[t,e,i,l?o:void 0,l?s:void 0,l?void 0:o,l?void 0:s,a,u,c],f=n.apply(void 0,h);return ao(t)&&mo(f,h),f.placeholder=r,_o(f,t,e)}function Pi(t){var e=pt[t];return function(t,n){if(t=oa(t),(n=null==n?0:sn(ra(n),292))&&en(t)){var r=(aa(t)+"e").split("e");return+((r=(aa(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Di=pn&&1/Fe(new pn([,-0]))[1]==1/0?function(t){return new pn(t)}:Xa;function Li(t){return function(e){var n=to(e);return n==p?Ue(e):n==y?ze(e):function(t,e){return le(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ui(t,e,n,s,a,u,c,l){var h=2&e;if(!h&&"function"!=typeof t)throw new yt(i);var f=s?s.length:0;if(f||(e&=-97,s=a=void 0),c=void 0===c?c:on(ra(c),0),l=void 0===l?l:ra(l),f-=a?a.length:0,64&e){var d=s,p=a;s=a=void 0}var g=h?void 0:Gi(t),v=[t,e,n,s,a,d,p,u,c,l];if(g&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<131||128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n))return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var a=t[3];t[3]=a?di(a,s,e[4]):s,t[4]=a?Me(t[3],o):e[4]}(s=e[5])&&(t[5]=(a=t[5])?pi(a,s,e[6]):s,t[6]=a?Me(t[5],o):e[6]),(s=e[7])&&(t[7]=s),128&r&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(v,g),t=v[0],e=v[1],n=v[2],s=v[3],a=v[4],!(l=v[9]=void 0===v[9]?h?0:t.length:on(v[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,n){var i=Ei(t);return function o(){for(var s=arguments.length,a=r(s),u=s,c=Wi(o);u--;)a[u]=arguments[u];var l=s<3&&a[0]!==c&&a[s-1]!==c?[]:Me(a,c);if((s-=l.length)<n)return Ri(t,e,Ti,o.placeholder,void 0,a,l,void 0,void 0,n-s);var h=this&&this!==Bt&&this instanceof o?i:t;return ne(h,this,a)}}(t,e,l):32!=e&&33!=e||a.length?Ti.apply(void 0,v):function(t,e,n,i){var o=1&e,s=Ei(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=i.length,h=r(l+u),f=this&&this!==Bt&&this instanceof e?s:t;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++a];return ne(f,o?n:this,h)}}(t,e,n,s);else var m=function(t,e,n){var r=1&e,i=Ei(t);return function e(){var o=this&&this!==Bt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return _o((g?Fr:mo)(m,v),t,e)}function Vi(t,e,n,r){return void 0===t||Cs(t,_t[n])&&!Et.call(r,n)?e:t}function Mi(t,e,n,r,i,o){return Hs(t)&&Hs(e)&&(o.set(e,t),Ir(t,e,void 0,Mi,o),o.delete(e)),t}function Fi(t){return Ws(t)?void 0:t}function zi(t,e,n,r,i,o){var s=1&n,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(t),l=o.get(e);if(c&&l)return c==e&&l==t;var h=-1,f=!0,d=2&n?new Dn:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var p=t[h],g=e[h];if(r)var v=s?r(g,p,h,e,t,o):r(p,g,h,t,e,o);if(void 0!==v){if(v)continue;f=!1;break}if(d){if(!pe(e,(function(t,e){if(!Ce(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)}))){f=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function qi(t){return bo(fo(t,void 0,Po),t+"")}function Hi(t){return hr(t,_a,Qi)}function Bi(t){return hr(t,wa,Yi)}var Gi=mn?function(t){return mn.get(t)}:Xa;function $i(t){for(var e=t.name+"",n=yn[e],r=Et.call(yn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Wi(t){return(Et.call(kn,"placeholder")?kn:t).placeholder}function Ki(){var t=kn.iteratee||Wa;return t=t===Wa?Or:t,arguments.length?t(arguments[0],arguments[1]):t}function Ji(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Zi(t){for(var e=_a(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,lo(i)]}return e}function Xi(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return wr(n)?n:void 0}var Qi=Ye?function(t){return null==t?[]:(t=gt(t),ae(Ye(t),(function(e){return Kt.call(t,e)})))}:iu,Yi=Ye?function(t){for(var e=[];t;)he(e,Qi(t)),t=Gt(t);return e}:iu,to=fr;function eo(t,e,n){for(var r=-1,i=(e=oi(e,t)).length,o=!1;++r<i;){var s=To(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&qs(i)&&io(s,i)&&(Rs(t)||Ns(t))}function no(t){return"function"!=typeof t.constructor||co(t)?{}:In(Gt(t))}function ro(t){return Rs(t)||Ns(t)||!!(ge&&t&&t[ge])}function io(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&at.test(t))&&t>-1&&t%1==0&&t<e}function oo(t,e,n){if(!Hs(n))return!1;var r=typeof e;return!!("number"==r?Ds(n)&&io(e,n.length):"string"==r&&e in n)&&Cs(n[e],t)}function so(t,e){if(Rs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Xs(t))||H.test(t)||!q.test(t)||null!=e&&t in gt(e)}function ao(t){var e=$i(t),n=kn[e];if("function"!=typeof n||!(e in An.prototype))return!1;if(t===n)return!0;var r=Gi(n);return!!r&&t===r[0]}(hn&&to(new hn(new ArrayBuffer(1)))!=E||fn&&to(new fn)!=p||dn&&"[object Promise]"!=to(dn.resolve())||pn&&to(new pn)!=y||gn&&to(new gn)!=w)&&(to=function(t){var e=fr(t),n=e==v?t.constructor:void 0,r=n?ko(n):"";if(r)switch(r){case bn:return E;case _n:return p;case wn:return"[object Promise]";case On:return y;case En:return w}return e});var uo=wt?Fs:ou;function co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||_t)}function lo(t){return t==t&&!Hs(t)}function ho(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in gt(n))}}function fo(t,e,n){return e=on(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=on(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(a),ne(t,this,u)}}function po(t,e){return e.length<2?t:lr(t,Hr(e,0,-1))}function go(t,e){for(var n=t.length,r=sn(e.length,n),i=gi(t);r--;){var o=e[r];t[r]=io(o,n)?i[o]:void 0}return t}function vo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var mo=wo(Fr),yo=Ze||function(t,e){return Bt.setTimeout(t,e)},bo=wo(zr);function _o(t,e,n){var r=e+"";return bo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Z,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ie(s,(function(n){var r="_."+n[0];e&n[1]&&!ue(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(X);return e?e[1].split(Q):[]}(r),n)))}function wo(t){var e=0,n=0;return function(){var r=an(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Oo(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Pr(n,i),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}var Eo,xo,So=(Eo=Es((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(B,(function(t,n,r,i){e.push(r?i.replace(tt,"$1"):n||t)})),e}),(function(t){return 500===xo.size&&xo.clear(),t})),xo=Eo.cache,Eo);function To(t){if("string"==typeof t||Xs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ko(t){if(null!=t){try{return Ot.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Io(t){if(t instanceof An)return t.clone();var e=new jn(t.__wrapped__,t.__chain__);return e.__actions__=gi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Co=Lr((function(t,e){return Ls(t)?Qn(t,ir(e,1,Ls,!0)):[]})),jo=Lr((function(t,e){var n=Mo(e);return Ls(n)&&(n=void 0),Ls(t)?Qn(t,ir(e,1,Ls,!0),Ki(n,2)):[]})),Ao=Lr((function(t,e){var n=Mo(e);return Ls(n)&&(n=void 0),Ls(t)?Qn(t,ir(e,1,Ls,!0),void 0,n):[]}));function No(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ra(n);return i<0&&(i=on(r+i,0)),me(t,Ki(e,3),i)}function Ro(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ra(n),i=n<0?on(r+i,0):sn(i,r-1)),me(t,Ki(e,3),i,!0)}function Po(t){return null!=t&&t.length?ir(t,1):[]}function Do(t){return t&&t.length?t[0]:void 0}var Lo=Lr((function(t){var e=le(t,ri);return e.length&&e[0]===t[0]?vr(e):[]})),Uo=Lr((function(t){var e=Mo(t),n=le(t,ri);return e===Mo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?vr(n,Ki(e,2)):[]})),Vo=Lr((function(t){var e=Mo(t),n=le(t,ri);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?vr(n,void 0,e):[]}));function Mo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Fo=Lr(zo);function zo(t,e){return t&&t.length&&e&&e.length?Nr(t,e):t}var qo=qi((function(t,e){var n=null==t?0:t.length,r=Wn(t,e);return Rr(t,le(e,(function(t){return io(t,n)?+t:t})).sort(fi)),r}));function Ho(t){return null==t?t:ln.call(t)}var Bo=Lr((function(t){return Zr(ir(t,1,Ls,!0))})),Go=Lr((function(t){var e=Mo(t);return Ls(e)&&(e=void 0),Zr(ir(t,1,Ls,!0),Ki(e,2))})),$o=Lr((function(t){var e=Mo(t);return e="function"==typeof e?e:void 0,Zr(ir(t,1,Ls,!0),void 0,e)}));function Wo(t){if(!t||!t.length)return[];var e=0;return t=ae(t,(function(t){if(Ls(t))return e=on(t.length,e),!0})),Te(e,(function(e){return le(t,Oe(e))}))}function Ko(t,e){if(!t||!t.length)return[];var n=Wo(t);return null==e?n:le(n,(function(t){return ne(e,void 0,t)}))}var Jo=Lr((function(t,e){return Ls(t)?Qn(t,e):[]})),Zo=Lr((function(t){return ei(ae(t,Ls))})),Xo=Lr((function(t){var e=Mo(t);return Ls(e)&&(e=void 0),ei(ae(t,Ls),Ki(e,2))})),Qo=Lr((function(t){var e=Mo(t);return e="function"==typeof e?e:void 0,ei(ae(t,Ls),void 0,e)})),Yo=Lr(Wo),ts=Lr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Ko(t,n)}));function es(t){var e=kn(t);return e.__chain__=!0,e}function ns(t,e){return e(t)}var rs=qi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Wn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof An&&io(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ns,args:[i],thisArg:void 0}),new jn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)})),is=mi((function(t,e,n){Et.call(t,n)?++t[n]:$n(t,n,1)})),os=xi(No),ss=xi(Ro);function as(t,e){return(Rs(t)?ie:Yn)(t,Ki(e,3))}function us(t,e){return(Rs(t)?oe:tr)(t,Ki(e,3))}var cs=mi((function(t,e,n){Et.call(t,n)?t[n].push(e):$n(t,n,[e])})),ls=Lr((function(t,e,n){var i=-1,o="function"==typeof e,s=Ds(t)?r(t.length):[];return Yn(t,(function(t){s[++i]=o?ne(e,t,n):mr(t,e,n)})),s})),hs=mi((function(t,e,n){$n(t,n,e)}));function fs(t,e){return(Rs(t)?le:Sr)(t,Ki(e,3))}var ds=mi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),ps=Lr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&oo(t,e[0],e[1])?e=[]:n>2&&oo(e[0],e[1],e[2])&&(e=[e[0]]),jr(t,ir(e,1),[])})),gs=Je||function(){return Bt.Date.now()};function vs(t,e,n){return e=n?void 0:e,Ui(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ms(t,e){var n;if("function"!=typeof e)throw new yt(i);return t=ra(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ys=Lr((function(t,e,n){var r=1;if(n.length){var i=Me(n,Wi(ys));r|=32}return Ui(t,r,e,n,i)})),bs=Lr((function(t,e,n){var r=3;if(n.length){var i=Me(n,Wi(bs));r|=32}return Ui(e,r,t,n,i)}));function _s(t,e,n){var r,o,s,a,u,c,l=0,h=!1,f=!1,d=!0;if("function"!=typeof t)throw new yt(i);function p(e){var n=r,i=o;return r=o=void 0,l=e,a=t.apply(i,n)}function g(t){return l=t,u=yo(m,e),h?p(t):a}function v(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-l>=s}function m(){var t=gs();if(v(t))return y(t);u=yo(m,function(t){var n=e-(t-c);return f?sn(n,s-(t-l)):n}(t))}function y(t){return u=void 0,d&&r?p(t):(r=o=void 0,a)}function b(){var t=gs(),n=v(t);if(r=arguments,o=this,c=t,n){if(void 0===u)return g(c);if(f)return ui(u),u=yo(m,e),p(c)}return void 0===u&&(u=yo(m,e)),a}return e=oa(e)||0,Hs(n)&&(h=!!n.leading,s=(f="maxWait"in n)?on(oa(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==u&&ui(u),l=0,r=c=o=u=void 0},b.flush=function(){return void 0===u?a:y(gs())},b}var ws=Lr((function(t,e){return Xn(t,1,e)})),Os=Lr((function(t,e,n){return Xn(t,oa(e)||0,n)}));function Es(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new yt(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Es.Cache||Pn),n}function xs(t){if("function"!=typeof t)throw new yt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Es.Cache=Pn;var Ss=si((function(t,e){var n=(e=1==e.length&&Rs(e[0])?le(e[0],ke(Ki())):le(ir(e,1),ke(Ki()))).length;return Lr((function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return ne(t,this,r)}))})),Ts=Lr((function(t,e){return Ui(t,32,void 0,e,Me(e,Wi(Ts)))})),ks=Lr((function(t,e){return Ui(t,64,void 0,e,Me(e,Wi(ks)))})),Is=qi((function(t,e){return Ui(t,256,void 0,void 0,void 0,e)}));function Cs(t,e){return t===e||t!=t&&e!=e}var js=Ni(dr),As=Ni((function(t,e){return t>=e})),Ns=yr(function(){return arguments}())?yr:function(t){return Bs(t)&&Et.call(t,"callee")&&!Kt.call(t,"callee")},Rs=r.isArray,Ps=Zt?ke(Zt):function(t){return Bs(t)&&fr(t)==O};function Ds(t){return null!=t&&qs(t.length)&&!Fs(t)}function Ls(t){return Bs(t)&&Ds(t)}var Us=tn||ou,Vs=Xt?ke(Xt):function(t){return Bs(t)&&fr(t)==l};function Ms(t){if(!Bs(t))return!1;var e=fr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ws(t)}function Fs(t){if(!Hs(t))return!1;var e=fr(t);return e==f||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function zs(t){return"number"==typeof t&&t==ra(t)}function qs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Hs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Bs(t){return null!=t&&"object"==typeof t}var Gs=Qt?ke(Qt):function(t){return Bs(t)&&to(t)==p};function $s(t){return"number"==typeof t||Bs(t)&&fr(t)==g}function Ws(t){if(!Bs(t)||fr(t)!=v)return!1;var e=Gt(t);if(null===e)return!0;var n=Et.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ot.call(n)==kt}var Ks=Yt?ke(Yt):function(t){return Bs(t)&&fr(t)==m},Js=te?ke(te):function(t){return Bs(t)&&to(t)==y};function Zs(t){return"string"==typeof t||!Rs(t)&&Bs(t)&&fr(t)==b}function Xs(t){return"symbol"==typeof t||Bs(t)&&fr(t)==_}var Qs=ee?ke(ee):function(t){return Bs(t)&&qs(t.length)&&!!Ut[fr(t)]},Ys=Ni(xr),ta=Ni((function(t,e){return t<=e}));function ea(t){if(!t)return[];if(Ds(t))return Zs(t)?He(t):gi(t);if(Ee&&t[Ee])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Ee]());var e=to(t);return(e==p?Ue:e==y?Fe:Ca)(t)}function na(t){return t?(t=oa(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ra(t){var e=na(t),n=e%1;return e==e?n?e-n:e:0}function ia(t){return t?Kn(ra(t),0,4294967295):0}function oa(t){if("number"==typeof t)return t;if(Xs(t))return NaN;if(Hs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Hs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(W,"");var n=it.test(t);return n||st.test(t)?zt(t.slice(2),n?2:8):rt.test(t)?NaN:+t}function sa(t){return vi(t,wa(t))}function aa(t){return null==t?"":Jr(t)}var ua=yi((function(t,e){if(co(e)||Ds(e))vi(e,_a(e),t);else for(var n in e)Et.call(e,n)&&qn(t,n,e[n])})),ca=yi((function(t,e){vi(e,wa(e),t)})),la=yi((function(t,e,n,r){vi(e,wa(e),t,r)})),ha=yi((function(t,e,n,r){vi(e,_a(e),t,r)})),fa=qi(Wn),da=Lr((function(t,e){t=gt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&oo(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=wa(o),a=-1,u=s.length;++a<u;){var c=s[a],l=t[c];(void 0===l||Cs(l,_t[c])&&!Et.call(t,c))&&(t[c]=o[c])}return t})),pa=Lr((function(t){return t.push(void 0,Mi),ne(Ea,void 0,t)}));function ga(t,e,n){var r=null==t?void 0:lr(t,e);return void 0===r?n:r}function va(t,e){return null!=t&&eo(t,e,gr)}var ma=ki((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Tt.call(e)),t[e]=n}),Ha($a)),ya=ki((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Tt.call(e)),Et.call(t,e)?t[e].push(n):t[e]=[n]}),Ki),ba=Lr(mr);function _a(t){return Ds(t)?Un(t):Er(t)}function wa(t){return Ds(t)?Un(t,!0):function(t){if(!Hs(t))return function(t){var e=[];if(null!=t)for(var n in gt(t))e.push(n);return e}(t);var e=co(t),n=[];for(var r in t)("constructor"!=r||!e&&Et.call(t,r))&&n.push(r);return n}(t)}var Oa=yi((function(t,e,n){Ir(t,e,n)})),Ea=yi((function(t,e,n,r){Ir(t,e,n,r)})),xa=qi((function(t,e){var n={};if(null==t)return n;var r=!1;e=le(e,(function(e){return e=oi(e,t),r||(r=e.length>1),e})),vi(t,Bi(t),n),r&&(n=Jn(n,7,Fi));for(var i=e.length;i--;)Xr(n,e[i]);return n})),Sa=qi((function(t,e){return null==t?{}:function(t,e){return Ar(t,e,(function(e,n){return va(t,n)}))}(t,e)}));function Ta(t,e){if(null==t)return{};var n=le(Bi(t),(function(t){return[t]}));return e=Ki(e),Ar(t,n,(function(t,n){return e(t,n[0])}))}var ka=Li(_a),Ia=Li(wa);function Ca(t){return null==t?[]:Ie(t,_a(t))}var ja=Oi((function(t,e,n){return e=e.toLowerCase(),t+(n?Aa(e):e)}));function Aa(t){return Ma(aa(t).toLowerCase())}function Na(t){return(t=aa(t))&&t.replace(ut,Re).replace(jt,"")}var Ra=Oi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Pa=Oi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Da=wi("toLowerCase"),La=Oi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Ua=Oi((function(t,e,n){return t+(n?" ":"")+Ma(e)})),Va=Oi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ma=wi("toUpperCase");function Fa(t,e,n){return t=aa(t),void 0===(e=n?void 0:e)?function(t){return Pt.test(t)}(t)?function(t){return t.match(Nt)||[]}(t):function(t){return t.match(Y)||[]}(t):t.match(e)||[]}var za=Lr((function(t,e){try{return ne(t,void 0,e)}catch(n){return Ms(n)?n:new ft(n)}})),qa=qi((function(t,e){return ie(e,(function(e){e=To(e),$n(t,e,ys(t[e],t))})),t}));function Ha(t){return function(){return t}}var Ba=Si(),Ga=Si(!0);function $a(t){return t}function Wa(t){return Or("function"==typeof t?t:Jn(t,1))}var Ka=Lr((function(t,e){return function(n){return mr(n,t,e)}})),Ja=Lr((function(t,e){return function(n){return mr(t,n,e)}}));function Za(t,e,n){var r=_a(e),i=cr(e,r);null!=n||Hs(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=cr(e,_a(e)));var o=!(Hs(n)&&"chain"in n&&!n.chain),s=Fs(t);return ie(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,he([this.value()],arguments))})})),t}function Xa(){}var Qa=Ci(le),Ya=Ci(se),tu=Ci(pe);function eu(t){return so(t)?Oe(To(t)):function(t){return function(e){return lr(e,t)}}(t)}var nu=Ai(),ru=Ai(!0);function iu(){return[]}function ou(){return!1}var su,au=Ii((function(t,e){return t+e}),0),uu=Pi("ceil"),cu=Ii((function(t,e){return t/e}),1),lu=Pi("floor"),hu=Ii((function(t,e){return t*e}),1),fu=Pi("round"),du=Ii((function(t,e){return t-e}),0);return kn.after=function(t,e){if("function"!=typeof e)throw new yt(i);return t=ra(t),function(){if(--t<1)return e.apply(this,arguments)}},kn.ary=vs,kn.assign=ua,kn.assignIn=ca,kn.assignInWith=la,kn.assignWith=ha,kn.at=fa,kn.before=ms,kn.bind=ys,kn.bindAll=qa,kn.bindKey=bs,kn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Rs(t)?t:[t]},kn.chain=es,kn.chunk=function(t,e,n){e=(n?oo(t,e,n):void 0===e)?1:on(ra(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,s=0,a=r(Xe(i/e));o<i;)a[s++]=Hr(t,o,o+=e);return a},kn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},kn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return he(Rs(n)?gi(n):[n],ir(e,1))},kn.cond=function(t){var e=null==t?0:t.length,n=Ki();return t=e?le(t,(function(t){if("function"!=typeof t[1])throw new yt(i);return[n(t[0]),t[1]]})):[],Lr((function(n){for(var r=-1;++r<e;){var i=t[r];if(ne(i[0],this,n))return ne(i[1],this,n)}}))},kn.conforms=function(t){return function(t){var e=_a(t);return function(n){return Zn(n,t,e)}}(Jn(t,1))},kn.constant=Ha,kn.countBy=is,kn.create=function(t,e){var n=In(t);return null==e?n:Gn(n,e)},kn.curry=function t(e,n,r){var i=Ui(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},kn.curryRight=function t(e,n,r){var i=Ui(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},kn.debounce=_s,kn.defaults=da,kn.defaultsDeep=pa,kn.defer=ws,kn.delay=Os,kn.difference=Co,kn.differenceBy=jo,kn.differenceWith=Ao,kn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=n||void 0===e?1:ra(e))<0?0:e,r):[]},kn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,0,(e=r-(e=n||void 0===e?1:ra(e)))<0?0:e):[]},kn.dropRightWhile=function(t,e){return t&&t.length?Yr(t,Ki(e,3),!0,!0):[]},kn.dropWhile=function(t,e){return t&&t.length?Yr(t,Ki(e,3),!0):[]},kn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&oo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ra(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ra(r))<0&&(r+=i),r=n>r?0:ia(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},kn.filter=function(t,e){return(Rs(t)?ae:rr)(t,Ki(e,3))},kn.flatMap=function(t,e){return ir(fs(t,e),1)},kn.flatMapDeep=function(t,e){return ir(fs(t,e),1/0)},kn.flatMapDepth=function(t,e,n){return n=void 0===n?1:ra(n),ir(fs(t,e),n)},kn.flatten=Po,kn.flattenDeep=function(t){return null!=t&&t.length?ir(t,1/0):[]},kn.flattenDepth=function(t,e){return null!=t&&t.length?ir(t,e=void 0===e?1:ra(e)):[]},kn.flip=function(t){return Ui(t,512)},kn.flow=Ba,kn.flowRight=Ga,kn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},kn.functions=function(t){return null==t?[]:cr(t,_a(t))},kn.functionsIn=function(t){return null==t?[]:cr(t,wa(t))},kn.groupBy=cs,kn.initial=function(t){return null!=t&&t.length?Hr(t,0,-1):[]},kn.intersection=Lo,kn.intersectionBy=Uo,kn.intersectionWith=Vo,kn.invert=ma,kn.invertBy=ya,kn.invokeMap=ls,kn.iteratee=Wa,kn.keyBy=hs,kn.keys=_a,kn.keysIn=wa,kn.map=fs,kn.mapKeys=function(t,e){var n={};return e=Ki(e,3),ar(t,(function(t,r,i){$n(n,e(t,r,i),t)})),n},kn.mapValues=function(t,e){var n={};return e=Ki(e,3),ar(t,(function(t,r,i){$n(n,r,e(t,r,i))})),n},kn.matches=function(t){return Tr(Jn(t,1))},kn.matchesProperty=function(t,e){return kr(t,Jn(e,1))},kn.memoize=Es,kn.merge=Oa,kn.mergeWith=Ea,kn.method=Ka,kn.methodOf=Ja,kn.mixin=Za,kn.negate=xs,kn.nthArg=function(t){return t=ra(t),Lr((function(e){return Cr(e,t)}))},kn.omit=xa,kn.omitBy=function(t,e){return Ta(t,xs(Ki(e)))},kn.once=function(t){return ms(2,t)},kn.orderBy=function(t,e,n,r){return null==t?[]:(Rs(e)||(e=null==e?[]:[e]),Rs(n=r?void 0:n)||(n=null==n?[]:[n]),jr(t,e,n))},kn.over=Qa,kn.overArgs=Ss,kn.overEvery=Ya,kn.overSome=tu,kn.partial=Ts,kn.partialRight=ks,kn.partition=ds,kn.pick=Sa,kn.pickBy=Ta,kn.property=eu,kn.propertyOf=function(t){return function(e){return null==t?void 0:lr(t,e)}},kn.pull=Fo,kn.pullAll=zo,kn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Nr(t,e,Ki(n,2)):t},kn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Nr(t,e,void 0,n):t},kn.pullAt=qo,kn.range=nu,kn.rangeRight=ru,kn.rearg=Is,kn.reject=function(t,e){return(Rs(t)?ae:rr)(t,xs(Ki(e,3)))},kn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Ki(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Rr(t,i),n},kn.rest=function(t,e){if("function"!=typeof t)throw new yt(i);return Lr(t,e=void 0===e?e:ra(e))},kn.reverse=Ho,kn.sampleSize=function(t,e,n){return e=(n?oo(t,e,n):void 0===e)?1:ra(e),(Rs(t)?Mn:Vr)(t,e)},kn.set=function(t,e,n){return null==t?t:Mr(t,e,n)},kn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Mr(t,e,n,r)},kn.shuffle=function(t){return(Rs(t)?Fn:qr)(t)},kn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&oo(t,e,n)?(e=0,n=r):(e=null==e?0:ra(e),n=void 0===n?r:ra(n)),Hr(t,e,n)):[]},kn.sortBy=ps,kn.sortedUniq=function(t){return t&&t.length?Wr(t):[]},kn.sortedUniqBy=function(t,e){return t&&t.length?Wr(t,Ki(e,2)):[]},kn.split=function(t,e,n){return n&&"number"!=typeof n&&oo(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=aa(t))&&("string"==typeof e||null!=e&&!Ks(e))&&!(e=Jr(e))&&Le(t)?ai(He(t),0,n):t.split(e,n):[]},kn.spread=function(t,e){if("function"!=typeof t)throw new yt(i);return e=null==e?0:on(ra(e),0),Lr((function(n){var r=n[e],i=ai(n,0,e);return r&&he(i,r),ne(t,this,i)}))},kn.tail=function(t){var e=null==t?0:t.length;return e?Hr(t,1,e):[]},kn.take=function(t,e,n){return t&&t.length?Hr(t,0,(e=n||void 0===e?1:ra(e))<0?0:e):[]},kn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=r-(e=n||void 0===e?1:ra(e)))<0?0:e,r):[]},kn.takeRightWhile=function(t,e){return t&&t.length?Yr(t,Ki(e,3),!1,!0):[]},kn.takeWhile=function(t,e){return t&&t.length?Yr(t,Ki(e,3)):[]},kn.tap=function(t,e){return e(t),t},kn.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new yt(i);return Hs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),_s(t,e,{leading:r,maxWait:e,trailing:o})},kn.thru=ns,kn.toArray=ea,kn.toPairs=ka,kn.toPairsIn=Ia,kn.toPath=function(t){return Rs(t)?le(t,To):Xs(t)?[t]:gi(So(aa(t)))},kn.toPlainObject=sa,kn.transform=function(t,e,n){var r=Rs(t),i=r||Us(t)||Qs(t);if(e=Ki(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Hs(t)&&Fs(o)?In(Gt(t)):{}}return(i?ie:ar)(t,(function(t,r,i){return e(n,t,r,i)})),n},kn.unary=function(t){return vs(t,1)},kn.union=Bo,kn.unionBy=Go,kn.unionWith=$o,kn.uniq=function(t){return t&&t.length?Zr(t):[]},kn.uniqBy=function(t,e){return t&&t.length?Zr(t,Ki(e,2)):[]},kn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Zr(t,void 0,e):[]},kn.unset=function(t,e){return null==t||Xr(t,e)},kn.unzip=Wo,kn.unzipWith=Ko,kn.update=function(t,e,n){return null==t?t:Qr(t,e,ii(n))},kn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Qr(t,e,ii(n),r)},kn.values=Ca,kn.valuesIn=function(t){return null==t?[]:Ie(t,wa(t))},kn.without=Jo,kn.words=Fa,kn.wrap=function(t,e){return Ts(ii(e),t)},kn.xor=Zo,kn.xorBy=Xo,kn.xorWith=Qo,kn.zip=Yo,kn.zipObject=function(t,e){return ni(t||[],e||[],qn)},kn.zipObjectDeep=function(t,e){return ni(t||[],e||[],Mr)},kn.zipWith=ts,kn.entries=ka,kn.entriesIn=Ia,kn.extend=ca,kn.extendWith=la,Za(kn,kn),kn.add=au,kn.attempt=za,kn.camelCase=ja,kn.capitalize=Aa,kn.ceil=uu,kn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=oa(n))==n?n:0),void 0!==e&&(e=(e=oa(e))==e?e:0),Kn(oa(t),e,n)},kn.clone=function(t){return Jn(t,4)},kn.cloneDeep=function(t){return Jn(t,5)},kn.cloneDeepWith=function(t,e){return Jn(t,5,e="function"==typeof e?e:void 0)},kn.cloneWith=function(t,e){return Jn(t,4,e="function"==typeof e?e:void 0)},kn.conformsTo=function(t,e){return null==e||Zn(t,e,_a(e))},kn.deburr=Na,kn.defaultTo=function(t,e){return null==t||t!=t?e:t},kn.divide=cu,kn.endsWith=function(t,e,n){t=aa(t),e=Jr(e);var r=t.length,i=n=void 0===n?r:Kn(ra(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},kn.eq=Cs,kn.escape=function(t){return(t=aa(t))&&V.test(t)?t.replace(L,Pe):t},kn.escapeRegExp=function(t){return(t=aa(t))&&$.test(t)?t.replace(G,"\\$&"):t},kn.every=function(t,e,n){var r=Rs(t)?se:er;return n&&oo(t,e,n)&&(e=void 0),r(t,Ki(e,3))},kn.find=os,kn.findIndex=No,kn.findKey=function(t,e){return ve(t,Ki(e,3),ar)},kn.findLast=ss,kn.findLastIndex=Ro,kn.findLastKey=function(t,e){return ve(t,Ki(e,3),ur)},kn.floor=lu,kn.forEach=as,kn.forEachRight=us,kn.forIn=function(t,e){return null==t?t:or(t,Ki(e,3),wa)},kn.forInRight=function(t,e){return null==t?t:sr(t,Ki(e,3),wa)},kn.forOwn=function(t,e){return t&&ar(t,Ki(e,3))},kn.forOwnRight=function(t,e){return t&&ur(t,Ki(e,3))},kn.get=ga,kn.gt=js,kn.gte=As,kn.has=function(t,e){return null!=t&&eo(t,e,pr)},kn.hasIn=va,kn.head=Do,kn.identity=$a,kn.includes=function(t,e,n,r){t=Ds(t)?t:Ca(t),n=n&&!r?ra(n):0;var i=t.length;return n<0&&(n=on(i+n,0)),Zs(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&ye(t,e,n)>-1},kn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ra(n);return i<0&&(i=on(r+i,0)),ye(t,e,i)},kn.inRange=function(t,e,n){return e=na(e),void 0===n?(n=e,e=0):n=na(n),function(t,e,n){return t>=sn(e,n)&&t<on(e,n)}(t=oa(t),e,n)},kn.invoke=ba,kn.isArguments=Ns,kn.isArray=Rs,kn.isArrayBuffer=Ps,kn.isArrayLike=Ds,kn.isArrayLikeObject=Ls,kn.isBoolean=function(t){return!0===t||!1===t||Bs(t)&&fr(t)==c},kn.isBuffer=Us,kn.isDate=Vs,kn.isElement=function(t){return Bs(t)&&1===t.nodeType&&!Ws(t)},kn.isEmpty=function(t){if(null==t)return!0;if(Ds(t)&&(Rs(t)||"string"==typeof t||"function"==typeof t.splice||Us(t)||Qs(t)||Ns(t)))return!t.length;var e=to(t);if(e==p||e==y)return!t.size;if(co(t))return!Er(t).length;for(var n in t)if(Et.call(t,n))return!1;return!0},kn.isEqual=function(t,e){return br(t,e)},kn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?br(t,e,void 0,n):!!r},kn.isError=Ms,kn.isFinite=function(t){return"number"==typeof t&&en(t)},kn.isFunction=Fs,kn.isInteger=zs,kn.isLength=qs,kn.isMap=Gs,kn.isMatch=function(t,e){return t===e||_r(t,e,Zi(e))},kn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,_r(t,e,Zi(e),n)},kn.isNaN=function(t){return $s(t)&&t!=+t},kn.isNative=function(t){if(uo(t))throw new ft("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wr(t)},kn.isNil=function(t){return null==t},kn.isNull=function(t){return null===t},kn.isNumber=$s,kn.isObject=Hs,kn.isObjectLike=Bs,kn.isPlainObject=Ws,kn.isRegExp=Ks,kn.isSafeInteger=function(t){return zs(t)&&t>=-9007199254740991&&t<=9007199254740991},kn.isSet=Js,kn.isString=Zs,kn.isSymbol=Xs,kn.isTypedArray=Qs,kn.isUndefined=function(t){return void 0===t},kn.isWeakMap=function(t){return Bs(t)&&to(t)==w},kn.isWeakSet=function(t){return Bs(t)&&"[object WeakSet]"==fr(t)},kn.join=function(t,e){return null==t?"":nn.call(t,e)},kn.kebabCase=Ra,kn.last=Mo,kn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ra(n))<0?on(r+i,0):sn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):me(t,_e,i,!0)},kn.lowerCase=Pa,kn.lowerFirst=Da,kn.lt=Ys,kn.lte=ta,kn.max=function(t){return t&&t.length?nr(t,$a,dr):void 0},kn.maxBy=function(t,e){return t&&t.length?nr(t,Ki(e,2),dr):void 0},kn.mean=function(t){return we(t,$a)},kn.meanBy=function(t,e){return we(t,Ki(e,2))},kn.min=function(t){return t&&t.length?nr(t,$a,xr):void 0},kn.minBy=function(t,e){return t&&t.length?nr(t,Ki(e,2),xr):void 0},kn.stubArray=iu,kn.stubFalse=ou,kn.stubObject=function(){return{}},kn.stubString=function(){return""},kn.stubTrue=function(){return!0},kn.multiply=hu,kn.nth=function(t,e){return t&&t.length?Cr(t,ra(e)):void 0},kn.noConflict=function(){return Bt._===this&&(Bt._=It),this},kn.noop=Xa,kn.now=gs,kn.pad=function(t,e,n){t=aa(t);var r=(e=ra(e))?qe(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return ji(Qe(i),n)+t+ji(Xe(i),n)},kn.padEnd=function(t,e,n){t=aa(t);var r=(e=ra(e))?qe(t):0;return e&&r<e?t+ji(e-r,n):t},kn.padStart=function(t,e,n){t=aa(t);var r=(e=ra(e))?qe(t):0;return e&&r<e?ji(e-r,n)+t:t},kn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),un(aa(t).replace(K,""),e||0)},kn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&oo(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=na(t),void 0===e?(e=t,t=0):e=na(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=cn();return sn(t+i*(e-t+Ft("1e-"+((i+"").length-1))),e)}return Pr(t,e)},kn.reduce=function(t,e,n){var r=Rs(t)?fe:xe,i=arguments.length<3;return r(t,Ki(e,4),n,i,Yn)},kn.reduceRight=function(t,e,n){var r=Rs(t)?de:xe,i=arguments.length<3;return r(t,Ki(e,4),n,i,tr)},kn.repeat=function(t,e,n){return e=(n?oo(t,e,n):void 0===e)?1:ra(e),Dr(aa(t),e)},kn.replace=function(){var t=arguments,e=aa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},kn.result=function(t,e,n){var r=-1,i=(e=oi(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[To(e[r])];void 0===o&&(r=i,o=n),t=Fs(o)?o.call(t):o}return t},kn.round=fu,kn.runInContext=t,kn.sample=function(t){return(Rs(t)?Vn:Ur)(t)},kn.size=function(t){if(null==t)return 0;if(Ds(t))return Zs(t)?qe(t):t.length;var e=to(t);return e==p||e==y?t.size:Er(t).length},kn.snakeCase=La,kn.some=function(t,e,n){var r=Rs(t)?pe:Br;return n&&oo(t,e,n)&&(e=void 0),r(t,Ki(e,3))},kn.sortedIndex=function(t,e){return Gr(t,e)},kn.sortedIndexBy=function(t,e,n){return $r(t,e,Ki(n,2))},kn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Gr(t,e);if(r<n&&Cs(t[r],e))return r}return-1},kn.sortedLastIndex=function(t,e){return Gr(t,e,!0)},kn.sortedLastIndexBy=function(t,e,n){return $r(t,e,Ki(n,2),!0)},kn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Gr(t,e,!0)-1;if(Cs(t[n],e))return n}return-1},kn.startCase=Ua,kn.startsWith=function(t,e,n){return t=aa(t),n=null==n?0:Kn(ra(n),0,t.length),e=Jr(e),t.slice(n,n+e.length)==e},kn.subtract=du,kn.sum=function(t){return t&&t.length?Se(t,$a):0},kn.sumBy=function(t,e){return t&&t.length?Se(t,Ki(e,2)):0},kn.template=function(t,e,n){var r=kn.templateSettings;n&&oo(t,e,n)&&(e=void 0),t=aa(t),e=la({},e,r,Vi);var i,o,s=la({},e.imports,r.imports,Vi),a=_a(s),u=Ie(s,a),c=0,l=e.interpolate||ct,h="__p += '",f=vt((e.escape||ct).source+"|"+l.source+"|"+(l===z?et:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),d="//# sourceURL="+(Et.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Lt+"]")+"\n";t.replace(f,(function(e,n,r,s,a,u){return r||(r=s),h+=t.slice(c,u).replace(lt,De),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),h+="';\n";var p=Et.call(e,"variable")&&e.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(N,""):h).replace(R,"$1").replace(P,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=za((function(){return dt(a,d+"return "+h).apply(void 0,u)}));if(g.source=h,Ms(g))throw g;return g},kn.times=function(t,e){if((t=ra(t))<1||t>9007199254740991)return[];var n=4294967295,r=sn(t,4294967295);t-=4294967295;for(var i=Te(r,e=Ki(e));++n<t;)e(n);return i},kn.toFinite=na,kn.toInteger=ra,kn.toLength=ia,kn.toLower=function(t){return aa(t).toLowerCase()},kn.toNumber=oa,kn.toSafeInteger=function(t){return t?Kn(ra(t),-9007199254740991,9007199254740991):0===t?t:0},kn.toString=aa,kn.toUpper=function(t){return aa(t).toUpperCase()},kn.trim=function(t,e,n){if((t=aa(t))&&(n||void 0===e))return t.replace(W,"");if(!t||!(e=Jr(e)))return t;var r=He(t),i=He(e);return ai(r,je(r,i),Ae(r,i)+1).join("")},kn.trimEnd=function(t,e,n){if((t=aa(t))&&(n||void 0===e))return t.replace(J,"");if(!t||!(e=Jr(e)))return t;var r=He(t);return ai(r,0,Ae(r,He(e))+1).join("")},kn.trimStart=function(t,e,n){if((t=aa(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=Jr(e)))return t;var r=He(t);return ai(r,je(r,He(e))).join("")},kn.truncate=function(t,e){var n=30,r="...";if(Hs(e)){var i="separator"in e?e.separator:i;n="length"in e?ra(e.length):n,r="omission"in e?Jr(e.omission):r}var o=(t=aa(t)).length;if(Le(t)){var s=He(t);o=s.length}if(n>=o)return t;var a=n-qe(r);if(a<1)return r;var u=s?ai(s,0,a).join(""):t.slice(0,a);if(void 0===i)return u+r;if(s&&(a+=u.length-a),Ks(i)){if(t.slice(a).search(i)){var c,l=u;for(i.global||(i=vt(i.source,aa(nt.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var h=c.index;u=u.slice(0,void 0===h?a:h)}}else if(t.indexOf(Jr(i),a)!=a){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},kn.unescape=function(t){return(t=aa(t))&&U.test(t)?t.replace(D,Be):t},kn.uniqueId=function(t){var e=++xt;return aa(t)+e},kn.upperCase=Va,kn.upperFirst=Ma,kn.each=as,kn.eachRight=us,kn.first=Do,Za(kn,(su={},ar(kn,(function(t,e){Et.call(kn.prototype,e)||(su[e]=t)})),su),{chain:!1}),kn.VERSION="4.17.20",ie(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){kn[t].placeholder=kn})),ie(["drop","take"],(function(t,e){An.prototype[t]=function(n){n=void 0===n?1:on(ra(n),0);var r=this.__filtered__&&!e?new An(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},An.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ie(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;An.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ki(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ie(["head","last"],(function(t,e){var n="take"+(e?"Right":"");An.prototype[t]=function(){return this[n](1).value()[0]}})),ie(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");An.prototype[t]=function(){return this.__filtered__?new An(this):this[n](1)}})),An.prototype.compact=function(){return this.filter($a)},An.prototype.find=function(t){return this.filter(t).head()},An.prototype.findLast=function(t){return this.reverse().find(t)},An.prototype.invokeMap=Lr((function(t,e){return"function"==typeof t?new An(this):this.map((function(n){return mr(n,t,e)}))})),An.prototype.reject=function(t){return this.filter(xs(Ki(t)))},An.prototype.slice=function(t,e){t=ra(t);var n=this;return n.__filtered__&&(t>0||e<0)?new An(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ra(e))<0?n.dropRight(-e):n.take(e-t)),n)},An.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},An.prototype.toArray=function(){return this.take(4294967295)},ar(An.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=kn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(kn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,a=e instanceof An,u=s[0],c=a||Rs(e),l=function(t){var e=i.apply(kn,he([t],s));return r&&h?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(a=c=!1);var h=this.__chain__,f=!!this.__actions__.length,d=o&&!h,p=a&&!f;if(!o&&c){e=p?e:new An(this);var g=t.apply(e,s);return g.__actions__.push({func:ns,args:[l],thisArg:void 0}),new jn(g,h)}return d&&p?t.apply(this,s):(g=this.thru(l),d?r?g.value()[0]:g.value():g)})})),ie(["pop","push","shift","sort","splice","unshift"],(function(t){var e=bt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);kn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Rs(i)?i:[],t)}return this[n]((function(n){return e.apply(Rs(n)?n:[],t)}))}})),ar(An.prototype,(function(t,e){var n=kn[e];if(n){var r=n.name+"";Et.call(yn,r)||(yn[r]=[]),yn[r].push({name:e,func:n})}})),yn[Ti(void 0,2).name]=[{name:"wrapper",func:void 0}],An.prototype.clone=function(){var t=new An(this.__wrapped__);return t.__actions__=gi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gi(this.__views__),t},An.prototype.reverse=function(){if(this.__filtered__){var t=new An(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},An.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Rs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=sn(e,t+s);break;case"takeRight":t=on(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,h=l.length,f=0,d=sn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ti(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var g=-1,v=t[c+=e];++g<h;){var m=l[g],y=m.type,b=(0,m.iteratee)(v);if(2==y)v=b;else if(!b){if(1==y)continue t;break t}}p[f++]=v}return p},kn.prototype.at=rs,kn.prototype.chain=function(){return es(this)},kn.prototype.commit=function(){return new jn(this.value(),this.__chain__)},kn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ea(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},kn.prototype.plant=function(t){for(var e,n=this;n instanceof Cn;){var r=Io(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},kn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof An){var e=t;return this.__actions__.length&&(e=new An(this)),(e=e.reverse()).__actions__.push({func:ns,args:[Ho],thisArg:void 0}),new jn(e,this.__chain__)}return this.thru(Ho)},kn.prototype.toJSON=kn.prototype.valueOf=kn.prototype.value=function(){return ti(this.__wrapped__,this.__actions__)},kn.prototype.first=kn.prototype.head,Ee&&(kn.prototype[Ee]=function(){return this}),kn}();Bt._=Ge,void 0===(r=(function(){return Ge}).call(e,n,e,t))||(t.exports=r)}).call(this)}).call(this,n("YuTi")(t))},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},OnMO:function(t,e,n){t.exports=function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,n){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,void 0):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}var r=function(t,e){return function(t){t.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},changeDefaults:function(e){t.exports.defaults=e}}}(e={exports:{}}),e.exports}(),i=/[&<>"']/,o=/[&<>"']/g,s=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=function(t){return u[t]},l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(t){return t.replace(l,(function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))}var f=/(^|[^\[])\^/g,d=/[^\w:]/g,p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,g={},v=/^[^:]+:\/*[^/]*$/,m=/^([^:]+:)[\s\S]*$/,y=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(t,e,n){var r=t.length;if(0===r)return"";for(var i=0;i<r;){var o=t.charAt(r-i-1);if(o!==e||n){if(o===e||!n)break;i++}else i++}return t.substr(0,r-i)}var _=function(t,e){if(e){if(i.test(t))return t.replace(o,c)}else if(s.test(t))return t.replace(a,c);return t},w=h,O=function(t){for(var e,n,r=1;r<arguments.length;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},E=r.defaults,x=b,S=function(t,e){var n=t.replace(/\|/g,(function(t,e,n){for(var r=!1,i=e;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},T=_;function k(t,e,n){var r=e.href,i=e.title?T(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");return"!"!==t[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:o}:{type:"image",raw:n,href:r,title:i,text:T(o)}}var I=function(){function t(t){this.options=t||E}var e=t.prototype;return e.space=function(t){var e=this.rules.block.newline.exec(t);if(e)return e[0].length>1?{type:"space",raw:e[0]}:{raw:"\n"}},e.code=function(t,e){var n=this.rules.block.code.exec(t);if(n){var r=e[e.length-1];if(r&&"paragraph"===r.type)return{raw:n[0],text:n[0].trimRight()};var i=n[0].replace(/^ {4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:x(i,"\n")}}},e.fences=function(t){var e=this.rules.block.fences.exec(t);if(e){var n=e[0],r=function(t,e){var n=t.match(/^(\s+)(?:```)/);if(null===n)return e;var r=n[1];return e.split("\n").map((function(t){var e=t.match(/^\s+/);return null===e?t:e[0].length>=r.length?t.slice(r.length):t})).join("\n")}(n,e[3]||"");return{type:"code",raw:n,lang:e[2]?e[2].trim():e[2],text:r}}},e.heading=function(t){var e=this.rules.block.heading.exec(t);if(e){var n=e[2].trim();if(/#$/.test(n)){var r=x(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n}}},e.nptable=function(t){var e=this.rules.block.nptable.exec(t);if(e){var n={type:"table",header:S(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[],raw:e[0]};if(n.header.length===n.align.length){var r,i=n.align.length;for(r=0;r<i;r++)n.align[r]=/^ *-+: *$/.test(n.align[r])?"right":/^ *:-+: *$/.test(n.align[r])?"center":/^ *:-+ *$/.test(n.align[r])?"left":null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=S(n.cells[r],n.header.length);return n}}},e.hr=function(t){var e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}},e.blockquote=function(t){var e=this.rules.block.blockquote.exec(t);if(e){var n=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],text:n}}},e.list=function(t){var e=this.rules.block.list.exec(t);if(e){var n,r,i,o,s,a,u,c,l=e[0],h=e[2],f=h.length>1,d={type:"list",raw:l,ordered:f,start:f?+h.slice(0,-1):"",loose:!1,items:[]},p=e[0].match(this.rules.block.item),g=!1,v=p.length;i=this.rules.block.listItemStart.exec(p[0]);for(var m=0;m<v;m++){if(l=n=p[m],m!==v-1){if((o=this.rules.block.listItemStart.exec(p[m+1]))[1].length>i[0].length||o[1].length>3){p.splice(m,2,p[m]+"\n"+p[m+1]),m--,v--;continue}(!this.options.pedantic||this.options.smartLists?o[2][o[2].length-1]!==h[h.length-1]:f===(1===o[2].length))&&(s=p.slice(m+1).join("\n"),d.raw=d.raw.substring(0,d.raw.length-s.length),m=v-1),i=o}r=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(r-=n.length,n=n.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+r+"}","gm"),"")),a=g||/\n\n(?!\s*$)/.test(n),m!==v-1&&(g="\n"===n.charAt(n.length-1),a||(a=g)),a&&(d.loose=!0),this.options.gfm&&(c=void 0,(u=/^\[[ xX]\] /.test(n))&&(c=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),d.items.push({type:"list_item",raw:l,task:u,checked:c,loose:a,text:n})}return d}},e.html=function(t){var e=this.rules.block.html.exec(t);if(e)return{type:this.options.sanitize?"paragraph":"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):T(e[0]):e[0]}},e.def=function(t){var e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}},e.table=function(t){var e=this.rules.block.table.exec(t);if(e){var n={type:"table",header:S(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=e[0];var r,i=n.align.length;for(r=0;r<i;r++)n.align[r]=/^ *-+: *$/.test(n.align[r])?"right":/^ *:-+: *$/.test(n.align[r])?"center":/^ *:-+ *$/.test(n.align[r])?"left":null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=S(n.cells[r].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},e.lheading=function(t){var e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1]}},e.paragraph=function(t){var e=this.rules.block.paragraph.exec(t);if(e)return{type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]}},e.text=function(t,e){var n=this.rules.block.text.exec(t);if(n){var r=e[e.length-1];return r&&"text"===r.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}},e.escape=function(t){var e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:T(e[1])}},e.tag=function(t,e,n){var r=this.rules.inline.tag.exec(t);if(r)return!e&&/^<a /i.test(r[0])?e=!0:e&&/^<\/a>/i.test(r[0])&&(e=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:e,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):T(r[0]):r[0]}},e.link=function(t){var e=this.rules.inline.link.exec(t);if(e){var n=e[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=x(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var i=function(t,e){if(-1===t.indexOf(e[1]))return-1;for(var n=t.length,r=0,i=0;i<n;i++)if("\\"===t[i])i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&--r<0)return i;return-1}(e[2],"()");if(i>-1){var o=(0===e[0].indexOf("!")?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,o).trim(),e[3]=""}}var s=e[2],a="";if(this.options.pedantic){var u=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);u&&(s=u[1],a=u[3])}else a=e[3]?e[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(n)?s.slice(1):s.slice(1,-1)),k(e,{href:s?s.replace(this.rules.inline._escapes,"$1"):s,title:a?a.replace(this.rules.inline._escapes,"$1"):a},e[0])}},e.reflink=function(t,e){var n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=e[r.toLowerCase()])||!r.href){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return k(n,r,n[0])}},e.strong=function(t,e,n){void 0===n&&(n="");var r=this.rules.inline.strong.start.exec(t);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){e=e.slice(-1*t.length);var i,o="**"===r[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(o.lastIndex=0;null!=(r=o.exec(e));)if(i=this.rules.inline.strong.middle.exec(e.slice(0,r.index+3)))return{type:"strong",raw:t.slice(0,i[0].length),text:t.slice(2,i[0].length-2)}}},e.em=function(t,e,n){void 0===n&&(n="");var r=this.rules.inline.em.start.exec(t);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){e=e.slice(-1*t.length);var i,o="*"===r[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(o.lastIndex=0;null!=(r=o.exec(e));)if(i=this.rules.inline.em.middle.exec(e.slice(0,r.index+2)))return{type:"em",raw:t.slice(0,i[0].length),text:t.slice(1,i[0].length-1)}}},e.codespan=function(t){var e=this.rules.inline.code.exec(t);if(e){var n=e[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=T(n,!0),{type:"codespan",raw:e[0],text:n}}},e.br=function(t){var e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}},e.del=function(t){var e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2]}},e.autolink=function(t,e){var n,r,i=this.rules.inline.autolink.exec(t);if(i)return r="@"===i[2]?"mailto:"+(n=T(this.options.mangle?e(i[1]):i[1])):n=T(i[1]),{type:"link",raw:i[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},e.url=function(t,e){var n;if(n=this.rules.inline.url.exec(t)){var r,i;if("@"===n[2])i="mailto:"+(r=T(this.options.mangle?e(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);r=T(n[0]),i="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},e.inlineText=function(t,e,n){var r,i=this.rules.inline.text.exec(t);if(i)return r=e?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):T(i[0]):i[0]:T(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:r}},t}(),C={exec:function(){}},j=function(t,e){t=t.source||t,e=e||"";var n={replace:function(e,r){return r=(r=r.source||r).replace(f,"$1"),t=t.replace(e,r),n},getRegex:function(){return new RegExp(t,e)}};return n},A=O,N={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:C,table:C,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};N.def=j(N.def).replace("label",N._label).replace("title",N._title).getRegex(),N.bullet=/(?:[*+-]|\d{1,9}[.)])/,N.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,N.item=j(N.item,"gm").replace(/bull/g,N.bullet).getRegex(),N.listItemStart=j(/^( *)(bull)/).replace("bull",N.bullet).getRegex(),N.list=j(N.list).replace(/bull/g,N.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+N.def.source+")").getRegex(),N._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",N._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,N.html=j(N.html,"i").replace("comment",N._comment).replace("tag",N._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),N.paragraph=j(N._paragraph).replace("hr",N.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",N._tag).getRegex(),N.blockquote=j(N.blockquote).replace("paragraph",N.paragraph).getRegex(),N.normal=A({},N),N.gfm=A({},N.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),N.gfm.nptable=j(N.gfm.nptable).replace("hr",N.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",N._tag).getRegex(),N.gfm.table=j(N.gfm.table).replace("hr",N.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",N._tag).getRegex(),N.pedantic=A({},N.normal,{html:j("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",N._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:C,paragraph:j(N.normal._paragraph).replace("hr",N.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",N.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var R={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:C,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:C,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};R.punctuation=j(R.punctuation).replace(/punctuation/g,R._punctuation).getRegex(),R._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",R._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",R._comment=j(N._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),R.em.start=j(R.em.start).replace(/punctuation/g,R._punctuation).getRegex(),R.em.middle=j(R.em.middle).replace(/punctuation/g,R._punctuation).replace(/overlapSkip/g,R._overlapSkip).getRegex(),R.em.endAst=j(R.em.endAst,"g").replace(/punctuation/g,R._punctuation).getRegex(),R.em.endUnd=j(R.em.endUnd,"g").replace(/punctuation/g,R._punctuation).getRegex(),R.strong.start=j(R.strong.start).replace(/punctuation/g,R._punctuation).getRegex(),R.strong.middle=j(R.strong.middle).replace(/punctuation/g,R._punctuation).replace(/overlapSkip/g,R._overlapSkip).getRegex(),R.strong.endAst=j(R.strong.endAst,"g").replace(/punctuation/g,R._punctuation).getRegex(),R.strong.endUnd=j(R.strong.endUnd,"g").replace(/punctuation/g,R._punctuation).getRegex(),R.blockSkip=j(R._blockSkip,"g").getRegex(),R.overlapSkip=j(R._overlapSkip,"g").getRegex(),R._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,R._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,R._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,R.autolink=j(R.autolink).replace("scheme",R._scheme).replace("email",R._email).getRegex(),R._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,R.tag=j(R.tag).replace("comment",R._comment).replace("attribute",R._attribute).getRegex(),R._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,R._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,R._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,R.link=j(R.link).replace("label",R._label).replace("href",R._href).replace("title",R._title).getRegex(),R.reflink=j(R.reflink).replace("label",R._label).getRegex(),R.reflinkSearch=j(R.reflinkSearch,"g").replace("reflink",R.reflink).replace("nolink",R.nolink).getRegex(),R.normal=A({},R),R.pedantic=A({},R.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:j(/^!?\[(label)\]\((.*?)\)/).replace("label",R._label).getRegex(),reflink:j(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",R._label).getRegex()}),R.gfm=A({},R.normal,{escape:j(R.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),R.gfm.url=j(R.gfm.url,"i").replace("email",R.gfm._extended_email).getRegex(),R.breaks=A({},R.gfm,{br:j(R.br).replace("{2,}","*").getRegex(),text:j(R.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var P={block:N,inline:R},D=r.defaults,L=P.block,U=P.inline,V=function(t,e){if(e<1)return"";for(var n="";e>1;)1&e&&(n+=t),e>>=1,t+=t;return n+t};function M(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function F(t){var e,n,r="",i=t.length;for(e=0;e<i;e++)n=t.charCodeAt(e),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var z=function(){function e(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||D,this.options.tokenizer=this.options.tokenizer||new I,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var e={block:L.normal,inline:U.normal};this.options.pedantic?(e.block=L.pedantic,e.inline=U.pedantic):this.options.gfm&&(e.block=L.gfm,e.inline=this.options.breaks?U.breaks:U.gfm),this.tokenizer.rules=e}e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)};var n,r,i=e.prototype;return i.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(t,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function(t,e,n){var r,i,o,s;for(void 0===e&&(e=[]),void 0===n&&(n=!0),t=t.replace(/^ +$/gm,"");t;)if(r=this.tokenizer.space(t))t=t.substring(r.raw.length),r.type&&e.push(r);else if(r=this.tokenizer.code(t,e))t=t.substring(r.raw.length),r.type?e.push(r):((s=e[e.length-1]).raw+="\n"+r.raw,s.text+="\n"+r.text);else if(r=this.tokenizer.fences(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.heading(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.nptable(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.hr(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.blockquote(t))t=t.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),e.push(r);else if(r=this.tokenizer.list(t)){for(t=t.substring(r.raw.length),o=r.items.length,i=0;i<o;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);e.push(r)}else if(r=this.tokenizer.html(t))t=t.substring(r.raw.length),e.push(r);else if(n&&(r=this.tokenizer.def(t)))t=t.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.lheading(t))t=t.substring(r.raw.length),e.push(r);else if(n&&(r=this.tokenizer.paragraph(t)))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.text(t,e))t=t.substring(r.raw.length),r.type?e.push(r):((s=e[e.length-1]).raw+="\n"+r.raw,s.text+="\n"+r.text);else if(t){var a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return e},i.inline=function(t){var e,n,r,i,o,s,a=t.length;for(e=0;e<a;e++)switch((s=t[e]).type){case"paragraph":case"text":case"heading":s.tokens=[],this.inlineTokens(s.text,s.tokens);break;case"table":for(s.tokens={header:[],cells:[]},i=s.header.length,n=0;n<i;n++)s.tokens.header[n]=[],this.inlineTokens(s.header[n],s.tokens.header[n]);for(i=s.cells.length,n=0;n<i;n++)for(o=s.cells[n],s.tokens.cells[n]=[],r=0;r<o.length;r++)s.tokens.cells[n][r]=[],this.inlineTokens(o[r],s.tokens.cells[n][r]);break;case"blockquote":this.inline(s.tokens);break;case"list":for(i=s.items.length,n=0;n<i;n++)this.inline(s.items[n].tokens)}return t},i.inlineTokens=function(t,e,n,r){var i;void 0===e&&(e=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var o,s,a,u=t;if(this.tokens.links){var c=Object.keys(this.tokens.links);if(c.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(u));)c.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,o.index)+"["+V("a",o[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(u));)u=u.slice(0,o.index)+"["+V("a",o[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;t;)if(s||(a=""),s=!1,i=this.tokenizer.escape(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.tag(t,n,r))t=t.substring(i.raw.length),n=i.inLink,r=i.inRawBlock,e.push(i);else if(i=this.tokenizer.link(t))t=t.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),e.push(i);else if(i=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),e.push(i);else if(i=this.tokenizer.strong(t,u,a))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.em(t,u,a))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.codespan(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.br(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.del(t))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.autolink(t,F))t=t.substring(i.raw.length),e.push(i);else if(n||!(i=this.tokenizer.url(t,F))){if(i=this.tokenizer.inlineText(t,r,M))t=t.substring(i.raw.length),a=i.raw.slice(-1),s=!0,e.push(i);else if(t){var l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}throw new Error(l)}}else t=t.substring(i.raw.length),e.push(i);return e},n=e,(r=[{key:"rules",get:function(){return{block:L,inline:U}}}])&&t(n,r),e}(),q=r.defaults,H=function(t,e,n){if(t){var r;try{r=decodeURIComponent(h(n)).replace(d,"").toLowerCase()}catch(i){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!p.test(n)&&(n=function(t,e){g[" "+t]||(g[" "+t]=v.test(t)?t+"/":b(t,"/",!0));var n=-1===(t=g[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(m,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(y,"$1")+e:t+e}(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(i){return null}return n},B=_,G=function(){function t(t){this.options=t||q}var e=t.prototype;return e.code=function(t,e,n){var r=(e||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(t,r);null!=i&&i!==t&&(n=!0,t=i)}return r?'<pre><code class="'+this.options.langPrefix+B(r,!0)+'">'+(n?t:B(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:B(t,!0))+"</code></pre>\n"},e.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},e.html=function(t){return t},e.heading=function(t,e,n,r){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+r.slug(n)+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},e.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},e.list=function(t,e,n){var r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"},e.listitem=function(t){return"<li>"+t+"</li>\n"},e.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},e.paragraph=function(t){return"<p>"+t+"</p>\n"},e.table=function(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"},e.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},e.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},e.strong=function(t){return"<strong>"+t+"</strong>"},e.em=function(t){return"<em>"+t+"</em>"},e.codespan=function(t){return"<code>"+t+"</code>"},e.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.del=function(t){return"<del>"+t+"</del>"},e.link=function(t,e,n){if(null===(t=H(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<a href="'+B(t)+'"';return e&&(r+=' title="'+e+'"'),r+">"+n+"</a>"},e.image=function(t,e,n){if(null===(t=H(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+(this.options.xhtml?"/>":">")},e.text=function(t){return t},t}(),$=function(){function t(){}var e=t.prototype;return e.strong=function(t){return t},e.em=function(t){return t},e.codespan=function(t){return t},e.del=function(t){return t},e.html=function(t){return t},e.text=function(t){return t},e.link=function(t,e,n){return""+n},e.image=function(t,e,n){return""+n},e.br=function(){return""},t}(),W=function(){function t(){this.seen={}}var e=t.prototype;return e.serialize=function(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},e.getNextSafeSlug=function(t,e){var n=t,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[t];do{n=t+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return e||(this.seen[t]=r,this.seen[n]=0),n},e.slug=function(t,e){void 0===e&&(e={});var n=this.serialize(t);return this.getNextSafeSlug(n,e.dryrun)},t}(),K=r.defaults,J=w,Z=function(){function t(t){this.options=t||K,this.options.renderer=this.options.renderer||new G,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new $,this.slugger=new W}t.parse=function(e,n){return new t(n).parse(e)},t.parseInline=function(e,n){return new t(n).parseInline(e)};var e=t.prototype;return e.parse=function(t,e){void 0===e&&(e=!0);var n,r,i,o,s,a,u,c,l,h,f,d,p,g,v,m,y,b,_="",w=t.length;for(n=0;n<w;n++)switch((h=t[n]).type){case"space":continue;case"hr":_+=this.renderer.hr();continue;case"heading":_+=this.renderer.heading(this.parseInline(h.tokens),h.depth,J(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":_+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",u="",o=h.header.length,r=0;r<o;r++)u+=this.renderer.tablecell(this.parseInline(h.tokens.header[r]),{header:!0,align:h.align[r]});for(c+=this.renderer.tablerow(u),l="",o=h.cells.length,r=0;r<o;r++){for(u="",s=(a=h.tokens.cells[r]).length,i=0;i<s;i++)u+=this.renderer.tablecell(this.parseInline(a[i]),{header:!1,align:h.align[i]});l+=this.renderer.tablerow(u)}_+=this.renderer.table(c,l);continue;case"blockquote":l=this.parse(h.tokens),_+=this.renderer.blockquote(l);continue;case"list":for(f=h.ordered,d=h.start,p=h.loose,o=h.items.length,l="",r=0;r<o;r++)m=(v=h.items[r]).checked,y=v.task,g="",v.task&&(b=this.renderer.checkbox(m),p?v.tokens.length>0&&"text"===v.tokens[0].type?(v.tokens[0].text=b+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=b+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:b}):g+=b),g+=this.parse(v.tokens,p),l+=this.renderer.listitem(g,y,m);_+=this.renderer.list(l,f,d);continue;case"html":_+=this.renderer.html(h.text);continue;case"paragraph":_+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(l=h.tokens?this.parseInline(h.tokens):h.text;n+1<w&&"text"===t[n+1].type;)l+="\n"+((h=t[++n]).tokens?this.parseInline(h.tokens):h.text);_+=e?this.renderer.paragraph(l):l;continue;default:var O='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(O);throw new Error(O)}return _},e.parseInline=function(t,e){e=e||this.renderer;var n,r,i="",o=t.length;for(n=0;n<o;n++)switch((r=t[n]).type){case"escape":i+=e.text(r.text);break;case"html":i+=e.html(r.text);break;case"link":i+=e.link(r.href,r.title,this.parseInline(r.tokens,e));break;case"image":i+=e.image(r.href,r.title,r.text);break;case"strong":i+=e.strong(this.parseInline(r.tokens,e));break;case"em":i+=e.em(this.parseInline(r.tokens,e));break;case"codespan":i+=e.codespan(r.text);break;case"br":i+=e.br();break;case"del":i+=e.del(this.parseInline(r.tokens,e));break;case"text":i+=e.text(r.text);break;default:var s='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(s);throw new Error(s)}return i},t}(),X=O,Q=function(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},Y=_,tt=r.getDefaults,et=r.changeDefaults,nt=r.defaults;function rt(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof e&&(n=e,e=null),e=X({},rt.defaults,e||{}),Q(e),n){var r,i=e.highlight;try{r=z.lex(t,e)}catch(u){return n(u)}var o=function(t){var o;if(!t)try{o=Z.parse(r,e)}catch(u){t=u}return e.highlight=i,t?n(t):n(null,o)};if(!i||i.length<3)return o();if(delete e.highlight,!r.length)return o();var s=0;return rt.walkTokens(r,(function(t){"code"===t.type&&(s++,setTimeout((function(){i(t.text,t.lang,(function(e,n){if(e)return o(e);null!=n&&n!==t.text&&(t.text=n,t.escaped=!0),0==--s&&o()}))}),0))})),void(0===s&&o())}try{var a=z.lex(t,e);return e.walkTokens&&rt.walkTokens(a,e.walkTokens),Z.parse(a,e)}catch(u){if(u.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Y(u.message+"",!0)+"</pre>";throw u}}return rt.options=rt.setOptions=function(t){return X(rt.defaults,t),et(rt.defaults),rt},rt.getDefaults=tt,rt.defaults=nt,rt.use=function(t){var e=X({},t);if(t.renderer&&function(){var n=rt.defaults.renderer||new G,r=function(e){var r=n[e];n[e]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=t.renderer[e].apply(n,o);return!1===a&&(a=r.apply(n,o)),a}};for(var i in t.renderer)r(i);e.renderer=n}(),t.tokenizer&&function(){var n=rt.defaults.tokenizer||new I,r=function(e){var r=n[e];n[e]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=t.tokenizer[e].apply(n,o);return!1===a&&(a=r.apply(n,o)),a}};for(var i in t.tokenizer)r(i);e.tokenizer=n}(),t.walkTokens){var n=rt.defaults.walkTokens;e.walkTokens=function(e){t.walkTokens(e),n&&n(e)}}rt.setOptions(e)},rt.walkTokens=function(t,e){for(var r,i=n(t);!(r=i()).done;){var o=r.value;switch(e(o),o.type){case"table":for(var s,a=n(o.tokens.header);!(s=a()).done;)rt.walkTokens(s.value,e);for(var u,c=n(o.tokens.cells);!(u=c()).done;)for(var l,h=n(u.value);!(l=h()).done;)rt.walkTokens(l.value,e);break;case"list":rt.walkTokens(o.items,e);break;default:o.tokens&&rt.walkTokens(o.tokens,e)}}},rt.parseInline=function(t,e){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=X({},rt.defaults,e||{}),Q(e);try{var n=z.lexInline(t,e);return e.walkTokens&&rt.walkTokens(n,e.walkTokens),Z.parseInline(n,e)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Y(r.message+"",!0)+"</pre>";throw r}},rt.Parser=Z,rt.parser=Z.parse,rt.Renderer=G,rt.TextRenderer=$,rt.Lexer=z,rt.lexer=z.lex,rt.Tokenizer=I,rt.Slugger=W,rt.parse=rt,rt}()},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(t,e,n,s,a=new r.a(t,n,s)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return To})),n.d(e,"b",(function(){return eu})),n.d(e,"c",(function(){return Za})),n.d(e,"d",(function(){return Ka})),n.d(e,"e",(function(){return Ja})),n.d(e,"f",(function(){return Gu})),n.d(e,"g",(function(){return Du})),n.d(e,"h",(function(){return ao})),n.d(e,"i",(function(){return fu})),n.d(e,"j",(function(){return js})),n.d(e,"k",(function(){return iu})),n.d(e,"l",(function(){return As})),n.d(e,"m",(function(){return kn})),n.d(e,"n",(function(){return Na})),n.d(e,"o",(function(){return Y})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return Q})),n.d(e,"r",(function(){return So})),n.d(e,"s",(function(){return Zs})),n.d(e,"t",(function(){return Xs})),n.d(e,"u",(function(){return ru})),n.d(e,"v",(function(){return dt})),n.d(e,"w",(function(){return Uu})),n.d(e,"x",(function(){return ft})),n.d(e,"y",(function(){return ju})),n.d(e,"z",(function(){return gu})),n.d(e,"A",(function(){return y})),n.d(e,"B",(function(){return tu})),n.d(e,"C",(function(){return Ya})),n.d(e,"D",(function(){return Ds})),n.d(e,"E",(function(){return Rs})),n.d(e,"F",(function(){return Ps})),n.d(e,"G",(function(){return Us})),n.d(e,"H",(function(){return gr})),n.d(e,"I",(function(){return _})),n.d(e,"J",(function(){return Fu})),n.d(e,"K",(function(){return ea})),n.d(e,"L",(function(){return Eu})),n.d(e,"M",(function(){return co})),n.d(e,"N",(function(){return Ms})),n.d(e,"O",(function(){return Vs})),n.d(e,"P",(function(){return ra})),n.d(e,"Q",(function(){return Ot})),n.d(e,"R",(function(){return Au})),n.d(e,"S",(function(){return Gn})),n.d(e,"T",(function(){return U})),n.d(e,"U",(function(){return Bn})),n.d(e,"V",(function(){return Hu})),n.d(e,"W",(function(){return Tu})),n.d(e,"X",(function(){return nu})),n.d(e,"Y",(function(){return lo})),n.d(e,"Z",(function(){return ba})),n.d(e,"ab",(function(){return dr})),n.d(e,"bb",(function(){return Zn})),n.d(e,"cb",(function(){return Dn})),n.d(e,"db",(function(){return Un})),n.d(e,"eb",(function(){return zn})),n.d(e,"fb",(function(){return Mn})),n.d(e,"gb",(function(){return Vn})),n.d(e,"hb",(function(){return Fn})),n.d(e,"ib",(function(){return ga})),n.d(e,"jb",(function(){return qu})),n.d(e,"kb",(function(){return va})),n.d(e,"lb",(function(){return ma})),n.d(e,"mb",(function(){return Ln})),n.d(e,"nb",(function(){return B})),n.d(e,"ob",(function(){return Ao})),n.d(e,"pb",(function(){return Wo})),n.d(e,"qb",(function(){return $o})),n.d(e,"rb",(function(){return pa})),n.d(e,"sb",(function(){return Qt})),n.d(e,"tb",(function(){return P})),n.d(e,"ub",(function(){return Pn})),n.d(e,"vb",(function(){return gs})),n.d(e,"wb",(function(){return $t})),n.d(e,"xb",(function(){return ks})),n.d(e,"yb",(function(){return Lr})),n.d(e,"zb",(function(){return Lo})),n.d(e,"Ab",(function(){return os})),n.d(e,"Bb",(function(){return Ba})),n.d(e,"Cb",(function(){return Tt})),n.d(e,"Db",(function(){return Rt})),n.d(e,"Eb",(function(){return x})),n.d(e,"Fb",(function(){return S})),n.d(e,"Gb",(function(){return jt})),n.d(e,"Hb",(function(){return Pt})),n.d(e,"Ib",(function(){return Mo})),n.d(e,"Jb",(function(){return Go})),n.d(e,"Kb",(function(){return Bo})),n.d(e,"Lb",(function(){return Ho})),n.d(e,"Mb",(function(){return En})),n.d(e,"Nb",(function(){return ds})),n.d(e,"Ob",(function(){return ut})),n.d(e,"Pb",(function(){return Fo})),n.d(e,"Qb",(function(){return Wa})),n.d(e,"Rb",(function(){return Ko})),n.d(e,"Sb",(function(){return Ga})),n.d(e,"Tb",(function(){return ka})),n.d(e,"Ub",(function(){return Ia})),n.d(e,"Vb",(function(){return Ca})),n.d(e,"Wb",(function(){return Yo})),n.d(e,"Xb",(function(){return Qo})),n.d(e,"Yb",(function(){return zo})),n.d(e,"Zb",(function(){return ts})),n.d(e,"ac",(function(){return Sa})),n.d(e,"bc",(function(){return Ha})),n.d(e,"cc",(function(){return vr})),n.d(e,"dc",(function(){return At})),n.d(e,"ec",(function(){return Vo})),n.d(e,"fc",(function(){return ls})),n.d(e,"gc",(function(){return hs}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}function v(t,e,n){return g(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const m=v("Inject",t=>({token:t})),y=v("Optional"),b=v("Self"),_=v("SkipSelf");var w=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function O(t){for(let e in t)if(t[e]===O)return e;throw Error("Could not find renamed property on target object.")}function E(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return k(t,t[C])||k(t,t[N])}function k(t,e){return e&&e.token===t?e:null}function I(t){return t&&(t.hasOwnProperty(j)||t.hasOwnProperty(R))?t[j]:null}const C=O({"\u0275prov":O}),j=O({"\u0275inj":O}),A=O({"\u0275provFallback":O}),N=O({ngInjectableDef:O}),R=O({ngInjectorDef:O});function P(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(P).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function D(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const L=O({__forward_ref__:O});function U(t){return t.__forward_ref__=U,t.toString=function(){return P(this())},t}function V(t){return M(t)?t():t}function M(t){return"function"==typeof t&&t.hasOwnProperty(L)&&t.__forward_ref__===U}const F="undefined"!=typeof globalThis&&globalThis,z="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,B=F||H||z||q,G=O({"\u0275cmp":O}),$=O({"\u0275dir":O}),W=O({"\u0275pipe":O}),K=O({"\u0275mod":O}),J=O({"\u0275loc":O}),Z=O({"\u0275fac":O}),X=O({__NG_ELEMENT_ID__:O});class Q{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=x({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Y=new Q("INJECTOR",-1),tt={},et=/\n/gm,nt=O({provide:String,useValue:O});let rt,it=void 0;function ot(t){const e=it;return it=t,e}function st(t){const e=rt;return rt=t,e}function at(t,e=w.Default){if(void 0===it)throw new Error("inject() must be called from an injection context");return null===it?ct(t,void 0,e):it.get(t,e&w.Optional?null:void 0,e)}function ut(t,e=w.Default){return(rt||at)(V(t),e)}function ct(t,e,n){const r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&w.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${P(t)}]`)}function lt(t){const e=[];for(let n=0;n<t.length;n++){const r=V(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=w.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof y||"Optional"===i.ngMetadataName||i===y?n|=w.Optional:i instanceof _||"SkipSelf"===i.ngMetadataName||i===_?n|=w.SkipSelf:i instanceof b||"Self"===i.ngMetadataName||i===b?n|=w.Self:t=i instanceof m||i===m?i.token:i}e.push(ut(t,n))}else e.push(ut(r))}return e}class ht{get(t,e=tt){if(e===tt){const e=new Error(`NullInjectorError: No provider for ${P(t)}!`);throw e.name="NullInjectorError",e}return e}}class ft{}class dt{}function pt(t,e){t.forEach(t=>Array.isArray(t)?pt(t,e):e(t))}function gt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function yt(t,e,n){let r=_t(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function bt(t,e){const n=_t(t,e);if(n>=0)return t[1|n]}function _t(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var wt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Ot=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Et={},xt=[];let St=0;function Tt(t){return g(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||xt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ot.Emulated,id:"c",styles:t.styles||xt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=St++,n.inputs=Nt(t.inputs,e),n.outputs=Nt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(kt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(It):null,n})}function kt(t){return Dt(t)||function(t){return t[$]||null}(t)}function It(t){return function(t){return t[W]||null}(t)}const Ct={};function jt(t){const e={type:t.type,bootstrap:t.bootstrap||xt,declarations:t.declarations||xt,imports:t.imports||xt,exports:t.exports||xt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{Ct[t.id]=t.type}),e}function At(t,e){return g(()=>{const n=Ut(t,!0);n.declarations=e.declarations||xt,n.imports=e.imports||xt,n.exports=e.exports||xt})}function Nt(t,e){if(null==t)return Et;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Rt=Tt;function Pt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dt(t){return t[G]||null}function Lt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}function Ut(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${P(t)} does not have '\u0275mod' property.`);return n}function Vt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Mt(t){return Array.isArray(t)&&!0===t[1]}function Ft(t){return 0!=(8&t.flags)}function zt(t){return 2==(2&t.flags)}function qt(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function Bt(t){return 0!=(512&t[2])}class Gt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function $t(){return Wt}function Wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Jt),Kt}function Kt(){const t=Zt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Et)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Jt(t,e,n,r){const i=Zt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Et,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Gt(u&&u.currentValue,e,s===Et),t[r]=e}function Zt(t){return t.__ngSimpleChanges__||null}$t.ngInherit=!0;let Xt=void 0;function Qt(t){Xt=t}function Yt(t){return!!t.listen}const te={createRenderer:(t,e)=>void 0!==Xt?Xt:"undefined"!=typeof document?document:void 0};function ee(t){for(;Array.isArray(t);)t=t[0];return t}function ne(t,e){return ee(e[t+20])}function re(t,e){return ee(e[t.index])}function ie(t,e){return t.data[e+20]}function oe(t,e){return t[e+20]}function se(t,e){const n=e[t];return Vt(n)?n:n[0]}function ae(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ue(t){return 4==(4&t[2])}function ce(t){return 128==(128&t[2])}function le(t,e){return null===t||null==e?null:t[e]}function he(t){t[18]=0}function fe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const de={lFrame:Ne(null),bindingsEnabled:!0,checkNoChangesMode:!1};function pe(){return de.bindingsEnabled}function ge(){return de.lFrame.lView}function ve(){return de.lFrame.tView}function me(){return de.lFrame.previousOrParentTNode}function ye(t,e){de.lFrame.previousOrParentTNode=t,de.lFrame.isParent=e}function be(){return de.lFrame.isParent}function _e(){de.lFrame.isParent=!1}function we(){return de.checkNoChangesMode}function Oe(t){de.checkNoChangesMode=t}function Ee(){const t=de.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function xe(){return de.lFrame.bindingIndex++}function Se(t,e){const n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,Te(e)}function Te(t){de.lFrame.currentDirectiveIndex=t}function ke(){return de.lFrame.currentQueryIndex}function Ie(t){de.lFrame.currentQueryIndex=t}function Ce(t,e){const n=Ae();de.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function je(t,e){const n=Ae(),r=t[1];de.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ae(){const t=de.lFrame,e=null===t?null:t.child;return null===e?Ne(t):e}function Ne(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Re(){const t=de.lFrame;return de.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Pe=Re;function De(){const t=Re();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Le(){return de.lFrame.selectedIndex}function Ue(t){de.lFrame.selectedIndex=t}function Ve(){const t=de.lFrame;return ie(t.tView,t.selectedIndex)}function Me(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Fe(t,e,n){He(t,e,3,n)}function ze(t,e,n,r){(3&t[2])===n&&He(t,e,n,r)}function qe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function He(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Be(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Be(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class Ge{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function $e(t,e,n){const r=Yt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ke(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function We(t){return 3===t||4===t||6===t}function Ke(t){return 64===t.charCodeAt(0)}function Je(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ze(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ze(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Xe(t){return-1!==t}function Qe(t){return 32767&t}function Ye(t){return t>>16}function tn(t,e){let n=Ye(t),r=e;for(;n>0;)r=r[15],n--;return r}function en(t){return"string"==typeof t?t:null==t?"":""+t}function nn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():en(t)}const rn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function on(t){return t instanceof Function?t():t}let sn=!0;function an(t){const e=sn;return sn=t,e}let un=0;function cn(t,e){const n=hn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ln(r.data,t),ln(e,null),ln(r.blueprint,null));const i=fn(t,e),o=t.injectorIndex;if(Xe(i)){const t=Qe(i),n=tn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function ln(t,e){t.push(0,0,0,0,0,0,0,0,e)}function hn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function fn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function dn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=un++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function pn(t,e,n,r=w.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Ce(e,t);try{const t=i();if(null!=t||r&w.Optional)return t;throw new Error(`No provider for ${nn(n)}!`)}finally{Pe()}}else if("number"==typeof i){if(-1===i)return new wn(t,e);let o=null,s=hn(t,e),a=-1,u=r&w.Host?e[16][6]:null;for((-1===s||r&w.SkipSelf)&&(a=-1===s?fn(t,e):e[s+8],_n(r,!1)?(o=e[1],s=Qe(a),e=tn(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(bn(i,s,t.data)){const t=vn(s,e,n,o,r,u);if(t!==gn)return t}_n(r,e[1].data[s+8]===u)&&bn(i,s,e)?(o=t,s=Qe(a),e=tn(a,e)):s=-1}}}if(r&w.Optional&&void 0===i&&(i=null),0==(r&(w.Self|w.Host))){const t=e[9],o=st(void 0);try{return t?t.get(n,i,r&w.Optional):ct(n,i,r&w.Optional)}finally{st(o)}}if(r&w.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${nn(n)}]`)}const gn={};function vn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=mn(a,s,n,null==r?zt(a)&&sn:r!=s&&3===a.type,i&w.Host&&o===a);return null!==u?yn(e,s,u,a):gn}function mn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Ht(t)&&t.type===n)return u}return null}function yn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ge){const s=i;if(s.resolving)throw new Error("Circular dep for "+nn(o[n]));const a=an(s.canSeeViewProviders);let u;s.resolving=!0,s.injectImpl&&(u=st(s.injectImpl)),Ce(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&st(u),an(a),s.resolving=!1,Pe()}}return i}function bn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function _n(t,e){return!(t&w.Self||t&w.Host&&e)}class wn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return pn(this._tNode,this._lView,t,void 0,e)}}function On(t){const e=t;if(M(t))return()=>{const t=On(V(e));return t?t():null};let n=Lt(e);if(null===n){const t=I(e);n=t&&t.factory}return n||null}function En(t){return g(()=>{const e=t.prototype.constructor,n=e[Z]||On(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||On(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function xn(t){return t.ngDebugContext}function Sn(t){return t.ngOriginalError}function Tn(t,...e){t.error(...e)}class kn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Tn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?xn(t)?xn(t):this._findContext(Sn(t)):null}_findOriginalError(t){let e=Sn(t);for(;e&&Sn(e);)e=Sn(e);return e}}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Cn extends In{getTypeName(){return"HTML"}}class jn extends In{getTypeName(){return"Style"}}class An extends In{getTypeName(){return"Script"}}class Nn extends In{getTypeName(){return"URL"}}class Rn extends In{getTypeName(){return"ResourceURL"}}function Pn(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function Dn(t,e){const n=Ln(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Ln(t){return t instanceof In&&t.getTypeName()||null}function Un(t){return new Cn(t)}function Vn(t){return new jn(t)}function Mn(t){return new An(t)}function Fn(t){return new Nn(t)}function zn(t){return new Rn(t)}let qn=!0,Hn=!1;function Bn(){return Hn=!0,qn}function Gn(){if(Hn)throw new Error("Cannot enable prod mode after platform setup.");qn=!1}class $n{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Wn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Kn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zn(t){return(t=String(t)).match(Kn)||t.match(Jn)?t:(Bn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Qn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Yn=Xn("area,br,col,hr,img,wbr"),tr=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Xn("rp,rt"),nr=Qn(er,tr),rr=Qn(Yn,Qn(tr,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qn(er,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),or=Xn("srcset"),sr=Qn(ir,or,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Xn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!sr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ir[o]&&(s=Zn(s)),or[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!Yn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(lr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fr;function dr(t,e){let n=null;try{fr=fr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new $n:new Wn(t)}(t);let r=e?String(e):"";n=fr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=fr.getInertBodyElement(r)}while(r!==o);const s=new ur,a=s.sanitizeChildren(pr(n)||n);return Bn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function vr(t){const e=function(){const t=ge();return t&&t[12]}();return e?e.sanitize(gr.URL,t)||"":Dn(t,"URL")?Pn(t):Zn(en(t))}function mr(t,e){t.__ngContext__=e}function yr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function br(){throw new Error("Cannot mix multi providers and regular providers")}function _r(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function wr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==_r(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Or(t){return 0===t.type&&"ng-template"!==t.tagName}function Er(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function xr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(We(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Er(t,u,n)||""===u&&1===e.length){if(Sr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!wr(t.attrs,c,n)){if(Sr(r))return!1;s=!0}continue}const l=Tr(8&r?"class":u,i,Or(t),n);if(-1===l){if(Sr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==_r(e,c,0)||2&r&&c!==t){if(Sr(r))return!1;s=!0}}}}else{if(!s&&!Sr(r)&&!Sr(u))return!1;if(s&&Sr(u))continue;s=!1,r=u|1&r}}return Sr(r)||s}function Sr(t){return 0==(1&t)}function Tr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function kr(t,e,n=!1){for(let r=0;r<e.length;r++)if(xr(t,e[r],n))return!0;return!1}function Ir(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Cr(t,e){return t?":not("+e.trim()+")":e}function jr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Sr(s)||(e+=Cr(o,i),i=""),r=s,o=o||!Sr(r);n++}return""!==i&&(e+=Cr(o,i)),e}const Ar={};function Nr(t){const e=t[3];return Mt(e)?e[3]:e}function Rr(t){return Dr(t[13])}function Pr(t){return Dr(t[4])}function Dr(t){for(;null!==t&&!Mt(t);)t=t[4];return t}function Lr(t){Ur(ve(),ge(),Le()+t,we())}function Ur(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Fe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ze(e,r,0,n)}Ue(n)}function Vr(t,e){return t<<17|e<<2}function Mr(t){return t>>17&32767}function Fr(t){return 2|t}function zr(t){return(131068&t)>>2}function qr(t,e){return-131069&t|e<<2}function Hr(t){return 1|t}function Br(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Ie(i),n.contentQueries(2,e[o],o)}}}function Gr(t,e,n){return Yt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function $r(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,he(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Wr(t,e,n,r,i,o){const s=n+20,a=t.data[s]||function(t,e,n,r,i,o){const s=me(),a=be(),u=a?s:s&&s.parent,c=t.data[n]=ri(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return ye(a,!0),a}function Kr(t,e,n){je(e,e[6]);try{const r=t.viewQuery;null!==r&&Si(1,r,n);const i=t.template;null!==i&&Xr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Br(t,e),t.staticViewQueries&&Si(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)_i(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,De()}}function Jr(t,e,n,r){const i=e[2];if(256==(256&i))return;je(e,e[6]);const o=we();try{he(e),de.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Xr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Fe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ze(e,n,0,null),qe(e,0)}if(function(t){for(let e=Rr(t);null!==e;e=Pr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&fe(r,1),n[2]|=1024}}}(e),function(t){for(let e=Rr(t);null!==e;e=Pr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];ce(n)&&Jr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Br(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Fe(e,n)}else{const n=t.contentHooks;null!==n&&ze(e,n,1),qe(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Ue(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(Se(r,i),s(2,e[i])),i++)}}}finally{Ue(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)bi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Si(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Fe(e,n)}else{const n=t.viewHooks;null!==n&&ze(e,n,2),qe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,fe(e[3],-1))}finally{De()}}function Zr(t,e,n,r){const i=e[10],o=!we(),s=ue(e);try{o&&!s&&i.begin&&i.begin(),s&&Kr(t,e,r),Jr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Xr(t,e,n,r,i){const o=Le();try{Ue(-1),2&r&&e.length>20&&Ur(t,e,0,we()),n(r,i)}finally{Ue(o)}}function Qr(t,e,n){pe()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||cn(n,e),mr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Ht(r);o&&gi(e,n,r);const u=yn(e,t,a,n);mr(u,e),null!==s&&vi(0,a-i,u,r,0,s),o&&(se(n.index,e)[8]=u)}}(t,e,n,re(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,u=de.lFrame.currentDirectiveIndex;try{Ue(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Te(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ci(r,i):s&&o.push(null)}}finally{Ue(-1),Te(u)}}(t,e,n))}function Yr(t,e,n=re){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ti(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ei(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ei(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ar);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function ni(t,e,n,r){const i=ki(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ri(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ii(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function oi(t,e,n,r,i,o,s,a){const u=re(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Ci(t,n,c,r,i),zt(e)&&function(t,e){const n=se(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,Yt(o)?o.setProperty(u,r,i):Ke(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function si(t,e,n,r){let i=!1;if(pe()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];kr(n,s.selectors,!1)&&(i||(i=[]),dn(cn(n,e),t,s.type),Ht(s)?(2&n.flags&&yr(n),hi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,di(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}li(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Je(n.mergedAttrs,c.hostAttrs),pi(t,e,c),fi(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),ai(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Or(e)?null:mi(n,i);o.push(c),s=ii(n,u,s),a=ii(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),ui(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Je(n.mergedAttrs,n.attrs),i}function ai(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ui(t,e,n){for(let r=0;r<n;r++)e.push(Ar),t.blueprint.push(Ar),t.data.push(null)}function ci(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function li(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function hi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function fi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function di(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function pi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Lt(n.type)),i=new Ge(r,Ht(n),null);t.blueprint.push(i),e.push(i)}function gi(t,e,n){const r=re(e,t),i=ti(n),o=t[10],s=wi(t,$r(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function vi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function mi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function yi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function bi(t,e){const n=se(e,t);if(ce(n)){const t=n[1];80&n[2]?Jr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Rr(e);null!==r;r=Pr(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Jr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=se(n[r],e);ce(i)&&i[5]>0&&t(i)}}(n)}}function _i(t,e){const n=se(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Kr(r,n,n[8])}function wi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Oi(t){for(;t;){t[2]|=64;const e=Nr(t);if(Bt(t)&&!e)return t;t=e}return null}function Ei(t,e,n){const r=e[10];r.begin&&r.begin();try{Jr(t,e,t.template,n)}catch(i){throw Ii(e,i),i}finally{r.end&&r.end()}}function xi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ae(n),i=r[1];Zr(i,r,i.template,n)}}(t[8])}function Si(t,e,n){Ie(0),e(t,n)}const Ti=(()=>Promise.resolve(null))();function ki(t){return t[7]||(t[7]=[])}function Ii(t,e){const n=t[9],r=n?n.get(kn,null):null;r&&r.handleError(e)}function Ci(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ji(t,e){const n=e[3];return-1===t.index?Mt(n)?n:null:n}function Ai(t,e){const n=ji(t,e);return n?Hi(e[11],n[7]):null}function Ni(t,e,n,r,i){if(null!=r){let o,s=!1;Mt(r)?o=r:Vt(r)&&(s=!0,r=r[0]);const a=ee(r);0===t&&null!==n?null==i?zi(e,n,a):Fi(e,n,a,i||null):1===t&&null!==n?Fi(e,n,a,i||null):2===t?function(t,e,n){const r=Hi(t,e);r&&function(t,e,n,r){Yt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ee(n)&&Ni(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];Ki(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ri(t,e,n,r){const i=Ai(t.node,e);i&&Ki(t,e,e[11],n?1:2,i,r)}function Pi(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&fe(e[3],-1),n.splice(r,1)}function Di(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Pi(i,r),e>0&&(t[n-1][4]=r[4]);const o=vt(t,10+e);Ri(r[1],r,!1,null);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Li(t,e){if(!(256&e[2])){const n=e[11];Yt(n)&&n.destroyNode&&Ki(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Vi(t[1],t);for(;e;){let n=null;if(Vt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Vt(e)&&Vi(e[1],e),e=Ui(e,t);null===e&&(e=t),Vt(e)&&Vi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ui(t,e){let n;return Vt(t)&&(n=t[6])&&2===n.type?ji(n,t):t[3]===e?null:t[3]}function Vi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ge)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):ee(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Yt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Mt(e[3])){r!==e[3]&&Pi(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Mi(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Ai(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return re(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==Ot.ShadowDom&&n!==Ot.Native)return null}return re(r,n)}function Fi(t,e,n,r){Yt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function zi(t,e,n){Yt(t)?t.appendChild(e,n):e.appendChild(n)}function qi(t,e,n,r){null!==r?Fi(t,e,n,r):zi(t,e,n)}function Hi(t,e){return Yt(t)?t.parentNode(e):e.parentNode}function Bi(t,e){if(2===t.type){const n=ji(t,e);return null===n?null:$i(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?re(t,e):null}function Gi(t,e,n,r){const i=Mi(t,r,e);if(null!=i){const t=e[11],o=Bi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)qi(t,i,n[e],o);else qi(t,i,n,o)}}function $i(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return re(n,e);if(0===r)return $i(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Mt(t)?$i(-1,t):ee(t)}}{const r=e[16],i=r[6],o=Nr(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function Wi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&mr(ee(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Wi(t,e,n.child,r,i,o,!1),Ni(e,t,i,a,o)):1===u?Ji(t,e,r,n,i,o):Ni(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Ki(t,e,n,r,i,o){Wi(n,r,t.node.child,e,i,o,!1)}function Ji(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ni(e,t,i,a[u],o);else Wi(t,e,a,s[3],i,o,!0)}function Zi(t,e,n){Yt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Xi(t,e,n){Yt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Qi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(ee(s)),Mt(s))for(let e=10;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Nr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Li(this._lView[1],this._lView)}onDestroy(t){ni(this._lView[1],this._lView,null,t)}markForCheck(){Oi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ei(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Oe(!0);try{Ei(t,e,n)}finally{Oe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ki(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Yi extends Qi{constructor(t){super(t),this._view=t}detectChanges(){xi(this._view)}checkNoChanges(){!function(t){Oe(!0);try{xi(t)}finally{Oe(!1)}}(this._view)}get context(){return null}}let to,eo,no;function ro(t,e,n){return to||(to=class extends t{}),new to(re(e,n))}function io(t,e,n,r){return eo||(eo=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=$r(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Kr(e,n,t),new Qi(n)}}),0===n.type?new eo(r,n,ro(e,n,r)):null}function oo(t,e,n,r){let i;no||(no=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return ro(e,this._hostTNode,this._hostView)}get injector(){return new wn(this._hostTNode,this._hostView)}get parentInjector(){const t=fn(this._hostTNode,this._hostView),e=tn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Ye(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return Xe(t)&&null!=n?new wn(n,e):new wn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ft,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Mt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new no(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],gt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Ri(r,n,!0,$i(i,this._lContainer)),t.attachToViewContainerRef(this),gt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Di(this._lContainer,e);n&&(vt(this._lContainer[8],e),Li(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Di(this._lContainer,e);return n&&null!=vt(this._lContainer[8],e)?new Qi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Mt(o))i=o;else{let t;if(4===n.type)t=ee(o);else if(t=r[11].createComment(""),Bt(r)){const e=r[11],i=re(n,r);Fi(e,Hi(e,i),t,function(t,e){return Yt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Gi(r[1],r,t,n);r[n.index]=i=yi(o,r,t,n),wi(r,i)}return new no(i,n,r)}function so(t=!1){return function(t,e,n){if(!n&&zt(t)){const n=se(t.index,e);return new Qi(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Qi(e[16],e):null}(me(),ge(),t)}let ao=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>uo(),t})();const uo=so,co=Function,lo=new Q("Set Injector scope."),ho={},fo={},po=[];let go=void 0;function vo(){return void 0===go&&(go=new ht),go}function mo(t,e=null,n=null,r){return new yo(t,n,e||vo(),r)}class yo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&pt(e,n=>this.processProvider(n,t,e)),pt([t],t=>this.processInjectorType(t,[],i)),this.records.set(Y,wo(void 0,this));const o=this.records.get(lo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:P(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=tt,n=w.Default){this.assertNotDestroyed();const r=ot(this);try{if(!(n&w.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Q)&&T(t);e=n&&this.injectableDefInScope(n)?wo(bo(t),ho):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&w.Self?vo():this.parent).get(t,e=n&w.Optional&&e===tt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(P(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=P(e);if(Array.isArray(e))i=e.map(P).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):P(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(et,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{ot(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(P(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=V(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{pt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];pt(r,t=>this.processProvider(t,n,r||po))}}this.injectorDefTypes.add(o),this.records.set(o,wo(r.factory,ho));const a=r.providers;if(null!=a&&!s){const e=t;pt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Eo(t=V(t))?t:V(t&&t.provide);const i=function(t,e,n){return Oo(t)?wo(void 0,t.useValue):wo(_o(t,e,n),ho)}(t,e,n);if(Eo(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&br()}else{let e=this.records.get(r);e?void 0===e.multi&&br():(e=wo(void 0,ho,!0),e.factory=()=>lt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===fo?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(P(t)):e.value===ho&&(e.value=fo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function bo(t){const e=T(t),n=null!==e?e.factory:Lt(t);if(null!==n)return n;const r=I(t);if(null!==r)return r.factory;if(t instanceof Q)throw new Error(`Token ${P(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=mt(e,"?");throw new Error(`Can't resolve all parameters for ${P(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[C]||t[N]||t[A]&&t[A]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function _o(t,e,n){let r=void 0;if(Eo(t)){const e=V(t);return Lt(e)||bo(e)}if(Oo(t))r=()=>V(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...lt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ut(V(t.useExisting));else{const i=V(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${P(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Lt(i)||bo(i);r=()=>new i(...lt(t.deps))}var i;return r}function wo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Oo(t){return null!==t&&"object"==typeof t&&nt in t}function Eo(t){return"function"==typeof t}const xo=function(t,e,n){return function(t,e=null,n=null,r){const i=mo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let So=(()=>{class t{static create(t,e){return Array.isArray(t)?xo(t,e,""):xo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=tt,t.NULL=new ht,t.\u0275prov=x({token:t,providedIn:"any",factory:()=>ut(Y)}),t.__NG_ELEMENT_ID__=-1,t})();const To=new Q("AnalyzeForEntryComponents");function ko(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=D(i,t):2==o&&(r=D(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let Io=null;function Co(){if(!Io){const t=B.Symbol;if(t&&t.iterator)Io=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Io=n)}}}return Io}class jo{constructor(t){this.wrapped=t}static wrap(t){return new jo(t)}static unwrap(t){return jo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof jo}}function Ao(t){return!!No(t)&&(Array.isArray(t)||!(t instanceof Map)&&Co()in t)}function No(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ro(t,e,n){return t[e]=n}function Po(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Do(t,e,n,r){const i=Po(t,e,n);return Po(t,e+1,r)||i}function Lo(t,e,n,r){const i=ge();return Po(i,xe(),e)&&(ve(),function(t,e,n,r,i,o){const s=re(t,e),a=e[11];if(null==r)Yt(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?en(r):i(r,t.tagName||"",n);Yt(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(Ve(),i,t,e,n,r)),Lo}function Uo(t,e,n,r){return Po(t,xe(),n)?e+en(n)+r:Ar}function Vo(t,e,n,r,i,o,s,a){const u=ge(),c=ve(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Wr(e,n[6],t,0,s||null,le(c,a));si(e,n,l,le(c,u)),Me(e,l);const h=l.tViews=ei(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=ri(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];ye(h,!1);const f=u[11].createComment("");Gi(c,u,f,h),mr(f,u),wi(u,u[l]=yi(f,u,f,h)),qt(h)&&Qr(c,u,h),null!=s&&Yr(u,h,a)}function Mo(t,e=w.Default){const n=ge();return null==n?ut(t,e):pn(me(),n,V(t),e)}function Fo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(We(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(me(),t)}function zo(t,e,n){const r=ge();return Po(r,xe(),e)&&oi(ve(),Ve(),r,t,e,r[11],n,!1),zo}function qo(t,e,n,r,i){const o=i?"class":"style";Ci(t,n,e.inputs[o],o,r)}function Ho(t,e,n,r){const i=ge(),o=ve(),s=20+t,a=i[11],u=i[s]=Gr(e,a,de.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=le(a,o),c=Wr(e,n[6],t,3,i,u);return si(e,n,c,le(a,s)),null!==c.attrs&&ko(c,c.attrs,!1),null!==c.mergedAttrs&&ko(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];ye(c,!0);const l=c.mergedAttrs;null!==l&&$e(a,u,l);const h=c.classes;null!==h&&Xi(a,u,h);const f=c.styles;null!==f&&Zi(a,u,f),Gi(o,i,u,c),0===de.lFrame.elementDepthCount&&mr(u,i),de.lFrame.elementDepthCount++,qt(c)&&(Qr(o,i,c),function(t,e,n){if(Ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Yr(i,c)}function Bo(){let t=me();be()?_e():(t=t.parent,ye(t,!1));const e=t;de.lFrame.elementDepthCount--;const n=ve();n.firstCreatePass&&(Me(n,t),Ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&qo(n,e,ge(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&qo(n,e,ge(),e.stylesWithoutHost,!1)}function Go(t,e,n,r){Ho(t,e,n,r),Bo()}function $o(t){return!!t&&"function"==typeof t.then}function Wo(t){return!!t&&"function"==typeof t.subscribe}function Ko(t,e,n=!1,r){const i=ge(),o=ve(),s=me();return function(t,e,n,r,i,o,s=!1,a){const u=qt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=ki(e);let h=!0;if(3===r.type){const f=re(r,e),d=a?a(f):Et,p=d.target||f,g=l.length,v=a?t=>a(ee(t[r.index])).target:r.index;if(Yt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Zo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=Zo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Ko}function Jo(t,e,n){try{return!1!==e(n)}catch(r){return Ii(t,r),!1}}function Zo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?se(t.index,e):e;0==(32&e[2])&&Oi(s);let a=Jo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Jo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Xo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?kr(t,o,!0):Ir(r,o))return i}else n=i}return n}function Qo(t){const e=ge()[16][6];if(!e.projection){const n=e.projection=mt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Xo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Yo(t,e=0,n){const r=ge(),i=ve(),o=Wr(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),_e(),function(t,e,n){Ji(e[11],0,e,n,Mi(t,n,e),Bi(n.parent||e[6],e))}(i,r,o)}function ts(t,e,n){return es(t,"",e,"",n),ts}function es(t,e,n,r,i){const o=ge(),s=Uo(o,e,n,r);return s!==Ar&&oi(ve(),Ve(),o,t,s,o[11],i,!1),es}const ns=[];function rs(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Mr(o):zr(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];is(t[a],e)&&(u=!0,t[a+1]=r?Hr(n):Fr(n)),a=r?Mr(n):zr(n)}u&&(t[n+1]=r?Fr(o):Hr(o))}function is(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_t(t,e)>=0}function os(t,e){return function(t,e,n,r){const i=ge(),o=ve(),s=function(t){const e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const r=i[Le()+20],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=de.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=as(n=ss(null,t,e,n,!0),e.attrs,!0),o=null);else{const r=e.directiveStylingLast;if(-1===r||t[r]!==i)if(n=ss(i,t,e,n,!0),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==zr(r))return t[Mr(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=ss(null,t,e,n[1],!0),n=as(n,e.attrs,!0),function(t,e,n,r){t[Mr(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=as(r,t[o].hostAttrs,!0);return as(r,e.attrs,!0)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,r,e),function(t,e,n,r,i,o){let s=e.classBindings,a=Mr(s),u=zr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||_t(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Mr(t[a+1]);t[r+1]=Vr(e,a),0!==e&&(t[e+1]=qr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Vr(a,0),0!==a&&(t[a+1]=qr(t[a+1],r)),a=r;else t[r+1]=Vr(u,0),0===a?a=r:t[u+1]=qr(t[u+1],r),u=r;l&&(t[r+1]=Fr(t[r+1])),rs(t,c,r,!0),rs(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&_t(o,e)>=0&&(n[r+1]=Hr(n[r+1]))}(e,c,t,r),s=Vr(a,u),e.classBindings=s}(i,r,e,n,o)}}(o,t,s),e!==Ar&&Po(i,s,e)&&function(t,e,n,r,i,o,s,a){if(3!==e.type)return;const u=t.data,c=u[a+1];cs(1==(1&c)?us(u,e,n,i,zr(c),!0):void 0)||(cs(o)||function(t){return 2==(2&t)}(c)&&(o=us(u,null,n,i,a,!0)),function(t,e,n,r,i){const o=Yt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,ne(Le(),n),i,o))}(o,o.data[Le()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=P(Pn(t))),t}(e),0,s)}(t,e),os}function ss(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=as(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function as(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yt(t,s,!!n||e[++o]))}return void 0===t?null:t}function us(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Ar&&(l=c?ns:void 0);let h=c?bt(l,r):u===r?l:void 0;if(o&&!cs(h)&&(h=bt(e,r)),cs(h)&&(a=h,s))return a;const f=t[i+1];i=s?Mr(f):zr(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=bt(t,r))}return a}function cs(t){return void 0!==t}function ls(t,e=""){const n=ge(),r=ve(),i=t+20,o=r.firstCreatePass?Wr(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return Yt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Gi(r,n,s,o),ye(o,!1)}function hs(t){return fs("",t,""),hs}function fs(t,e,n){const r=ge(),i=Uo(r,t,e,n);return i!==Ar&&function(t,e,n){const r=ne(e,t),i=t[11];Yt(i)?i.setValue(r,n):r.textContent=n}(r,Le(),i),fs}function ds(t,e,n){const r=ge();return Po(r,xe(),e)&&oi(ve(),Ve(),r,t,e,r[11],n,!0),ds}function ps(t,e){const n=ae(t)[1],r=n.data.length-1;Me(n,{directiveStart:r,directiveEnd:r+1})}function gs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=vs(t.inputs),e.declaredInputs=vs(t.declaredInputs),e.outputs=vs(t.outputs);const n=i.hostBindings;n&&bs(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&ms(t,o),s&&ys(t,s),E(t.inputs,i.inputs),E(t.declaredInputs,i.declaredInputs),E(t.outputs,i.outputs),Ht(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===gs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Je(i.hostAttrs,n=Je(n,i.hostAttrs))}}(r)}function vs(t){return t===Et?{}:t===xt?[]:t}function ms(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ys(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function bs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}function _s(t,e,n,r,i){if(t=V(t),Array.isArray(t))for(let o=0;o<t.length;o++)_s(t[o],e,n,r,i);else{const o=ve(),s=ge();let a=Eo(t)?t:V(t.provide),u=_o(t);const c=me(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Eo(t)||!t.multi){const r=new Ge(u,i,Mo),d=Es(a,e,i?l:l+f,h);-1===d?(dn(cn(c,s),o,a),ws(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Es(a,e,l+f,h),p=Es(a,e,l,l+f),g=d>=0&&n[d],v=p>=0&&n[p];if(i&&!v||!i&&!g){dn(cn(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ge(t,n,Mo);return o.multi=[],o.index=e,o.componentProviders=0,Os(o,i,r&&!n),o}(i?Ss:xs,n.length,i,r,u);!i&&v&&(n[p].providerFactory=l),ws(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ws(o,t,d>-1?d:p,Os(n[i?p:d],u,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function ws(t,e,n,r){const i=Eo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Os(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Es(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function xs(t,e,n,r){return Ts(this.multi,[])}function Ss(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=yn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ts(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ts(i,o);return o}function Ts(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ks(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=ve();if(r.firstCreatePass){const i=Ht(t);_s(n,r.data,r.blueprint,i,!0),_s(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Is{}class Cs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${P(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let js=(()=>{class t{}return t.NULL=new Cs,t})(),As=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Ns(t),t})();const Ns=function(t){return ro(t,me(),ge())};class Rs{}var Ps=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Ds=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ls(),t})();const Ls=function(){const t=ge(),e=se(me().index,t);return function(t){const e=t[11];if(Yt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Vt(e)?e:t)};let Us=(()=>{class t{}return t.\u0275prov=x({token:t,providedIn:"root",factory:()=>null}),t})();class Vs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ms=new Vs("10.0.14");class Fs{constructor(){}supports(t){return Ao(t)}create(t){return new qs(t)}}const zs=(t,e)=>e;class qs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||zs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<$s(n,r,i)?e:n,s=$s(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ao(t))throw new Error(`Error trying to diff '${P(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Co()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Hs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Gs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Hs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Bs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Gs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Bs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $s(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ws{constructor(){}supports(t){return t instanceof Map||No(t)}create(){return new Ks}}class Ks{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||No(t)))throw new Error(`Error trying to diff '${P(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Js(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Js{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Zs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=x({token:t,providedIn:"root",factory:()=>new t([new Fs])}),t})(),Xs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=x({token:t,providedIn:"root",factory:()=>new t([new Ws])}),t})();const Qs=[new Ws],Ys=new Zs([new Fs]),ta=new Xs(Qs);let ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>na(t,As),t})();const na=function(t,e){return io(t,e,me(),ge())};let ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ia(t,As),t})();const ia=function(t,e){return oo(t,e,me(),ge())},oa={};class sa extends js{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Dt(t);return new ca(e,this.ngModule)}}function aa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ua=new Q("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>rn});class ca extends Is{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(jr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return aa(this.componentDef.inputs)}get outputs(){return aa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,oa,i);return o!==oa||r===oa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Rs,te),s=i.get(Us,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Yt(t))return t.selectRootElement(e,n===Ot.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Gr(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:rn,clean:Ti,playerHandler:null,flags:0},f=ei(0,-1,null,1,0,null,null,null,null,null),d=$r(null,f,h,l,null,null,o,a,s,i);let p,g;je(d,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Wr(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ko(a,u,!0),null!==t&&($e(i,t,u),null!==a.classes&&Xi(i,t,a.classes),null!==a.styles&&Zi(i,t,a.styles)));const c=r.createRenderer(t,e),l=$r(n,ti(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(dn(cn(a,n),s,e.type),hi(s,a),di(a,n.length,1)),wi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)$e(a,c,["ng-version",Ms.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Sr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&$e(a,c,t),e&&e.length>0&&Xi(a,c,e.join(" "))}if(g=ie(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=me();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),li(t,r,1),pi(t,e,n));const i=yn(e,t,e.length-1,r);mr(i,e);const o=re(r,e);return o&&mr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=me();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ue(a.index-20);const t=n[1];ai(t,e),ui(t,n,e.hostVars),ci(e,s)}return s}(t,this.componentDef,d,h,[ps]),Kr(f,d,null)}finally{De()}const v=new la(this.componentType,p,ro(As,g,d),d,g);return f.node.child=g,v}}class la extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Yi(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=ri(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const ha=void 0;var fa=["en",[["a","p"],["AM","PM"],ha],[["AM","PM"],ha,ha],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ha,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ha,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ha,"{1} 'at' {0}",ha],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let da={};function pa(t,e,n){"string"!=typeof e&&(n=e,e=t[ba.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),da[e]=t,n&&(da[e][ba.ExtraData]=n)}function ga(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ya(e);if(n)return n;const r=e.split("-")[0];if(n=ya(r),n)return n;if("en"===r)return fa;throw new Error(`Missing locale data for the locale "${t}".`)}function va(t){return ga(t)[ba.CurrencyCode]||null}function ma(t){return ga(t)[ba.PluralCase]}function ya(t){return t in da||(da[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),da[t]}var ba=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let _a="en-US";function wa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(_a=t.toLowerCase().replace(/_/g,"-"))}const Oa=new Map;class Ea extends ft{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new sa(this);const n=Ut(t),r=t[J]||null;r&&wa(r),this._bootstrapComponents=on(n.bootstrap),this._r3Injector=mo(t,e,[{provide:ft,useValue:this},{provide:js,useValue:this.componentFactoryResolver}],P(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=So.THROW_IF_NOT_FOUND,n=w.Default){return t===So||t===ft||t===Y?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class xa extends dt{constructor(t){super(),this.moduleType=t,null!==Ut(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${P(e)} vs ${P(e.name)}`)})(t,Oa.get(t),e),Oa.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Ea(this.moduleType,t)}}function Sa(t,e,n){const r=Ee()+t,i=ge();return i[r]===Ar?Ro(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Ta(t,e){const n=t[e];return n===Ar?void 0:n}function ka(t,e){const n=ve();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Lt(r.type)),s=st(Mo),a=an(!1),u=o();return an(a),st(s),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,ge(),t,u),u}function Ia(t,e,n){const r=ge(),i=oe(r,t);return Aa(r,ja(r,t)?function(t,e,n,r,i,o){const s=e+n;return Po(t,s,i)?Ro(t,s+1,o?r.call(o,i):r(i)):Ta(t,s+1)}(r,Ee(),e,i.transform,n,i):i.transform(n))}function Ca(t,e,n,r,i,o){const s=ge(),a=oe(s,t);return Aa(s,ja(s,t)?function(t,e,n,r,i,o,s,a,u){const c=e+n;return function(t,e,n,r,i,o){const s=Do(t,e,n,r);return Do(t,e+2,i,o)||s}(t,c,i,o,s,a)?Ro(t,c+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):Ta(t,c+4)}(s,Ee(),e,a.transform,n,r,i,o,a):a.transform(n,r,i,o))}function ja(t,e){return t[1].data[e+20].pure}function Aa(t,e){return jo.isWrapped(e)&&(e=jo.unwrap(e),t[de.lFrame.bindingIndex]=Ar),e}const Na=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Ra(){return this._results[Co()]()}class Pa{constructor(){this.dirty=!0,this._results=[],this.changes=new Na,this.length=0;const t=Co(),e=Pa.prototype;e[t]||(e[t]=Ra)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Da{constructor(t){this.queryList=t,this.matches=null}clone(){return new Da(this.queryList)}setDirty(){this.queryList.setDirty()}}class La{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new La(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==$a(t,e).matches&&this.queries[e].setDirty()}}class Ua{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Va{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Va(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ma{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ma(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Fa(e,i)),this.matchTNodeWithReadOption(t,e,mn(e,t,i,!1,!1))}else n===ea?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,mn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===As||r===ra||r===ea&&0===e.type)this.addMatch(e.index,-2);else{const n=mn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Fa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function za(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?ro(As,t,e):0===t.type?io(ea,As,t,e):null}(e,t):-2===n?function(t,e,n){return n===As?ro(As,e,t):n===ea?io(ea,As,e,t):n===ra?oo(ra,As,e,t):void 0}(t,e,r):yn(t,t[1],n,e)}function qa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:za(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ha(t){const e=ge(),n=ve(),r=ke();Ie(r+1);const i=$a(n,r);if(t.dirty&&ue(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=qa(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):qa(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ba(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Va),t.queries.track(new Ma(e,n))}(t,new Ua(n,r,!1,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Pa;ni(t,e,n,n.destroy),null===e[19]&&(e[19]=new La),e[19].queries.push(new Da(n))}(t,e)}(ve(),ge(),e,n,r,0,me(),t)}function Ga(){return t=ge(),e=ke(),t[19].queries[e].queryList;var t,e}function $a(t,e){return t.queries.getByIndex(e)}function Wa(t=w.Default){const e=so(!0);if(null!=e||t&w.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Ka=new Q("Application Initializer");let Ja=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();$o(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ut(Ka,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const Za=new Q("AppId"),Xa={provide:Za,useFactory:function(){return`${Qa()}${Qa()}${Qa()}`},deps:[]};function Qa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ya=new Q("Platform Initializer"),tu=new Q("Platform ID"),eu=new Q("appBootstrapListener");let nu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const ru=new Q("LocaleId"),iu=new Q("DefaultCurrencyCode");class ou{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const su=function(t){return new xa(t)},au=su,uu=function(t){return Promise.resolve(su(t))},cu=function(t){const e=su(t),n=on(Ut(t).declarations).reduce((t,e)=>{const n=Dt(e);return n&&t.push(new ca(n)),t},[]);return new ou(e,n)},lu=cu,hu=function(t){return Promise.resolve(cu(t))};let fu=(()=>{class t{constructor(){this.compileModuleSync=au,this.compileModuleAsync=uu,this.compileModuleAndAllComponentsSync=lu,this.compileModuleAndAllComponentsAsync=hu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const du=(()=>Promise.resolve(0))();function pu(t){"undefined"==typeof Zone?du.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class gu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Na(!1),this.onMicrotaskEmpty=new Na(!1),this.onStable=new Na(!1),this.onError=new Na(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bu(t),yu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return _u(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),wu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return _u(t),e.invoke(r,i,o,s,a)}finally{wu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,bu(t),yu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,mu,vu,vu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function vu(){}const mu={};function yu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function _u(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wu(t){t._nesting--,yu(t)}class Ou{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Na,this.onMicrotaskEmpty=new Na,this.onStable=new Na,this.onError=new Na}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Eu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gu.assertNotInAngularZone(),pu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ut(gu))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})(),xu=(()=>{class t{constructor(){this._applications=new Map,Iu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Iu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();class Su{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Tu(t){Iu=t}let ku,Iu=new Su;const Cu=new Q("AllowMultipleToken");class ju{constructor(t,e){this.name=t,this.token=e}}function Au(t,e,n=[]){const r="Platform: "+e,i=new Q(r);return(e=[])=>{let o=Nu();if(!o||o.injector.get(Cu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:lo,useValue:"platform"});!function(t){if(ku&&!ku.destroyed&&!ku.injector.get(Cu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ku=t.get(Ru);const e=t.get(Ya,null);e&&e.forEach(t=>t())}(So.create({providers:t,name:r}))}return function(t){const e=Nu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Nu(){return ku&&!ku.destroyed?ku:null}let Ru=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ou:("zone.js"===t?void 0:t)||new gu({enableLongStackTrace:Bn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:gu,useValue:n}];return n.run(()=>{const e=So.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(kn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Lu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return $o(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ja);return t.runInitializers(),t.donePromise.then(()=>(wa(i.injector.get(ru,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Pu({},e);return function(t,e,n){const r=new xa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Du);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${P(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ut(So))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function Pu(t,e){return Array.isArray(e)?e.reduce(Pu,t):Object.assign(Object.assign({},t),e)}let Du=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Bn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{gu.assertNotInAngularZone(),pu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{gu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Is?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ft),i=n.create(So.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Eu,null);return o&&i.injector.get(xu).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Bn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Lu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(eu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Lu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ut(gu),ut(nu),ut(So),ut(kn),ut(js),ut(Ja))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function Lu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Uu{}class Vu{}const Mu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Fu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Mu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>zu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>zu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ut(fu),ut(Vu,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function zu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const qu=function(t){return null},Hu=Au(null,"core",[{provide:tu,useValue:"unknown"},{provide:Ru,deps:[So]},{provide:xu,deps:[]},{provide:nu,deps:[]}]),Bu=[{provide:Du,useClass:Du,deps:[gu,nu,So,kn,js,Ja]},{provide:ua,deps:[gu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ja,useClass:Ja,deps:[[new y,Ka]]},{provide:fu,useClass:fu,deps:[]},Xa,{provide:Zs,useFactory:function(){return Ys},deps:[]},{provide:Xs,useFactory:function(){return ta},deps:[]},{provide:ru,useFactory:function(t){return wa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new m(ru),new y,new _]]},{provide:iu,useValue:"USD"}];let Gu=(()=>{class t{constructor(t){}}return t.\u0275mod=jt({type:t}),t.\u0275inj=S({factory:function(e){return new(e||t)(ut(Du))},providers:Bu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return y})),n.d(e,"e",(function(){return k})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return x})),n.d(e,"h",(function(){return i})),n.d(e,"i",(function(){return o})),n.d(e,"j",(function(){return a})),n.d(e,"k",(function(){return l})),n.d(e,"l",(function(){return h})),n.d(e,"m",(function(){return d})),n.d(e,"n",(function(){return p})),n.d(e,"o",(function(){return v})),n.d(e,"p",(function(){return u})),n.d(e,"q",(function(){return c})),n.d(e,"r",(function(){return f})),n.d(e,"s",(function(){return g})),n.d(e,"t",(function(){return m}));var r=n("uXP2");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}function v(){return"indexedDB"in self&&null!=indexedDB}function m(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function y(){return!(!navigator||!navigator.cookieEnabled)}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,_.prototype.create),o}return Object(r.c)(e,t),e}(Error),_=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new b(i,a,r);return u},t}();function w(t,e){return t.replace(O,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var O=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e){var n=new S(t,e);return n.subscribe.bind(n)}var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function T(){}function k(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(l){e=l instanceof s?u(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof s?e=e.concat(u(l.errors)):e.push(l)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return m})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return v})),n.d(e,"k",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],v=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),m=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig");class _{}const w=new u.O("6.1.4");function O(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&x("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{x("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},x=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&x("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:_,useFactory:O,deps:[y,u.z,[new u.A,b]]};let k=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Ob(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function v(t,e=0){return function(n){return n.lift(new m(t,e))}}class m{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},uXP2:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("uXP2"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.h)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.f)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.f)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.i)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(v){u={error:v}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.i)(e,t)},createSubscribe:s.g,ErrorFactory:s.b,deepExtend:s.i}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.k)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.q)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(y),e.a=y},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBQ0Ph7u0VurL48bgU9E8PcIcGXkiQqIZo",authDomain:"blog-aksads.firebaseapp.com",projectId:"blog-aksads",storageBucket:"blog-aksads.appspot.com",messagingSenderId:"547635044140",appId:"1:547635044140:web:5751fcf5cede5f7ec6d689",measurementId:"G-VJFC2B3LJN"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Ob)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(a))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Ob)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function v(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Ob)(a).location;return new _(Object(r.Ob)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let _=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+v(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(u),r.Ob(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(u),r.Ob(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(x(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+v(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(m),r.Ob(u))},t.normalizeQueryParams=v,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Ob)(m),Object(r.Ob)(u))}function x(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.lb;class k{}let I=(()=>{class t extends k{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function C(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class j{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new j(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new N(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}class R{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class P{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const D=new P,L=new R;let U=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.qb)(e))return D;if(Object(r.pb)(e))return L;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Qb())},t.\u0275pipe=r.Hb({name:"async",type:t,pure:!1}),t})(),V=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:k,useClass:I}]}),t})();function M(t){return"browser"===t}function F(t){return"server"===t}let z=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new q(Object(r.Ob)(a),window,Object(r.Ob)(r.m))}),t})();class q{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=H(this.window.history)||H(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function H(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class B extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new B,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=$||($=document.querySelector("base"),$)?$.getAttribute("href"):null;return null==e?null:(n=e,G||(G=document.createElement("a")),G.setAttribute("href",n),"/"===G.pathname.charAt(0)?G.pathname:"/"+G.pathname);var n}resetBaseElement(){$=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return C(document.cookie,t)}}let G,$=null;const W=new r.q("TRANSITION_ID"),K=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[W,a,r.r],multi:!0}];class J{static init(){Object(r.W)(new J)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Z=new r.q("EventManagerPlugins");let X=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Z),r.Ob(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class Q{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Y=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),tt=(()=>{class t extends Y{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nt=/%COMP%/g;function rt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rt(t,i,n):(i=i.replace(nt,t),n.push(i))}return n}function it(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ot=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new st(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new at(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new ut(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(X),r.Ob(tt),r.Ob(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class st{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=et[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=et[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,it(n)):this.eventManager.addEventListener(t,e,it(n))}}class at extends st{constructor(t,e,n,r){super(t),this.component=n;const i=rt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(nt,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(nt,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ut extends st{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=rt(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ct=(()=>{class t extends Q{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const lt=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},dt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pt=(()=>{class t extends Q{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(lt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ft.hasOwnProperty(e)&&(e=ft[e]))}return ht[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),lt.forEach(r=>{r!=n&&(0,dt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:function(){return Object(r.Ob)(vt)},token:t,providedIn:"root"}),t})(),vt=(()=>{class t extends gt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.cb)(e,"HTML")?Object(r.ub)(e):Object(r.ab)(this._doc,String(e));case r.H.STYLE:return Object(r.cb)(e,"Style")?Object(r.ub)(e):e;case r.H.SCRIPT:if(Object(r.cb)(e,"Script"))return Object(r.ub)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.mb)(e),Object(r.cb)(e,"URL")?Object(r.ub)(e):Object(r.bb)(String(e));case r.H.RESOURCE_URL:if(Object(r.cb)(e,"ResourceURL"))return Object(r.ub)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.db)(t)}bypassSecurityTrustStyle(t){return Object(r.gb)(t)}bypassSecurityTrustScript(t){return Object(r.fb)(t)}bypassSecurityTrustUrl(t){return Object(r.hb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.eb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(a))},t.\u0275prov=Object(r.Eb)({factory:function(){return t=Object(r.Ob)(r.o),new vt(t.get(a));var t},token:t,providedIn:"root"}),t})();const mt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){B.makeCurrent(),J.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],yt=Object(r.R)(r.V,"browser",mt),bt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Z,useClass:ct,multi:!0,deps:[a,r.z,r.B]},{provide:Z,useClass:pt,multi:!0,deps:[a]},[],{provide:ot,useClass:ot,deps:[X,tt,r.c]},{provide:r.E,useExisting:ot},{provide:Y,useExisting:tt},{provide:tt,useClass:tt,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:X,useClass:X,deps:[Z,r.z]},[]];let _t=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:W,useExisting:r.c},K]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Ob(t,12))},providers:bt,imports:[V,r.f]}),t})();function wt(){return new Ot(Object(r.Ob)(a))}let Ot=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(a))},t.\u0275prov=Object(r.Eb)({factory:wt,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var Et=n("HDdC"),xt=n("DH7j"),St=n("lJxs"),Tt=n("XoHu"),kt=n("Cfvw");function It(t,e){return new Et.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(kt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Ct=new r.q("NgValueAccessor"),jt={provide:Ct,useExisting:Object(r.T)(()=>At),multi:!0};let At=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Rb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([jt])]}),t})();const Nt={provide:Ct,useExisting:Object(r.T)(()=>Pt),multi:!0},Rt=new r.q("CompositionEventMode");let Pt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Rt,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Rb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.xb([Nt])]}),t})(),Dt=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),Lt=(()=>{class t extends Dt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ut(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Ut=r.Mb(Lt);function Vt(){throw new Error("unimplemented")}class Mt extends Dt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Vt()}get asyncValidator(){return Vt()}}class Ft{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let zt=(()=>{class t extends Ft{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Mt,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),qt=(()=>{class t extends Ft{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Lt,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();function Ht(t){return null==t||0===t.length}function Bt(t){return null!=t&&"number"==typeof t.length}const Gt=new r.q("NgValidators"),$t=new r.q("NgAsyncValidators"),Wt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Kt{static min(t){return e=>{if(Ht(e.value)||Ht(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ht(e.value)||Ht(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ht(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ht(t.value)||Wt.test(t.value)?null:{email:!0}}static minLength(t){return e=>Ht(e.value)||!Bt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Bt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Kt.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ht(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Jt);return 0==e.length?null:function(t){return Xt(Qt(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Jt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(xt.a)(e))return It(e,null);if(Object(Tt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return It(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return It(t=1===t.length&&Object(xt.a)(t[0])?t[0]:t,null).pipe(Object(St.a)(t=>e(...t)))}return It(t,null)}(Qt(t,e).map(Zt)).pipe(Object(St.a)(Xt))}}}function Jt(t){return null!=t}function Zt(t){const e=Object(r.qb)(t)?Object(kt.a)(t):t;if(!Object(r.pb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Xt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Qt(t,e){return e.map(e=>e(t))}function Yt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const te={provide:Ct,useExisting:Object(r.T)(()=>ee),multi:!0};let ee=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Rb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([te])]}),t})();const ne={provide:Ct,useExisting:Object(r.T)(()=>ie),multi:!0};let re=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),ie=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Mt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(re),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Rb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([ne])]}),t})();const oe={provide:Ct,useExisting:Object(r.T)(()=>se),multi:!0};let se=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Rb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([oe])]}),t})();const ae='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',ue='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });';class ce{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+ae)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${ue}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+ae)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+ue)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n\n      Example:\n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}.\n    Support for using the ngModel input property and ngModelChange event with\n    reactive form directives has been deprecated in Angular v6 and will be removed\n    in a future version of Angular.\n\n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const le={provide:Ct,useExisting:Object(r.T)(()=>he),multi:!0};let he=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Rb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([le])]}),t})();const fe={provide:Ct,useExisting:Object(r.T)(()=>de),multi:!0};let de=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Rb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([fe])]}),t})();function pe(t,e){return[...e.path,t]}function ge(t,e){t||be(e,"Cannot find control with"),e.valueAccessor||be(e,"No value accessor for form control with"),t.validator=Kt.compose([t.validator,e.validator]),t.asyncValidator=Kt.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ve(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ve(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function ve(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function me(t,e){null==t&&be(e,"Cannot find control with"),t.validator=Kt.compose([t.validator,e.validator]),t.asyncValidator=Kt.composeAsync([t.asyncValidator,e.asyncValidator])}function ye(t){return be(t,"There is no FormControl instance attached to form control element with")}function be(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function _e(t){return null!=t?Kt.compose(Yt(t)):null}function we(t){return null!=t?Kt.composeAsync(Yt(t)):null}const Oe=[At,se,ee,he,de,ie];function Ee(t){const e=Se(t)?t.validators:t;return Array.isArray(e)?_e(e):e||null}function xe(t,e){const n=Se(e)?e.asyncValidators:t;return Array.isArray(n)?we(n):n||null}function Se(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Te{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Ee(t)}setAsyncValidators(t){this.asyncValidator=xe(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=Zt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ie?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ce&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Se(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class ke extends Te{constructor(t=null,e,n){super(Ee(e),xe(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ie extends Te{constructor(t,e,n){super(Ee(e),xe(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ke?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ce extends Te{constructor(t,e,n){super(Ee(e),xe(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ke?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let je=(()=>{class t extends Lt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return pe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return _e(this._validators)}get asyncValidator(){return we(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Ae(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Ae=r.Mb(je);let Ne=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Re=new r.q("NgModelWithFormControlWarning"),Pe={provide:Lt,useExisting:Object(r.T)(()=>De)};let De=(()=>{class t extends Lt{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ge(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);me(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);me(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>ye(e)),e.valueAccessor.registerOnTouched(()=>ye(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&ge(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=_e(this._validators);this.form.validator=Kt.compose([this.form.validator,t]);const e=we(this._asyncValidators);this.form.asyncValidator=Kt.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||ce.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Gt,10),r.Ib($t,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Rb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Pe]),r.vb,r.wb]}),t})();const Le={provide:Lt,useExisting:Object(r.T)(()=>Ue)};let Ue=(()=>{class t extends je{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){Fe(this._parent)&&ce.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Lt,13),r.Ib(Gt,10),r.Ib($t,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.xb([Le]),r.vb]}),t})();const Ve={provide:Lt,useExisting:Object(r.T)(()=>Me)};let Me=(()=>{class t extends Lt{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return pe(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return _e(this._validators)}get asyncValidator(){return we(this._asyncValidators)}_checkParentType(){Fe(this._parent)&&ce.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Lt,13),r.Ib(Gt,10),r.Ib($t,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.xb([Ve]),r.vb]}),t})();function Fe(t){return!(t instanceof Ue||t instanceof De||t instanceof Me)}const ze={provide:Mt,useExisting:Object(r.T)(()=>qe)};let qe=(()=>{class t extends Mt{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||be(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===Pt?n=e:(o=e,Oe.some(t=>o.constructor===t)?(r&&be(t,"More than one built-in value accessor matches form control with"),r=e):(i&&be(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(be(t,"No valid value accessor for form control with"),null)}(this,i)}set isDisabled(t){ce.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(e,this.viewModel)&&(function(t,e,n,i){Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(ce.ngModelWarning("formControlName"),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return pe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return _e(this._rawValidators)}get asyncValidator(){return we(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Ue)&&this._parent instanceof je?ce.ngModelGroupException():this._parent instanceof Ue||this._parent instanceof De||this._parent instanceof Me||ce.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Lt,13),r.Ib(Gt,10),r.Ib($t,10),r.Ib(Ct,10),r.Ib(Re,8))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([ze]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})(),He=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),Be=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Ie(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new ke(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Ce(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ke||t instanceof Ie||t instanceof Ce?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Ge=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[re],imports:[He]}),t})(),$e=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Re,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Be,re],imports:[He]}),t})();var We=n("LvDl"),Ke=n("XNiG"),Je=n("LRne"),Ze=n("VRyK"),Xe=n("pxpQ"),Qe=n("l7GE"),Ye=n("51Dv"),tn=n("ZUHj");function en(t,e){return"function"==typeof e?n=>n.pipe(en((n,r)=>Object(kt.a)(t(n,r)).pipe(Object(St.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new nn(t))}class nn{constructor(t){this.project=t}call(t,e){return e.subscribe(new rn(t,this.project))}}class rn extends Qe.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new Ye.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(tn.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}var on=n("qgXg"),sn=n("quSY"),an=n("9ppp"),un=n("Ylt2");class cn extends Ke.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new ln(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new an.a;if(this.isStopped||this.hasError?o=sn.a.EMPTY:(this.observers.push(t),o=new un.a(this,t)),r&&t.add(t=new Xe.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||on.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class ln{constructor(t,e){this.time=t,this.value=e}}function hn(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){s++,i&&!a||(a=!1,i=new cn(t,e,r),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const fn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var dn=n("7o/Q");function pn(t,e){return function(n){return n.lift(new gn(t,e))}}class gn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new vn(t,this.predicate,this.thisArg))}}class vn extends dn.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const mn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var yn=n("EY2u");function bn(t){return e=>0===t?Object(yn.b)():e.lift(new _n(t))}class _n{constructor(t){if(this.total=t,this.total<0)throw new mn}call(t,e){return e.subscribe(new wn(t,this.total))}}class wn extends dn.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function On(t=null){return e=>e.lift(new En(t))}class En{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new xn(t,this.defaultValue))}}class xn extends dn.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Sn(t=In){return e=>e.lift(new Tn(t))}class Tn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new kn(t,this.errorFactory))}}class kn extends dn.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(By){t=By}this.destination.error(t)}}}function In(){return new fn}var Cn=n("SpAZ");function jn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?pn((e,n)=>t(e,n,r)):Cn.a,bn(1),n?On(e):Sn(()=>new fn))}function An(t,e){return e?en(()=>t,e):en(()=>t)}var Nn=n("tf+s"),Rn=n("spgP");const Pn=new r.q("angularfire2.auth.use-emulator"),Dn=new r.q("angularfire2.auth.settings"),Ln=new r.q("angularfire2.auth.tenant-id"),Un=new r.q("angularfire2.auth.langugage-code"),Vn=new r.q("angularfire2.auth.use-device-language"),Mn=new r.q("angularfire.auth.persistence");let Fn=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Rn.e(i),f=Object(Rn.i)(h),d=new Ke.a,p=Object(Je.a)(void 0).pipe(Object(Xe.b)(h.outsideAngular),en(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(St.a)(()=>Object(Rn.h)(t,i,e)),Object(St.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Rn.g)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),hn({bufferSize:1,refCount:!1}));if(F(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Je.a)(null);else{p.pipe(jn()).subscribe();const t=p.pipe(en(t=>t.getRedirectResult().then(t=>t,()=>null)),f,hn({bufferSize:1,refCount:!1})),e=t=>new Et.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(en(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(en(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(An(n),Object(Nn.a)(h.outsideAngular),Object(Xe.b)(h.insideAngular)),this.user=t.pipe(An(r),Object(Nn.a)(h.outsideAngular),Object(Xe.b)(h.insideAngular)),this.idToken=this.user.pipe(en(t=>t?Object(kt.a)(t.getIdToken()):Object(Je.a)(null))),this.idTokenResult=this.user.pipe(en(t=>t?Object(kt.a)(t.getIdTokenResult()):Object(Je.a)(null))),this.credential=Object(Ze.a)(t,d,this.authState.pipe(pn(t=>!t))).pipe(Object(St.a)(t=>(null==t?void 0:t.user)?t:null),Object(Nn.a)(h.outsideAngular),Object(Xe.b)(h.insideAngular))}return Object(Rn.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Rn.c),r.Ob(Rn.b,8),r.Ob(r.B),r.Ob(r.z),r.Ob(Pn,8),r.Ob(Dn,8),r.Ob(Ln,8),r.Ob(Un,8),r.Ob(Vn,8),r.Ob(Mn,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Ob)(Rn.c),Object(r.Ob)(Rn.b,8),Object(r.Ob)(r.B),Object(r.Ob)(r.z),Object(r.Ob)(Pn,8),Object(r.Ob)(Dn,8),Object(r.Ob)(Ln,8),Object(r.Ob)(Un,8),Object(r.Ob)(Vn,8),Object(r.Ob)(Mn,8))},token:t,providedIn:"any"}),t})(),zn=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Fn]}),t})();var qn=n("D0XW");class Hn{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Bn(t,this.dueTime,this.scheduler))}}class Bn extends dn.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Gn,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Gn(t){t.debouncedNext()}var $n=n("zIRd"),Wn=n("uXP2"),Kn=n("qOnz"),Jn=n("/6Yf"),Zn=function(t){function e(n,r){var i=t.call(this,Xn(n),"Firebase Storage: "+r+" ("+Xn(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(Wn.c)(e,t),e.prototype.codeEquals=function(t){return Xn(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Kn.c);function Xn(t){return"storage/"+t}function Qn(){return new Zn("unknown","An unknown error occurred, please check the error payload for server response.")}function Yn(){return new Zn("canceled","User canceled the upload/download.")}function tr(){return new Zn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function er(t){return new Zn("invalid-argument",t)}function nr(){return new Zn("app-deleted","The Firebase app was deleted.")}function rr(t){return new Zn("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ir(t,e){return new Zn("invalid-format","String does not match format '"+t+"': "+e)}function or(t){throw new Zn("internal-error","Internal error: "+t)}var sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ar=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function ur(t,e){switch(t){case sr.RAW:return new ar(cr(e));case sr.BASE64:case sr.BASE64URL:return new ar(lr(t,e));case sr.DATA_URL:return new ar((n=new hr(e)).base64?lr(sr.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(By){throw ir(sr.DATA_URL,"Malformed data URL.")}return cr(e)}(n.rest),function(t){return new hr(t).contentType}(e))}var n;throw Qn()}function cr(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function lr(t,e){switch(t){case sr.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw ir(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case sr.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw ir(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(By){throw ir(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var hr=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw ir(sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),fr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dr(t){switch(t){case"running":case"pausing":case"canceling":return fr.RUNNING;case"paused":return fr.PAUSED;case"success":return fr.SUCCESS;case"canceled":return fr.CANCELED;case"error":default:return fr.ERROR}}var pr=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),gr=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=pr.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=pr.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=pr.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw or("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw or("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw or("cannot .getStatus() before sending");try{return this.xhr_.status}catch(By){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw or("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),vr=function(){function t(){}return t.prototype.createXhrIo=function(){return new gr},t}();function mr(t){return"string"==typeof t||t instanceof String}function yr(t){return br()&&t instanceof Blob}function br(){return"undefined"!=typeof Blob}function _r(t,e,n,r){if(r<e)throw new Zn("invalid-argument","Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Zn("invalid-argument","Invalid value for '"+t+"'. Expected "+n+" or less.")}function wr(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Or(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=wr();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(br())return new Blob(t);throw new Zn("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Er=function(){function t(t,e){var n=0,r="";yr(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(yr(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(br()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Or.apply(null,r))}var i=e.map((function(t){return mr(t)?ur(sr.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),xr=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(By){return new t(e,"")}if(""===n.path)return n;throw new Zn("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<s.length;a++){var u=s[a],c=u.regex.exec(e);if(c){var l=c[u.indices.path];l||(l=""),n=new t(c[u.indices.bucket],l),u.postModify(n);break}}if(null==n)throw function(t){return new Zn("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function Sr(t){var e,n;try{e=JSON.parse(t)}catch(By){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function Tr(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function kr(t){return"https://firebasestorage.googleapis.com/v0"+t}function Ir(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function Cr(t,e){return e}var jr=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Cr}}(),Ar=null;function Nr(){if(Ar)return Ar;var t=[];t.push(new jr("bucket")),t.push(new jr("generation")),t.push(new jr("metageneration")),t.push(new jr("name","fullPath",!0));var e=new jr("name");e.xform=function(t,e){return function(t){return!mr(t)||t.length<2?t:Tr(t)}(e)},t.push(e);var n=new jr("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new jr("timeCreated")),t.push(new jr("updated")),t.push(new jr("md5Hash",null,!0)),t.push(new jr("cacheControl",null,!0)),t.push(new jr("contentDisposition",null,!0)),t.push(new jr("contentEncoding",null,!0)),t.push(new jr("contentLanguage",null,!0)),t.push(new jr("contentType",null,!0)),t.push(new jr("metadata","customMetadata",!0)),Ar=t}function Rr(t,e,n){var r=Sr(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new xr(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Pr(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Dr=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Lr(t){if(!t)throw Qn()}function Ur(t,e){return function(n,r){var i=Rr(t,r,e);return Lr(null!==i),i}}function Vr(t){return function(e,n){var r;return(r=401===e.getStatus()?new Zn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Zn("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Zn("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function Mr(t){var e=Vr(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Zn("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Fr(t,e,n){var r=kr(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Dr(r,"GET",Ur(t,n),i);return o.errorHandler=Mr(e),o}function zr(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var qr=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Hr(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(By){Lr(!1)}return Lr(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Br=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),Gr=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function $r(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var Wr=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Nr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=zr(e,r,i),a={name:s.fullPath},u=kr(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=Pr(s,n),h=new Dr(u,"POST",(function(t){var e;Hr(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(By){Lr(!1)}return Lr(mr(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=Vr(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=new Dr(n,"POST",(function(t){var e=Hr(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(By){Lr(!1)}n||Lr(!1);var i=Number(n);return Lr(!isNaN(i)),new qr(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Vr(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new qr(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new qr(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Zn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw tr();var p=new Dr(n,"POST",(function(t,n){var i,s=Hr(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?Ur(e,o)(t,n):null,new qr(a,c,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=Vr(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(By){return t._error=By,void t._transition("error")}var s=t._ref.storage.makeRequest(o,i);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=Fr(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=zr(e,r,i),c=Pr(u,n),l=Er.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw tr();var h={name:u.fullPath},f=kr(o),d=t.maxUploadRetryTime,p=new Dr(f,"POST",Ur(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=Vr(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Yn(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=dr(this._state);return new Gr(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Br(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(dr(this._state)){case fr.SUCCESS:$r(this._resolve.bind(null,this.snapshot))();break;case fr.CANCELED:case fr.ERROR:$r(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(dr(this._state)){case fr.RUNNING:case fr.PAUSED:t.next&&$r(t.next.bind(t,this.snapshot))();break;case fr.SUCCESS:t.complete&&$r(t.complete.bind(t))();break;case fr.CANCELED:case fr.ERROR:t.error&&$r(t.error.bind(t,this._error))();break;default:t.error&&$r(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Kr=function(){function t(t,e){this._service=t,this._location=e instanceof xr?e:xr.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new xr(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Tr(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new xr(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw rr(t)},t}();function Jr(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Wn.d)(this,(function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&_r("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=kr(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new Dr(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=Sr(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new xr(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new xr(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return Lr(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=Vr(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}}))}))}function Zr(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new xr(t._location.bucket,n);return new Kr(t.storage,r)}var Xr=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Qr=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new Xr(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new Xr(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new Xr(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Xr(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Yr=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new ti(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new ti(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),ti=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(Zr(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Qr(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new Wr(t,new Er(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=sr.RAW),this._throwIfRoot("putString"),new Qr(function(t,e,n,r){void 0===n&&(n=sr.RAW),t._throwIfRoot("putString");var i=ur(n,e),o=Object(Wn.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new Wr(t,new Er(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t,e,n=this;return(t=this._delegate,e={prefixes:[],items:[]},function t(e,n,r){return Object(Wn.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Wn.d)(this,(function(a){switch(a.label){case 0:return[4,Jr(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))).then((function(t){return new Yr(t,n.storage)}))},t.prototype.list=function(t){var e=this;return Jr(this._delegate,t).then((function(t){return new Yr(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e,n;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=Fr(t.storage,t._location,Nr()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r;return Object(Wn.d)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=kr(e.fullServerUrl()),o=Pr(n,r),s=t.maxOperationRetryTime,a=new Dr(i,"PATCH",Ur(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Mr(e),a}(t.storage,t._location,e,Nr()),[2,t.storage.makeRequest(r,n).getPromise()]}}))}))}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e,n;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=kr(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Dr(r,"GET",function(t,e){return function(n,r){var i=Rr(t,r,e);return Lr(null!==i),function(t,e){var n=Sr(e);if(null===n)return null;if(!mr(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return kr("/b/"+i(t.bucket)+"/o/"+i(n))+Ir({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=Mr(e),o}(t.storage,t._location,Nr()),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new Zn("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e,n;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=kr(e.fullServerUrl()),r=new Dr(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Mr(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw rr(t)},t}(),ei=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),ni=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(By){o(By)}else null!==s?((r=Qn()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?nr():Yn():new Zn("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new ri(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new ri(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===pr.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new ri(s,n))}else{var a=n.getErrorCode()===pr.ABORT;e(!1,new ri(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Wn.g)([null,t],e));else{var r,o=u()||s;o?l.call.apply(l,Object(Wn.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),ri=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function ii(t){return/^[A-Za-z]+:\/\//.test(t)}function oi(t,e){if(e&&ii(e)){if(t instanceof ui)return new Kr(t,e);throw er("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof ui){var r=e;if(null==r._bucket)throw new Zn("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new Kr(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw er('`path` param cannot contain ".."');return Zr(e,n)}return e}(t,e)}var si,ai,ui=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?xr.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:xr.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){_r("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){_r("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(Wn.b)(this,void 0,void 0,(function(){var t,e;return Object(Wn.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new Kr(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new ei(nr());var r=function(t,e,n,r){var i=Ir(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==$n.a?$n.a.SDK_VERSION:"AppManager")}(s),new ni(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),ci=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(ii(t))throw er("ref() expected a child path but got a URL, use refFromURL instead.");return new ti(oi(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!ii(t))throw er("refFromURL() expected a full URL but got a child path, use ref() instead.");try{xr.makeFromUrl(t)}catch(By){throw er("refFromUrl() expected a valid full URL but got an invalid one.")}return new ti(oi(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function li(t){const e=function(t){return new Et.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=qn.a){return n=>n.lift(new Hn(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(St.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function hi(t,e,n){return{getDownloadURL:()=>Object(Je.a)(void 0).pipe(Object(Xe.b)(e.outsideAngular),en(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Je.a)(void 0).pipe(Object(Xe.b)(e.outsideAngular),en(()=>t.getMetadata()),n),delete:()=>Object(kt.a)(t.delete()),child:r=>hi(t.child(r),e,n),updateMetadata:e=>Object(kt.a)(t.updateMetadata(e)),put:(e,n)=>li(t.put(e,n)),putString:(e,n,r)=>li(t.putString(e,n,r)),listAll:()=>Object(kt.a)(t.listAll())}}ai={TaskState:fr,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:sr,Storage:ui,Reference:ti},(si=$n.a).INTERNAL.registerComponent(new Jn.a("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new ci(n,new ui(n,r,new vr,e))}),"PUBLIC").setServiceProps(ai).setMultipleInstances(!0)),si.registerVersion("@firebase/storage","0.4.2");const fi=new r.q("angularfire2.storageBucket"),di=new r.q("angularfire2.storage.maxUploadRetryTime"),pi=new r.q("angularfire2.storage.maxOperationRetryTime");let gi=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new Rn.e(i),this.keepUnstableUntilFirst=Object(Rn.i)(this.schedulers);const a=Object(Rn.h)(t,i,e);this.storage=Object(Rn.g)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return hi(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return hi(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return hi(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Rn.c),r.Ob(Rn.b,8),r.Ob(fi,8),r.Ob(r.B),r.Ob(r.z),r.Ob(di,8),r.Ob(pi,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Ob)(Rn.c),Object(r.Ob)(Rn.b,8),Object(r.Ob)(fi,8),Object(r.Ob)(r.B),Object(r.Ob)(r.z),Object(r.Ob)(di,8),Object(r.Ob)(pi,8))},token:t,providedIn:"any"}),t})(),vi=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),mi=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[gi],imports:[vi]}),t})();var yi=n("bHdf");function bi(){return Object(yi.a)(1)}function _i(...t){return bi()(Object(Je.a)(...t))}var wi=n("z+Ro");function Oi(...t){const e=t[t.length-1];return Object(wi.a)(e)?(t.pop(),n=>_i(t,n,e)):e=>_i(t,e)}function Ei(){return t=>t.lift(new xi)}class xi{call(t,e){return e.subscribe(new Si(t))}}class Si extends dn.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Ti(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ki(t,e,n))}}class ki{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ii(t,this.accumulator,this.seed,this.hasSeed))}}class Ii extends dn.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ci(t,e){return n=>n.lift(new ji(t,e))}class ji{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ai(t,this.compare,this.keySelector))}}class Ai extends dn.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ni=n("Jgta"),Ri=n("q/0M"),Pi=function(t,e){return(Pi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Di(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Li,Ui="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Vi=Vi||{},Mi=Ui||self;function Fi(){}function zi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function qi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Hi="closure_uid_"+(1e9*Math.random()>>>0),Bi=0;function Gi(t,e,n){return t.call.apply(t.bind,arguments)}function $i(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Wi(t,e,n){return(Wi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gi:$i).apply(null,arguments)}function Ki(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ji(){return Date.now()}function Zi(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Xi(){this.j=this.j,this.i=this.i}Xi.prototype.j=!1,Xi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Hi)&&t[Hi]||(t[Hi]=++Bi)}(this)},Xi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Qi=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Yi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function to(t){return Array.prototype.concat.apply([],arguments)}function eo(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function no(t){return/^[\s\xa0]*$/.test(t)}var ro,io=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function oo(t,e){return-1!=t.indexOf(e)}function so(t,e){return t<e?-1:t>e?1:0}t:{var ao=Mi.navigator;if(ao){var uo=ao.userAgent;if(uo){ro=uo;break t}}ro=""}function co(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function lo(t){var e={};for(var n in t)e[n]=t[n];return e}var ho="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ho.length;o++)n=ho[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function po(t){return po[" "](t),t}po[" "]=Fi;var go,vo,mo=oo(ro,"Opera"),yo=oo(ro,"Trident")||oo(ro,"MSIE"),bo=oo(ro,"Edge"),_o=bo||yo,wo=oo(ro,"Gecko")&&!(oo(ro.toLowerCase(),"webkit")&&!oo(ro,"Edge"))&&!(oo(ro,"Trident")||oo(ro,"MSIE"))&&!oo(ro,"Edge"),Oo=oo(ro.toLowerCase(),"webkit")&&!oo(ro,"Edge");function Eo(){var t=Mi.document;return t?t.documentMode:void 0}t:{var xo="",So=(vo=ro,wo?/rv:([^\);]+)(\)|;)/.exec(vo):bo?/Edge\/([\d\.]+)/.exec(vo):yo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(vo):Oo?/WebKit\/(\S+)/.exec(vo):mo?/(?:Version)[ \/]?(\S+)/.exec(vo):void 0);if(So&&(xo=So?So[1]:""),yo){var To=Eo();if(null!=To&&To>parseFloat(xo)){go=String(To);break t}}go=xo}var ko={};function Io(t){return function(t,e){var n=ko;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=io(String(go)).split("."),r=io(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=so(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||so(0==s[2].length,0==a[2].length)||so(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var Co=Mi.document&&yo&&(Eo()||parseInt(go,10))||void 0,jo=!yo||9<=Number(Co),Ao=yo&&!Io("9"),No=function(){if(!Mi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Mi.addEventListener("test",Fi,e),Mi.removeEventListener("test",Fi,e)}catch(n){}return t}();function Ro(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Po(t,e){if(Ro.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(wo){t:{try{po(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Do[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ro.prototype.b=function(){this.defaultPrevented=!0},Zi(Po,Ro);var Do={2:"touch",3:"pen",4:"mouse"};Po.prototype.b=function(){Po.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ao)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Lo="closure_listenable_"+(1e6*Math.random()|0),Uo=0;function Vo(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Uo,this.Y=this.Z=!1}function Mo(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Fo(t){this.src=t,this.a={},this.b=0}function zo(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Qi(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Mo(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function qo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Fo.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=qo(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Vo(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ho="closure_lm_"+(1e6*Math.random()|0),Bo={};function Go(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Yo(r),e&&e[Lo]?e.wa(n,r,qi(i)?!!i.capture:!!i,o):$o(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Go(t,e[o],n,r,i);return null}return n=Yo(n),t&&t[Lo]?t.va(e,n,qi(r)?!!r.capture:!!r,i):$o(t,e,n,!1,r,i)}function $o(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=qi(i)?!!i.capture:!!i;if(s&&!jo)return null;var a=Xo(t);if(a||(t[Ho]=a=new Fo(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Zo,e=jo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)No||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ko(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Wo(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Lo])zo(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ko(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xo(e))?(zo(n,t),0==n.b&&(n.src=null,e[Ho]=null)):Mo(t)}}}function Ko(t){return t in Bo?Bo[t]:Bo[t]="on"+t}function Jo(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Wo(t),n.call(r,e)}function Zo(t,e){if(t.Y)return!0;if(!jo){if(!e)t:{e=["window","event"];for(var n=Mi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Jo(t,e=new Po(e,this))}return Jo(t,new Po(e,this))}function Xo(t){return(t=t[Ho])instanceof Fo?t:null}var Qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yo(t){return"function"==typeof t?t:(t[Qo]||(t[Qo]=function(e){return t.handleEvent(e)}),t[Qo])}function ts(){Xi.call(this),this.c=new Fo(this),this.J=this,this.C=null}function es(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ro(e,t);else if(e instanceof Ro)e.target=e.target||t;else{var i=e;fo(e=new Ro(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=ns(s,r,!0,e)&&i}if(i=ns(s=e.a=t,r,!0,e)&&i,i=ns(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ns(s=e.a=n[o],r,!1,e)&&i}function ns(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&zo(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Zi(ts,Xi),ts.prototype[Lo]=!0,(Li=ts.prototype).addEventListener=function(t,e,n,r){Go(this,t,e,n,r)},Li.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=qi(i)?!!i.capture:!!i,r=Yo(r),e&&e[Lo]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=qo(s=e.a[n],r,i,o))&&(Mo(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Xo(e))&&(n=e.a[n.toString()],e=-1,n&&(e=qo(n,r,i,o)),(r=-1<e?n[e]:null)&&Wo(r))}(this,t,e,n,r)},Li.G=function(){if(ts.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Mo(n[r]);delete e.a[t],e.b--}}this.C=null},Li.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Li.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var rs=Mi.JSON.stringify;function is(){this.b=this.a=null}var os,ss=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new us}),(function(t){t.reset()}));function as(){var t=fs,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function us(){this.next=this.b=this.a=null}function cs(t){Mi.setTimeout((function(){throw t}),0)}function ls(t,e){os||function(){var t=Mi.Promise.resolve(void 0);os=function(){t.then(ds)}}(),hs||(os(),hs=!0),fs.add(t,e)}is.prototype.add=function(t,e){var n=ss.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},us.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},us.prototype.reset=function(){this.next=this.b=this.a=null};var hs=!1,fs=new is;function ds(){for(var t;t=as();){try{t.a.call(t.b)}catch(n){cs(n)}var e=ss;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}hs=!1}function ps(t,e){ts.call(this),this.b=t||1,this.a=e||Mi,this.f=Wi(this.Za,this),this.g=Ji()}function gs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function vs(t,e,n){if("function"==typeof t)n&&(t=Wi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Wi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Mi.setTimeout(t,e||0)}function ms(t){t.a=vs((function(){t.a=null,t.c&&(t.c=!1,ms(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Zi(ps,ts),(Li=ps.prototype).aa=!1,Li.M=null,Li.Za=function(){if(this.aa){var t=Ji()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),es(this,"tick"),this.aa&&(gs(this),this.start()))}},Li.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ji())},Li.G=function(){ps.X.G.call(this),gs(this),delete this.a};var ys=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Pi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ms(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Mi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Xi);function bs(t){Xi.call(this),this.b=t,this.a={}}Zi(bs,Xi);var _s=[];function ws(t,e,n,r){Array.isArray(n)||(n&&(_s[0]=n.toString()),n=_s);for(var i=0;i<n.length;i++){var o=Go(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Os(t){co(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Wo(t)}),t),t.a={}}function Es(){this.a=!0}function xs(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return rs(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}bs.prototype.G=function(){bs.X.G.call(this),Os(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Es.prototype.info=function(){};var Ss={},Ts=null;function ks(){return Ts=Ts||new ts}function Is(t){Ro.call(this,Ss.Fa,t)}function Cs(t){var e=ks();es(e,new Is(e,t))}function js(t,e){Ro.call(this,Ss.STAT_EVENT,t),this.stat=e}function As(t){var e=ks();es(e,new js(e,t))}function Ns(t){Ro.call(this,Ss.Ga,t)}function Rs(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Mi.setTimeout((function(){t()}),e)}Ss.Fa="serverreachability",Zi(Is,Ro),Ss.STAT_EVENT="statevent",Zi(js,Ro),Ss.Ga="timingevent",Zi(Ns,Ro);var Ps={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ds={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ls(){}function Us(){}Ls.prototype.a=null;var Vs,Ms={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Fs(){Ro.call(this,"d")}function zs(){Ro.call(this,"c")}function qs(){}function Hs(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new bs(this),this.P=Bs,this.R=new ps(t=_o?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Zi(Fs,Ro),Zi(zs,Ro),Zi(qs,Ls),Vs=new qs;var Bs=45e3,Gs={},$s={};function Ws(t,e,n){t.H=1,t.i=ga(ca(e)),t.j=n,t.I=!0,Ks(t,null)}function Ks(t,e){t.u=Ji(),Xs(t),t.l=ca(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ia(n.b,"t",r),t.D=0,t.a=Ou(t.g,t.g.C?e:null),0<t.O&&(t.F=new ys(Wi(t.Ca,t,t.a),t.O)),ws(t.J,t.a,"readystatechange",t.Xa),e=t.B?lo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Cs(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Js(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Zs(t,n);if(i==$s){4==e&&(t.h=4,As(14),r=!1),xs(t.c,t.f,null,"[Incomplete Response]");break}if(i==Gs){t.h=4,As(15),xs(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}xs(t.c,t.f,i,null),na(t,i)}4==e&&0==n.length&&(t.h=1,As(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),pu(e),e.F=!0,As(11))):(xs(t.c,t.f,n,"[Invalid Chunked Response]"),ea(t),ta(t))}function Zs(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?$s:(n=Number(e.substring(n,r)),isNaN(n)?Gs:(r+=1)+n>e.length?$s:(e=e.substr(r,n),t.D=r+n,e))}function Xs(t){t.T=Ji()+t.P,Qs(t,t.P)}function Qs(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Rs(Wi(t.Va,t),e)}function Ys(t){t.o&&(Mi.clearTimeout(t.o),t.o=null)}function ta(t){0==t.g.v||t.A||mu(t.g,t)}function ea(t){Ys(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,gs(t.R),Os(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function na(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Da(n.b,t)))if(n.I=t.N,!t.C&&Da(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(ry){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;vu(n),ou(n)}du(n),As(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Rs(Wi(n.Sa,n),6e3));if(1>=Pa(n.b)&&n.ea){try{n.ea()}catch(ry){}n.ea=void 0}}else bu(n,11)}else if((t.C||n.a==t)&&vu(n),!no(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(oo(l,"spdy")||oo(l,"quic")||oo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(La(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,pa(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ji()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=wu(u,u.C?u.ga:null,u.fa),d.C){Ua(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Ys(p),Xs(p)),u.a=d}else fu(u);0<n.g.length&&uu(n)}else"stop"!=i[0]&&"close"!=i[0]||bu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?bu(n,7):iu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Cs(4)}catch(ry){}}function ra(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(zi(t)||"string"==typeof t)Yi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(zi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(zi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ia(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ia)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function oa(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];sa(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)sa(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function sa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Li=Hs.prototype).setTimeout=function(t){this.P=t},Li.Xa=function(t){t=t.target;var e=this.F;e&&3==tu(t)?e.f():this.Ca(t)},Li.Ca=function(t){try{if(t==this.a)t:{var e=tu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!_o&&!this.a.$())){this.A||4!=e||7==n||Cs(8==n||0>=r?3:2),Ys(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!no(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,As(12),ea(this),ta(this);break t}xs(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,na(this,u)}this.I?(Js(this,e,o),_o&&this.b&&3==e&&(ws(this.J,this.R,"tick",this.Wa),this.R.start())):(xs(this.c,this.f,o,null),na(this,o)),4==e&&ea(this),this.b&&!this.A&&(4==e?mu(this.g,this):(this.b=!1,Xs(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,As(12)):(this.h=0,As(13)),ea(this),ta(this)}}}catch(c){}},Li.Wa=function(){if(this.a){var t=tu(this.a),e=this.a.$();this.D<e.length&&(Ys(this),Js(this,t,e),this.b&&4!=t&&Xs(this))}},Li.cancel=function(){this.A=!0,ea(this)},Li.Va=function(){this.o=null;var t=Ji();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Cs(3),As(17)),ea(this),this.h=2,ta(this)):Qs(this,this.T-t)},(Li=ia.prototype).K=function(){oa(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Li.L=function(){return oa(this),this.a.concat()},Li.get=function(t,e){return sa(this.b,t)?this.b[t]:e},Li.set=function(t,e){sa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Li.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var aa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ua(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ua){this.a=void 0!==e?e:t.a,la(this,t.f),this.j=t.j,ha(this,t.c),fa(this,t.h),this.g=t.g,e=t.b;var n=new xa;n.c=e.c,e.a&&(n.a=new ia(e.a),n.b=e.b),da(this,n),this.i=t.i}else t&&(n=String(t).match(aa))?(this.a=!!e,la(this,n[1]||"",!0),this.j=va(n[2]||""),ha(this,n[3]||"",!0),fa(this,n[4]),this.g=va(n[5]||"",!0),da(this,n[6]||"",!0),this.i=va(n[7]||"")):(this.a=!!e,this.b=new xa(null,this.a))}function ca(t){return new ua(t)}function la(t,e,n){t.f=n?va(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ha(t,e,n){t.c=n?va(e,!0):e}function fa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function da(t,e,n){e instanceof xa?(t.b=e,function(t,e){e&&!t.f&&(Sa(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ta(this,e),Ia(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=ma(e,Oa)),t.b=new xa(e,t.a))}function pa(t,e,n){t.b.set(e,n)}function ga(t){return pa(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ji()).toString(36)),t}function va(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ma(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ya),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ya(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ua.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ma(e,ba,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ma(e,ba,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ma(n,"/"==n.charAt(0)?wa:_a,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ma(n,Ea)),t.join("")};var ba=/[#\/\?@]/g,_a=/[#\?:]/g,wa=/[#\?]/g,Oa=/[#\?@]/g,Ea=/#/g;function xa(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Sa(t){t.a||(t.a=new ia,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ta(t,e){Sa(t),e=Ca(t,e),sa(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,sa((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&oa(t)))}function ka(t,e){return Sa(t),e=Ca(t,e),sa(t.a.b,e)}function Ia(t,e,n){Ta(t,e),0<n.length&&(t.c=null,t.a.set(Ca(t,e),eo(n)),t.b+=n.length)}function Ca(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Li=xa.prototype).add=function(t,e){Sa(this),this.c=null,t=Ca(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Li.forEach=function(t,e){Sa(this),this.a.forEach((function(n,r){Yi(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Li.L=function(){Sa(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Li.K=function(t){Sa(this);var e=[];if("string"==typeof t)ka(this,t)&&(e=to(e,this.a.get(Ca(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=to(e,t[n])}return e},Li.set=function(t,e){return Sa(this),this.c=null,ka(this,t=Ca(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Li.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Li.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ja=function(){return function(t,e){this.b=t,this.a=e}}();function Aa(t){this.g=t||Na,t=Mi.PerformanceNavigationTiming?0<(t=Mi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Mi.ia&&Mi.ia.ya&&Mi.ia.ya()&&Mi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Na=10;function Ra(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Pa(t){return t.b?1:t.a?t.a.size:0}function Da(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function La(t,e){t.a?t.a.add(e):t.b=e}function Ua(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Va(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Di(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return eo(t.c)}function Ma(){}function Fa(){this.a=new Ma}function za(t,e,n){var r=n||"";try{ra(t,(function(t,n){var i=t;qi(t)&&(i=rs(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(By){throw e.push(r+"type="+encodeURIComponent("_badmap")),By}}function qa(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Aa.prototype.cancel=function(){var t,e;if(this.c=Va(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Di(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ma.prototype.stringify=function(t){return Mi.JSON.stringify(t,void 0)},Ma.prototype.parse=function(t){return Mi.JSON.parse(t,void 0)};var Ha=Mi.JSON.parse;function Ba(t){ts.call(this),this.headers=new ia,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ga,this.D=this.F=!1}Zi(Ba,ts);var Ga="",$a=/^https?$/i,Wa=["POST","PUT"];function Ka(t){return"content-type"==t.toLowerCase()}function Ja(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Za(t),Qa(t)}function Za(t){t.u||(t.u=!0,es(t,"complete"),es(t,"error"))}function Xa(t){if(t.b&&void 0!==Vi&&(!t.s[1]||4!=tu(t)||2!=t.W()))if(t.l&&4==tu(t))vs(t.za,0,t);else if(es(t,"readystatechange"),4==tu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(aa)[1]||null;if(!o&&Mi.self&&Mi.self.location){var s=Mi.self.location.protocol;o=s.substr(0,s.length-1)}i=!$a.test(o?o.toLowerCase():"")}e=i}if(e)es(t,"complete"),es(t,"success");else{t.h=6;try{var a=2<tu(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Za(t)}}finally{Qa(t)}}}function Qa(t,e){if(t.a){Ya(t);var n=t.a,r=t.s[0]?Fi:null;t.a=null,t.s=null,e||es(t,"ready");try{n.onreadystatechange=r}catch(By){}}}function Ya(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Mi.clearTimeout(t.m),t.m=null)}function tu(t){return t.a?t.a.readyState:0}function eu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return co(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):pa(t,e,n))}function nu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ru(t){this.pa=0,this.g=[],this.c=new Es,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=nu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=nu("baseRetryDelayMs",5e3,t),this.Ra=nu("retryDelaySeedMs",1e4,t),this.Ma=nu("forwardChannelMaxRetries",2,t),this.ma=nu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Aa(t&&t.concurrentRequestLimit),this.ka=new Fa,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function iu(t){if(su(t),3==t.v){var e=t.R++,n=ca(t.B);pa(n,"SID",t.J),pa(n,"RID",e),pa(n,"TYPE","terminate"),lu(t,n),(e=new Hs(t,t.c,e,void 0)).H=2,e.i=ga(ca(n)),n=!1,Mi.navigator&&Mi.navigator.sendBeacon&&(n=Mi.navigator.sendBeacon(e.i.toString(),"")),!n&&Mi.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ou(e.g,null),e.a.ba(e.i)),e.u=Ji(),Xs(e)}_u(t)}function ou(t){t.a&&(pu(t),t.a.cancel(),t.a=null)}function su(t){ou(t),t.j&&(Mi.clearTimeout(t.j),t.j=null),vu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Mi.clearTimeout(t.h),t.h=null)}function au(t,e){t.g.push(new ja(t.Oa++,e)),3==t.v&&uu(t)}function uu(t){Ra(t.b)||t.h||(t.h=!0,ls(t.Ba,t),t.u=0)}function cu(t,e){var n;n=e?e.f:t.R++;var r=ca(t.B);pa(r,"SID",t.J),pa(r,"RID",n),pa(r,"AID",t.P),lu(t,r),t.i&&t.l&&eu(r,t.i,t.l),n=new Hs(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=hu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),La(t.b,n),Ws(n,r,e)}function lu(t,e){t.f&&ra({},(function(t,n){pa(e,n,t)}))}function hu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Wi(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{za(l,s,"req"+c+"_")}catch(rc){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function fu(t){t.a||t.j||(t.T=1,ls(t.Aa,t),t.o=0)}function du(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Rs(Wi(t.Aa,t),yu(t,t.o)),t.o++,0))}function pu(t){null!=t.s&&(Mi.clearTimeout(t.s),t.s=null)}function gu(t){t.a=new Hs(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ca(t.la);pa(e,"RID","rpc"),pa(e,"SID",t.J),pa(e,"CI",t.H?"0":"1"),pa(e,"AID",t.P),lu(t,e),pa(e,"TYPE","xmlhttp"),t.i&&t.l&&eu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ga(ca(e)),n.j=null,n.I=!0,Ks(n,t)}function vu(t){null!=t.m&&(Mi.clearTimeout(t.m),t.m=null)}function mu(t,e){var n=null;if(t.a==e){vu(t),pu(t),t.a=null;var r=2}else{if(!Da(t.b,e))return;n=e.s,Ua(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ji()-e.u;var i=t.u;es(r=ks(),new Ns(r,n,e,i)),uu(t)}else fu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Pa(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Rs(Wi(t.Ba,t,e),yu(t,t.u)),t.u++,0)))}(t,e)||2==r&&du(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:bu(t,5);break;case 4:bu(t,10);break;case 3:bu(t,6);break;default:bu(t,2)}}function yu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function bu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Wi(t.Ya,t);n||(n=new ua("//www.google.com/images/cleardot.gif"),Mi.location&&"http"==Mi.location.protocol||la(n,"https"),ga(n)),function(t,e){var n=new Es;if(Mi.Image){var r=new Image;r.onload=Ki(qa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ki(qa,n,r,"TestLoadImage: error",!1,e),r.onabort=Ki(qa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ki(qa,n,r,"TestLoadImage: timeout",!1,e),Mi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else As(2);t.v=0,t.f&&t.f.ra(e),_u(t),su(t)}function _u(t){t.v=0,t.I=-1,t.f&&(0==Va(t.b).length&&0==t.g.length||(t.b.c.length=0,eo(t.g),t.g.length=0),t.f.qa())}function wu(t,e,n){var r=function(t){return t instanceof ua?ca(t):new ua(t,void 0)}(n);if(""!=r.c)e&&ha(r,e+"."+r.c),fa(r,r.h);else{var i=Mi.location;r=function(t,e,n,r){var i=new ua(null,void 0);return t&&la(i,t),e&&ha(i,e),n&&fa(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&co(t.V,(function(t,e){pa(r,e,t)})),n=t.na,(e=t.A)&&n&&pa(r,e,n),pa(r,"VER",t.ha),lu(t,r),r}function Ou(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ba(t.Na)).F=t.C,e}function Eu(){}function xu(){if(yo&&!(10<=Number(Co)))throw Error("Environmental error: no available transport.")}function Su(t,e){ts.call(this),this.a=new ru(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!no(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!no(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Iu(this)}function Tu(t){Fs.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ku(){zs.call(this),this.status=1}function Iu(t){this.a=t}(Li=Ba.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Vs),this.a.onreadystatechange=Wi(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Ja(this,o)}t=n||"";var i=new ia(this.headers);r&&ra(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ka,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Mi.FormData&&t instanceof Mi.FormData,!(0<=Qi(Wa,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ya(this),0<this.o&&((this.D=function(t){return yo&&Io(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Wi(this.xa,this)):this.m=vs(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Ja(this,o)}},Li.xa=function(){void 0!==Vi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,es(this,"timeout"),this.abort(8))},Li.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,es(this,"complete"),es(this,"abort"),Qa(this))},Li.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Qa(this,!0)),Ba.X.G.call(this)},Li.za=function(){this.j||(this.A||this.l||this.g?Xa(this):this.Ua())},Li.Ua=function(){Xa(this)},Li.W=function(){try{return 2<tu(this)?this.a.status:-1}catch(vo){return-1}},Li.$=function(){try{return this.a?this.a.responseText:""}catch(vo){return""}},Li.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ha(e)}},Li.ua=function(){return this.h},Li.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Li=ru.prototype).ha=8,Li.v=1,Li.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Hs(this,this.c,t,void 0),r=this.l;if(this.O&&(r?fo(r=lo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=hu(this,n,e),pa(i=ca(this.B),"RID",t),pa(i,"CVER",22),this.A&&pa(i,"X-HTTP-Session-Id",this.A),lu(this,i),this.i&&r&&eu(i,this.i,r),La(this.b,n),this.Ia&&pa(i,"TYPE","init"),this.da?(pa(i,"$req",e),pa(i,"SID","null"),n.U=!0,Ws(n,i,null)):Ws(n,i,e),this.v=2}}else 3==this.v&&(t?cu(this,t):0==this.g.length||Ra(this.b)||cu(this))},Li.Aa=function(){if(this.j=null,gu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Rs(Wi(this.Ta,this),t)}},Li.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,As(10),ou(this),gu(this))},Li.Sa=function(){null!=this.m&&(this.m=null,ou(this),du(this),As(19))},Li.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),As(2)):(this.c.info("Failed to ping google.com"),As(1))},(Li=Eu.prototype).ta=function(){},Li.sa=function(){},Li.ra=function(){},Li.qa=function(){},Li.Ja=function(){},xu.prototype.a=function(t,e){return new Su(t,e)},Zi(Su,ts),Su.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;As(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=wu(t,null,t.fa),uu(t)},Su.prototype.close=function(){iu(this.a)},Su.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,au(this.a,e)}else this.l?((e={}).__data__=rs(t),au(this.a,e)):au(this.a,t)},Su.prototype.G=function(){this.a.f=null,delete this.f,iu(this.a),delete this.a,Su.X.G.call(this)},Zi(Tu,Fs),Zi(ku,zs),Zi(Iu,Eu),Iu.prototype.ta=function(){es(this.a,"a")},Iu.prototype.sa=function(t){es(this.a,new Tu(t))},Iu.prototype.ra=function(t){es(this.a,new ku(t))},Iu.prototype.qa=function(){es(this.a,"b")},xu.prototype.createWebChannel=xu.prototype.a,Su.prototype.send=Su.prototype.h,Su.prototype.open=Su.prototype.g,Su.prototype.close=Su.prototype.close,Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,Ds.COMPLETE="complete",Us.EventType=Ms,Ms.OPEN="a",Ms.CLOSE="b",Ms.ERROR="c",Ms.MESSAGE="d",ts.prototype.listen=ts.prototype.va,Ba.prototype.listenOnce=Ba.prototype.wa,Ba.prototype.getLastError=Ba.prototype.Qa,Ba.prototype.getLastErrorCode=Ba.prototype.ua,Ba.prototype.getStatus=Ba.prototype.W,Ba.prototype.getResponseJson=Ba.prototype.Pa,Ba.prototype.getResponseText=Ba.prototype.$,Ba.prototype.send=Ba.prototype.ba;var Cu=Ps,ju=Ds,Au=Ss,Nu=Us,Ru=Ba,Pu=new Ri.b("@firebase/firestore");function Du(){return Pu.logLevel}function Lu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Pu.logLevel<=Ri.a.DEBUG){var r=e.map(Mu);Pu.debug.apply(Pu,Object(Wn.g)(["Firestore (8.2.2): "+t],r))}}function Uu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Pu.logLevel<=Ri.a.ERROR){var r=e.map(Mu);Pu.error.apply(Pu,Object(Wn.g)(["Firestore (8.2.2): "+t],r))}}function Vu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Pu.logLevel<=Ri.a.WARN){var r=e.map(Mu);Pu.warn.apply(Pu,Object(Wn.g)(["Firestore (8.2.2): "+t],r))}}function Mu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(By){return t}}function Fu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw Uu(e),new Error(e)}function zu(t,e){t||Fu()}function qu(t,e){return t}function Hu(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Bu=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Hu(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Gu(t,e){return t<e?-1:t>e?1:0}function $u(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Wu(t){return t+"\0"}var Ku=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Gu(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Ku.h=new Ku("");var Ju={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Zu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Wn.c)(e,t),e}(Error),Xu=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Ku.fromBase64String(e))}catch(e){throw new Zu(Ju.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ku.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Qu=function(t){this._=t};function Yu(){if("undefined"==typeof Uint8Array)throw new Zu(Ju.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tc(){if("undefined"==typeof atob)throw new Zu(Ju.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ec=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Wn.c)(e,t),e.fromBase64String=function(t){return tc(),new e(Xu.fromBase64String(t))},e.fromUint8Array=function(t){return Yu(),new e(Xu.fromUint8Array(t))},e.prototype.toBase64=function(){return tc(),this._.toBase64()},e.prototype.toUint8Array=function(){return Yu(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Qu),nc=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},rc=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ic=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();ic.UNAUTHENTICATED=new ic(null),ic.P=new ic("google-credentials-uid"),ic.g=new ic("first-party-uid");var oc=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},sc=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(ic.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),ac=function(){function t(t){var e=this;this.C=null,this.currentUser=ic.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.O!==e?(Lu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(zu("string"==typeof n.accessToken),new oc(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return zu(null===t||"string"==typeof t),new ic(t)},t}(),uc=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=ic.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),cc=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new uc(this.k,this.M))},t.prototype.S=function(t){t(ic.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),lc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();lc.U=-1;var hc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Zu(Ju.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Zu(Ju.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Zu(Ju.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zu(Ju.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Gu(this.nanoseconds,t.nanoseconds):Gu(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),fc=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new hc(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),dc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Fu(),void 0===n?n=t.length-e:n>t.length-e&&Fu(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),pc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Wn.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Zu(Ju.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(dc),gc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Wn.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return gc.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Zu(Ju.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Zu(Ju.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Zu(Ju.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Zu(Ju.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(dc),mc=function(){function t(t){this.path=t}return t.ft=function(e){return new t(pc.ct(e))},t.dt=function(e){return new t(pc.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===pc.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return pc.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new pc(e.slice()))},t}();function yc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _c(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var wc=function(){function t(t){this.fields=t,t.sort(vc.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return $u(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Oc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ec(t){if(zu(!!t),"string"==typeof t){var e=0,n=Oc.exec(t);if(zu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:xc(t.seconds),nanos:xc(t.nanos)}}function xc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Sc(t){return"string"==typeof t?Ku.fromBase64String(t):Ku.fromUint8Array(t)}function Tc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kc(t){var e=Ec(t.mapValue.fields.__local_write_time__.timestampValue);return new hc(e.seconds,e.nanos)}function Ic(t){return null==t}function Cc(t){return 0===t&&1/t==-1/0}function jc(t){return"number"==typeof t&&Number.isInteger(t)&&!Cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ac(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tc(t)?4:10:Fu()}function Nc(t,e){var n=Ac(t);if(n!==Ac(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kc(t).isEqual(kc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ec(t.timestampValue),r=Ec(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Sc(t.bytesValue).isEqual(Sc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return xc(t.geoPointValue.latitude)===xc(e.geoPointValue.latitude)&&xc(t.geoPointValue.longitude)===xc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return xc(t.integerValue)===xc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=xc(t.doubleValue),r=xc(e.doubleValue);return n===r?Cc(n)===Cc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return $u(t.arrayValue.values||[],e.arrayValue.values||[],Nc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(yc(n)!==yc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Nc(n[i],r[i])))return!1;return!0}(t,e);default:return Fu()}}function Rc(t,e){return void 0!==(t.values||[]).find((function(t){return Nc(t,e)}))}function Pc(t,e){var n=Ac(t),r=Ac(e);if(n!==r)return Gu(n,r);switch(n){case 0:return 0;case 1:return Gu(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=xc(t.integerValue||t.doubleValue),r=xc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Dc(t.timestampValue,e.timestampValue);case 4:return Dc(kc(t),kc(e));case 5:return Gu(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Sc(t),r=Sc(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Gu(n[i],r[i]);if(0!==o)return o}return Gu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Gu(xc(t.latitude),xc(e.latitude));return 0!==n?n:Gu(xc(t.longitude),xc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Pc(n[i],r[i]);if(o)return o}return Gu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Gu(r[s],o[s]);if(0!==a)return a;var u=Pc(n[r[s]],i[o[s]]);if(0!==u)return u}return Gu(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Fu()}}function Dc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Gu(t,e);var n=Ec(t),r=Ec(e),i=Gu(n.seconds,r.seconds);return 0!==i?i:Gu(n.nanos,r.nanos)}function Lc(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Ec(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sc(e.bytesValue).toBase64():"referenceValue"in e?mc.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Fu();var n}(t)}function Uc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Vc(t){return!!t&&"integerValue"in t}function Mc(t){return!!t&&"arrayValue"in t}function Fc(t){return!!t&&"nullValue"in t}function zc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qc(t){return!!t&&"mapValue"in t}var Hc=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!qc(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Nc(this.proto,t.proto)},t}(),Bc=function(){function t(t){void 0===t&&(t=Hc.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ac(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(vc.at(),this.Rt);return null!=t?new Hc(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=qc(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Gc(t){var e=[];return bc(t.fields||{},(function(t,n){var r=new vc([t]);if(qc(n)){var i=Gc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new wc(e)}var $c=function(t,e){this.key=t,this.version=e},Wc=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Wn.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}($c),Kc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Wn.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}($c),Jc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Wn.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}($c),Zc=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function Xc(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Zc(t,e,n,r,i,o,s)}function Qc(t){var e=qu(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+Lc(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),Ic(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=hl(e.startAt)),e.endAt&&(n+="|ub:",n+=hl(e.endAt)),e.St=n}return e.St}function Yc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!dl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Nc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gl(t.startAt,e.startAt)&&gl(t.endAt,e.endAt)}function tl(t){return mc.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var el=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Wn.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new nl(t,n,r):"array-contains"===n?new sl(t,r):"in"===n?new al(t,r):"not-in"===n?new ul(t,r):"array-contains-any"===n?new cl(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new rl(t,n):new il(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Pc(e,this.value)):null!==e&&Ac(this.value)===Ac(e)&&this.Ct(Pc(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Fu()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),nl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=mc.dt(r.referenceValue),i}return Object(Wn.c)(e,t),e.prototype.matches=function(t){var e=mc.J(t.key,this.key);return this.Ct(e)},e}(el),rl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ol(0,n),r}return Object(Wn.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(el),il=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ol(0,n),r}return Object(Wn.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(el);function ol(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return mc.dt(t.referenceValue)}))}var sl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Wn.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Mc(e)&&Rc(e.arrayValue,this.value)},e}(el),al=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Wn.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Rc(this.value.arrayValue,e)},e}(el),ul=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Wn.c)(e,t),e.prototype.matches=function(t){if(Rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Rc(this.value.arrayValue,e)},e}(el),cl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Wn.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Mc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Rc(e.value.arrayValue,t)}))},e}(el),ll=function(t,e){this.position=t,this.before=e};function hl(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Lc(t)})).join(",")}var fl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function dl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function pl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?mc.J(mc.dt(s.referenceValue),n.key):Pc(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function gl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Nc(t.position[n],e.position[n]))return!1;return!0}var vl=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ot=null,this.Ft=null};function ml(t,e,n,r,i,o,s,a){return new vl(t,e,n,r,i,o,s,a)}function yl(t){return new vl(t)}function bl(t){return!Ic(t.limit)&&"F"===t.limitType}function _l(t){return!Ic(t.limit)&&"L"===t.limitType}function wl(t){return t.Nt.length>0?t.Nt[0].field:null}function Ol(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function El(t){return null!==t.collectionGroup}function xl(t){var e=qu(t);if(null===e.Ot){e.Ot=[];var n=Ol(e),r=wl(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new fl(n)),e.Ot.push(new fl(vc.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ot.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new fl(vc.lt(),u))}}}return e.Ot}function Sl(t){var e=qu(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Xc(e.path,e.collectionGroup,xl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=xl(e);r<i.length;r++){var o=i[r];n.push(new fl(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new ll(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ll(e.startAt.position,!e.startAt.before):null;e.Ft=Xc(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ft}function Tl(t,e,n){return new vl(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kl(t,e){return Yc(Sl(t),Sl(e))&&t.limitType===e.limitType}function Il(t){return Qc(Sl(t))+"|lt:"+t.limitType}function Cl(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+Lc(e.value);var e})).join(", ")+"]"),Ic(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+hl(t.startAt)),t.endAt&&(e+=", endAt: "+hl(t.endAt)),"Target("+e+")"}(Sl(t))+"; limitType="+t.limitType+")"}function jl(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):mc.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!pl(t.startAt,xl(t),e)||t.endAt&&pl(t.endAt,xl(t),e))}(t,e)}function Al(t){return function(e,n){for(var r=!1,i=0,o=xl(t);i<o.length;i++){var s=o[i],a=Nl(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function Nl(t,e,n){var r=t.field.ht()?mc.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Pc(r,i):Fu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fu()}}var Rl=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=fc.min()),void 0===o&&(o=fc.min()),void 0===s&&(s=Ku.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Pl(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function Dl(t){return{integerValue:""+t}}function Ll(t,e){return jc(e)?Dl(e):Pl(t,e)}var Ul=function(){this.Ut=void 0};function Vl(t,e,n){return t instanceof zl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ql?Hl(t,e):t instanceof Bl?Gl(t,e):function(t,e){var n=Fl(t,e),r=Wl(n)+Wl(t.Qt);return Vc(n)&&Vc(t.Qt)?Dl(r):Pl(t.Kt,r)}(t,e)}function Ml(t,e,n){return t instanceof ql?Hl(t,e):t instanceof Bl?Gl(t,e):n}function Fl(t,e){return t instanceof $l?Vc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Wn.c)(e,t),e}(Ul),ql=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Wn.c)(e,t),e}(Ul);function Hl(t,e){for(var n=Kl(e),r=function(t){n.some((function(e){return Nc(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Bl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Wn.c)(e,t),e}(Ul);function Gl(t,e){for(var n=Kl(e),r=function(t){n=n.filter((function(e){return!Nc(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var $l=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Wn.c)(e,t),e}(Ul);function Wl(t){return xc(t.integerValue||t.doubleValue)}function Kl(t){return Mc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Jl=function(t,e){this.field=t,this.transform=e},Zl=function(t,e){this.version=t,this.transformResults=e},Xl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ql(t,e){return void 0!==t.updateTime?e instanceof Wc&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Wc}var Yl=function(){};function th(t,e,n){return t instanceof oh?function(t,e,n){var r=t.value;if(n.transformResults){var i=uh(t.fieldTransforms,e,n.transformResults);r=lh(t.fieldTransforms,r,i)}return new Wc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof sh?function(t,e,n){if(!Ql(t.Gt,e))return new Jc(t.key,n.version);var r=ah(t,e,n.transformResults?uh(t.fieldTransforms,e,n.transformResults):[]);return new Wc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Kc(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function eh(t,e,n,r){return t instanceof oh?function(t,e,n,r){if(!Ql(t.Gt,e))return e;var i=t.value,o=ch(t.fieldTransforms,n,e);i=lh(t.fieldTransforms,i,o);var s=ih(e);return new Wc(t.key,s,i,{bt:!0})}(t,e,r):t instanceof sh?function(t,e,n,r){if(!Ql(t.Gt,e))return e;var i=ih(e),o=ah(t,e,ch(t.fieldTransforms,n,e));return new Wc(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return Ql(t.Gt,e)?new Kc(t.key,fc.min()):e}(t,e)}function nh(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Wc?e.field(o.field):void 0,a=Fl(o.transform,s||null);null!=a&&(n=null==n?(new Bc).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function rh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&$u(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ql&&e instanceof ql||t instanceof Bl&&e instanceof Bl?$u(t.elements,e.elements,Nc):t instanceof $l&&e instanceof $l?Nc(t.Qt,e.Qt):t instanceof zl&&e instanceof zl}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function ih(t){return t instanceof Wc?t.version:fc.min()}var oh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(Wn.c)(e,t),e}(Yl),sh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(Wn.c)(e,t),e}(Yl);function ah(t,e,n){var r;return r=function(t,e){var n=new Bc(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof Wc?e.data():Hc.empty()),lh(t.fieldTransforms,r,n)}function uh(t,e,n){var r=[];zu(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Wc&&(a=e.field(o.field)),r.push(Ml(s,a,n[i]))}return r}function ch(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof Wc&&(c=n.field(a.field)),i.push(Vl(u,c,e))}return i}function lh(t,e,n){for(var r=new Bc(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var hh,fh,dh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Wn.c)(e,t),e}(Yl),ph=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Wn.c)(e,t),e}(Yl),gh=function(t){this.count=t};function vh(t){switch(t){case Ju.OK:return Fu();case Ju.CANCELLED:case Ju.UNKNOWN:case Ju.DEADLINE_EXCEEDED:case Ju.RESOURCE_EXHAUSTED:case Ju.INTERNAL:case Ju.UNAVAILABLE:case Ju.UNAUTHENTICATED:return!1;case Ju.INVALID_ARGUMENT:case Ju.NOT_FOUND:case Ju.ALREADY_EXISTS:case Ju.PERMISSION_DENIED:case Ju.FAILED_PRECONDITION:case Ju.ABORTED:case Ju.OUT_OF_RANGE:case Ju.UNIMPLEMENTED:case Ju.DATA_LOSS:return!0;default:return Fu()}}function mh(t){if(void 0===t)return Uu("GRPC error has no .code"),Ju.UNKNOWN;switch(t){case hh.OK:return Ju.OK;case hh.CANCELLED:return Ju.CANCELLED;case hh.UNKNOWN:return Ju.UNKNOWN;case hh.DEADLINE_EXCEEDED:return Ju.DEADLINE_EXCEEDED;case hh.RESOURCE_EXHAUSTED:return Ju.RESOURCE_EXHAUSTED;case hh.INTERNAL:return Ju.INTERNAL;case hh.UNAVAILABLE:return Ju.UNAVAILABLE;case hh.UNAUTHENTICATED:return Ju.UNAUTHENTICATED;case hh.INVALID_ARGUMENT:return Ju.INVALID_ARGUMENT;case hh.NOT_FOUND:return Ju.NOT_FOUND;case hh.ALREADY_EXISTS:return Ju.ALREADY_EXISTS;case hh.PERMISSION_DENIED:return Ju.PERMISSION_DENIED;case hh.FAILED_PRECONDITION:return Ju.FAILED_PRECONDITION;case hh.ABORTED:return Ju.ABORTED;case hh.OUT_OF_RANGE:return Ju.OUT_OF_RANGE;case hh.UNIMPLEMENTED:return Ju.UNIMPLEMENTED;case hh.DATA_LOSS:return Ju.DATA_LOSS;default:return Fu()}}(fh=hh||(hh={}))[fh.OK=0]="OK",fh[fh.CANCELLED=1]="CANCELLED",fh[fh.UNKNOWN=2]="UNKNOWN",fh[fh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fh[fh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fh[fh.NOT_FOUND=5]="NOT_FOUND",fh[fh.ALREADY_EXISTS=6]="ALREADY_EXISTS",fh[fh.PERMISSION_DENIED=7]="PERMISSION_DENIED",fh[fh.UNAUTHENTICATED=16]="UNAUTHENTICATED",fh[fh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fh[fh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fh[fh.ABORTED=10]="ABORTED",fh[fh.OUT_OF_RANGE=11]="OUT_OF_RANGE",fh[fh.UNIMPLEMENTED=12]="UNIMPLEMENTED",fh[fh.INTERNAL=13]="INTERNAL",fh[fh.UNAVAILABLE=14]="UNAVAILABLE",fh[fh.DATA_LOSS=15]="DATA_LOSS";var yh=function(){function t(t,e){this.J=t,this.root=e||_h.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,_h.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,_h.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new bh(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new bh(this.root,t,this.J,!1)},t.prototype.se=function(){return new bh(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new bh(this.root,t,this.J,!0)},t}(),bh=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),_h=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Fu();if(this.right._e())throw Fu();var t=this.left.me();if(t!==this.right.me())throw Fu();return t+(this._e()?0:1)},t}();_h.EMPTY=null,_h.RED=!0,_h.Jt=!1,_h.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Fu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Fu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Fu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Fu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Fu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new _h(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var wh=function(){function t(t){this.J=t,this.data=new yh(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Oh(this.data.ee())},t.prototype.ne=function(t){return new Oh(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Oh=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Eh=new yh(mc.J);function xh(){return Eh}function Sh(){return xh()}var Th=new yh(mc.J);function kh(){return Th}var Ih=new yh(mc.J);function Ch(){return Ih}var jh=new wh(mc.J);function Ah(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=jh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Nh=new wh(Gu);function Rh(){return Nh}var Ph=function(){function t(t){this.J=t?function(e,n){return t(e,n)||mc.J(e.key,n.key)}:function(t,e){return mc.J(t.key,e.key)},this.Ve=kh(),this.pe=new yh(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Dh=function(){function t(){this.ve=new yh(mc.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Fu():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),Lh=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Oe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ph.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&kl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Uh=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Vh.Be(e,n)),new t(fc.min(),r,Rh(),xh(),Ah())},t}(),Vh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Ku.h,n,Ah(),Ah(),Ah())},t}(),Mh=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},Fh=function(t,e){this.targetId=t,this.Ge=e},zh=function(t,e,n,r){void 0===n&&(n=Ku.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},qh=function(){function t(){this.ze=0,this.He=Gh(),this.Je=Ku.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Ah(),e=Ah(),n=Ah();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Fu()}})),new Vh(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Gh()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Hh=function(){function t(t){this.hn=t,this.ln=new Map,this._n=xh(),this.fn=Bh(),this.dn=new wh(Gu)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof Wc?this.En(r,t.We):t.We instanceof Kc&&this.Tn(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Fu()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(tl(i))if(0===n){var o=new mc(i.path);this.Tn(e,o,new Kc(o,fc.min()))}else zu(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&tl(o.target)){var s=new mc(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new Kc(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=Ah();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Uh(t,n,this.dn,this._n,r);return this._n=xh(),this.fn=Bh(),this.dn=new wh(Gu),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new qh,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new wh(Gu),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Lu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new qh),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Bh(){return new yh(mc.J)}function Gh(){return new yh(mc.J)}var $h={asc:"ASCENDING",desc:"DESCENDING"},Wh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kh=function(t,e){this.T=t,this.qt=e};function Jh(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zh(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Xh(t,e){return Jh(t,e.G())}function Qh(t){return zu(!!t),fc.j(function(t){var e=Ec(t);return new hc(e.seconds,e.nanos)}(t))}function Yh(t,e){return function(t){return new pc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function tf(t){var e=pc.ct(t);return zu(xf(e)),e}function ef(t,e){return Yh(t.T,e.path)}function nf(t,e){var n=tf(e);if(n.get(1)!==t.T.projectId)throw new Zu(Ju.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Zu(Ju.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new mc(af(n))}function rf(t,e){return Yh(t.T,e)}function of(t){var e=tf(t);return 4===e.length?pc.at():af(e)}function sf(t){return new pc(["projects",t.T.projectId,"databases",t.T.database]).ot()}function af(t){return zu(t.length>4&&"documents"===t.get(4)),t.X(5)}function uf(t,e,n){return{name:ef(t,e),fields:n.proto.mapValue.fields}}function cf(t,e,n){var r=nf(t,e.name),i=Qh(e.updateTime),o=new Hc({mapValue:{fields:e.fields}});return new Wc(r,i,o,{hasCommittedMutations:!!n})}function lf(t,e){var n;if(e instanceof oh)n={update:uf(t,e.key,e.value)};else if(e instanceof dh)n={delete:ef(t,e.key)};else if(e instanceof sh)n={update:uf(t,e.key,e.data),updateMask:Ef(e.zt)};else{if(!(e instanceof ph))return Fu();n={verify:ef(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof zl)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof ql)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Bl)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof $l)return{fieldPath:e.field.ot(),increment:n.Qt};throw Fu()}(0,t)}))),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Xh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Fu()}(t,e.Gt)),n}function hf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Xl.updateTime(Qh(t.updateTime)):void 0!==t.exists?Xl.exists(t.exists):Xl.jt()}(e.currentDocument):Xl.jt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(zu("REQUEST_TIME"===e.setToServerValue),n=new zl):"appendMissingElements"in e?n=new ql(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Bl(e.removeAllFromArray.values||[]):"increment"in e?n=new $l(t,e.increment):Fu();var r=vc._t(e.fieldPath);return new Jl(r,n)}(t,e)})):[];if(e.update){var i=nf(t,e.update.name),o=new Hc({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new wc((t.fieldPaths||[]).map((function(t){return vc._t(t)})))}(e.updateMask);return new sh(i,o,s,n,r)}return new oh(i,o,n,r)}if(e.delete){var a=nf(t,e.delete);return new dh(a,n)}if(e.verify){var u=nf(t,e.verify);return new ph(u,n)}return Fu()}function ff(t,e){return{documents:[rf(t,e.path)]}}function df(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=rf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rf(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(zc(t.value))return{unaryFilter:{field:bf(t.field),op:"IS_NAN"}};if(Fc(t.value))return{unaryFilter:{field:bf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(zc(t.value))return{unaryFilter:{field:bf(t.field),op:"IS_NOT_NAN"}};if(Fc(t.value))return{unaryFilter:{field:bf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bf(t.field),op:yf(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:bf(t.field),direction:mf(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||Ic(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=gf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=gf(e.endAt)),n}function pf(t){var e=of(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){zu(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Of(e)]:void 0!==e.fieldFilter?[wf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Fu():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new fl(_f(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Ic(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=vf(n.startAt));var l=null;return n.endAt&&(l=vf(n.endAt)),ml(e,i,a,s,u,"F",c,l)}function gf(t){return{before:t.before,values:t.position}}function vf(t){return new ll(t.values||[],!!t.before)}function mf(t){return $h[t]}function yf(t){return Wh[t]}function bf(t){return{fieldPath:t.ot()}}function _f(t){return vc._t(t.fieldPath)}function wf(t){return el.create(_f(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Fu()}}(t.fieldFilter.op),t.fieldFilter.value)}function Of(t){switch(t.unaryFilter.op){case"IS_NAN":var e=_f(t.unaryFilter.field);return el.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=_f(t.unaryFilter.field);return el.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_f(t.unaryFilter.field);return el.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_f(t.unaryFilter.field);return el.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Fu()}}function Ef(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function xf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Sf=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Tf=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&Fu(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),kf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Sf,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new jf(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Df(e.target.error);n.qn.reject(new jf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new jf(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Lu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Nf(e)},t}(),If=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(Kn.j)())&&Uu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Lu("SimpleDb","Removing database:",t),Rf(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Kn.j)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Lu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new jf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Zu(Ju.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new jf(t,n))},i.onupgradeneeded=function(t){Lu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Lu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Wn.b)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(Wn.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Wn.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=kf.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Tf.reject(t)})).Mn(),u={},s.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Lu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Cf=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Rf(this.ts.delete())},t}(),jf=function(t){function e(e,n){var r=this;return(r=t.call(this,Ju.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Wn.c)(e,t),e}(Zu);function Af(t){return"IndexedDbTransactionError"===t.name}var Nf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Lu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Lu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Rf(n)},t.prototype.add=function(t){return Lu("SimpleDb","ADD",this.store.name,t,t),Rf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Rf(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Lu("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Lu("SimpleDb","DELETE",this.store.name,t),Rf(this.store.delete(t))},t.prototype.count=function(){return Lu("SimpleDb","COUNT",this.store.name),Rf(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){Lu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Tf((function(n,r){e.onerror=function(t){var e=Df(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new Tf((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Cf(i),s=e(i.primaryKey,i.value,o);if(s instanceof Tf){var a=s.catch((function(t){return o.done(),Tf.reject(t)}));n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return Tf.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Rf(t){return new Tf((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Df(t.target.error);n(e)}}))}var Pf=!1;function Df(t){var e=If.Kn(Object(Kn.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Zu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Pf||(Pf=!0,setTimeout((function(){throw r}),0)),r}}return t}var Lf=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Sf,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Zu(Ju.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Uf(t,e){if(Uu("AsyncQueue",e+": "+t),Af(t))return new Zu(Ju.UNAVAILABLE,e+": "+t);throw t}var Vf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mf=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},t}();function Ff(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=qf(e)),e=zf(t.get(n),e);return qf(e)}function zf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function qf(t){return t+"\x01\x01"}function Hf(t){var e=t.length;if(zu(e>=2),2===e)return zu("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),pc.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Fu(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Fu()}o=s+2}return new pc(r)}var Bf=function(t,e){this.seconds=t,this.nanoseconds=e},Gf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Gf.store="owner",Gf.key="owner";var $f=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};$f.store="mutationQueues",$f.keyPath="userId";var Wf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Wf.store="mutations",Wf.keyPath="batchId",Wf.userMutationsIndex="userMutationsIndex",Wf.userMutationsKeyPath=["userId","batchId"];var Kf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ff(e)]},t.key=function(t,e,n){return[t,Ff(e),n]},t}();Kf.store="documentMutations",Kf.PLACEHOLDER=new Kf;var Jf=function(t,e){this.path=t,this.readTime=e},Zf=function(t,e){this.path=t,this.version=e},Xf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Xf.store="remoteDocuments",Xf.readTimeIndex="readTimeIndex",Xf.readTimeIndexPath="readTime",Xf.collectionReadTimeIndex="collectionReadTimeIndex",Xf.collectionReadTimeIndexPath=["parentPath","readTime"];var Qf=function(t){this.byteSize=t};Qf.store="remoteDocumentGlobal",Qf.key="remoteDocumentGlobalKey";var Yf=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Yf.store="targets",Yf.keyPath="targetId",Yf.queryTargetsIndexName="queryTargetsIndex",Yf.queryTargetsKeyPath=["canonicalId","targetId"];var td=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};td.store="targetDocuments",td.keyPath=["targetId","path"],td.documentTargetsIndex="documentTargetsIndex",td.documentTargetsKeyPath=["path","targetId"];var ed=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ed.key="targetGlobalKey",ed.store="targetGlobal";var nd=function(t,e){this.collectionId=t,this.parent=e};nd.store="collectionParents",nd.keyPath=["collectionId","parent"];var rd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};rd.store="clientMetadata",rd.keyPath="clientId";var id=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};id.store="bundles",id.keyPath="bundleId";var od=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};od.store="namedQueries",od.keyPath="name";var sd=Object(Wn.g)(Object(Wn.g)(Object(Wn.g)(Object(Wn.g)([$f.store,Wf.store,Kf.store,Xf.store,Yf.store,Gf.store,ed.store,td.store],[rd.store]),[Qf.store]),[nd.store]),[id.store,od.store]),ad=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(Wn.c)(e,t),e}(Mf);function ud(t,e){var n=qu(t);return If.Hn(n.bs,e)}var cd=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=th(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=eh(s,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=eh(s,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ah())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$u(this.mutations,t.mutations,(function(t,e){return rh(t,e)}))&&$u(this.baseMutations,t.baseMutations,(function(t,e){return rh(t,e)}))},t}(),ld=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){zu(e.mutations.length===r.length);for(var i=Ch(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),hd=function(t){this.ks=t};function fd(t,e){if(e.document)return cf(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=mc.Tt(e.noDocument.path),r=md(e.noDocument.readTime);return new Kc(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=mc.Tt(e.unknownDocument.path);return r=md(e.unknownDocument.version),new Jc(i,r)}return Fu()}function dd(t,e,n){var r=pd(n),i=e.key.path.Z().rt();if(e instanceof Wc){var o=function(t,e){return{name:ef(t,e.key),fields:e.vt().mapValue.fields,updateTime:Jh(t,e.version.G())}}(t.ks,e),s=e.hasCommittedMutations;return new Xf(null,null,o,s,r,i)}if(e instanceof Kc){var a=e.key.path.rt(),u=vd(e.version);return s=e.hasCommittedMutations,new Xf(null,new Jf(a,u),null,s,r,i)}if(e instanceof Jc){var c=e.key.path.rt(),l=vd(e.version);return new Xf(new Zf(c,l),null,null,!0,r,i)}return Fu()}function pd(t){var e=t.G();return[e.seconds,e.nanoseconds]}function gd(t){var e=new hc(t[0],t[1]);return fc.j(e)}function vd(t){var e=t.G();return new Bf(e.seconds,e.nanoseconds)}function md(t){var e=new hc(t.seconds,t.nanoseconds);return fc.j(e)}function yd(t,e){for(var n=(e.baseMutations||[]).map((function(e){return hf(t.ks,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return hf(t.ks,e)})),s=hc.fromMillis(e.localWriteTimeMs);return new cd(e.batchId,s,n,o)}function bd(t){var e,n,r=md(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?md(t.lastLimboFreeSnapshotVersion):fc.min();return void 0!==t.query.documents?(zu(1===(n=t.query).documents.length),e=Sl(yl(of(n.documents[0])))):e=function(t){return Sl(pf(t))}(t.query),new Rl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ku.fromBase64String(t.resumeToken))}function _d(t,e){var n,r=vd(e.Mt),i=vd(e.lastLimboFreeSnapshotVersion);n=tl(e.target)?ff(t.ks,e.target):df(t.ks,e.target);var o=e.resumeToken.toBase64();return new Yf(e.targetId,Qc(e.target),r,o,e.sequenceNumber,i,n)}function wd(t){var e=pf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Tl(e,e.limit,"L"):e}var Od=function(){function t(){}return t.prototype.Ms=function(t,e){return Ed(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:md(e.createTime),version:e.version};var e}))},t.prototype.Ls=function(t,e){return Ed(t).put({bundleId:(n=e).id,createTime:vd(Qh(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return xd(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:wd(e.bundledQuery),readTime:md(e.readTime)};var e}))},t.prototype.Bs=function(t,e){return xd(t).put(function(t){return{name:t.name,readTime:vd(Qh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ed(t){return ud(t,id.store)}function xd(t){return ud(t,od.store)}var Sd=function(){function t(){this.qs=new Td}return t.prototype.Us=function(t,e){return this.qs.add(e),Tf.resolve()},t.prototype.Qs=function(t,e){return Tf.resolve(this.qs.getEntries(e))},t}(),Td=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new wh(pc.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new wh(pc.J)).rt()},t}(),kd=function(){function t(){this.Ks=new Td}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs((function(){n.Ks.add(e)}));var o={collectionId:r,parent:Ff(i)};return Id(t).put(o)}return Tf.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Wu(e),""],!1,!0);return Id(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Hf(o.parent))}return n}))},t}();function Id(t){return ud(t,nd.store)}var Cd={js:!1,Ws:0,Gs:0,zs:0},jd=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function Ad(t){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(e){if(t.code!==Ju.FAILED_PRECONDITION||t.message!==Vf)throw t;return Lu("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}jd.Zs=10,jd.ti=1e3,jd.ei=new jd(41943040,jd.Zs,jd.ti),jd.ni=new jd(-1,0,0);var Nd=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ii(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){bc(this.ri,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.nt=function(){return _c(this.ri)},t}(),Rd=function(){function t(){this.oi=new Nd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:fc.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Tf.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function Pd(t,e,n){var r=t.store(Wf.store),i=t.store(Kf.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){zu(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Kf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Tf.$n(o).next((function(){return c}))}function Dd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Fu();e=t.noDocument}return JSON.stringify(e).length}var Ld=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return zu(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vd(t).ls({index:Wf.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Pi=function(t,e,n,r){var i=this,o=Md(t),s=Vd(t);return s.add({}).next((function(a){zu("number"==typeof a);for(var u=new cd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return lf(t.ks,e)})),i=n.mutations.map((function(e){return lf(t.ks,e)}));return new Wf(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new wh((function(t,e){return Gu(t.ot(),e.ot())})),f=0,d=r;f<d.length;f++){var p=d[f],g=Kf.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,Kf.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ti.Us(t,e))})),t.Vs((function(){i.mi[a]=u.keys()})),Tf.$n(l).next((function(){return u}))}))},t.prototype.yi=function(t,e){var n=this;return Vd(t).get(e).next((function(t){return t?(zu(t.userId===n.userId),yd(n.Kt,t)):null}))},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?Tf.resolve(this.mi[e]):this.yi(t,e).next((function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null}))},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Vd(t).ls({index:Wf.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(zu(e.batchId>=r),o=yd(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vd(t).ls({index:Wf.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vd(t).os(Wf.userMutationsIndex,n).next((function(t){return t.map((function(t){return yd(e.Kt,t)}))}))},t.prototype.vi=function(t,e){var n=this,r=Kf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Md(t).ls({range:i},(function(r,i,s){var a=r[0],u=r[2],c=Hf(r[1]);if(a===n.userId&&e.path.isEqual(c))return Vd(t).get(u).next((function(t){if(!t)throw Fu();zu(t.userId===n.userId),o.push(yd(n.Kt,t))}));s.done()})).next((function(){return o}))},t.prototype.Si=function(t,e){var n=this,r=new wh(Gu),i=[];return e.forEach((function(e){var o=Kf.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Md(t).ls({range:s},(function(t,i,o){var s=t[0],a=t[2],u=Hf(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),Tf.$n(i).next((function(){return n.Di(t,r)}))},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=Kf.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new wh(Gu);return Md(t).ls({range:s},(function(t,e,o){var s=t[0],u=t[2],c=Hf(t[1]);s===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Di(t,a)}))},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Vd(t).get(e).next((function(t){if(null===t)throw Fu();zu(t.userId===n.userId),r.push(yd(n.Kt,t))})))})),Tf.$n(i).next((function(){return r}))},t.prototype.xi=function(t,e){var n=this;return Pd(t.bs,this.userId,e).next((function(r){return t.Vs((function(){n.Ni(e.batchId)})),Tf.forEach(r,(function(e){return n.Ii.Oi(t,e)}))}))},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return Tf.resolve();var r=IDBKeyRange.lowerBound(Kf.prefixForUser(e.userId)),i=[];return Md(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Hf(t[1]);i.push(o)}else r.done()})).next((function(){zu(0===i.length)}))}))},t.prototype.ki=function(t,e){return Ud(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return Fd(t).get(this.userId).next((function(t){return t||new $f(e.userId,-1,"")}))},t}();function Ud(t,e,n){var r=Kf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Md(t).ls({range:o,hs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Vd(t){return ud(t,Wf.store)}function Md(t){return ud(t,Kf.store)}function Fd(t){return ud(t,$f.store)}var zd=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),qd=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var r=new zd(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ki=function(t){return this.Ui(t).next((function(t){return fc.j(new hc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)}))},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)}))}))},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return Hd(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return zu(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)}))},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return Hd(t).ls((function(s,a){var u=bd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Yi(t,u)))})).next((function(){return Tf.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return Hd(t).ls((function(t,n){var r=bd(n);e(r)}))},t.prototype.Ui=function(t){return Bd(t).get(ed.key).next((function(t){return zu(null!==t),t}))},t.prototype.Qi=function(t,e){return Bd(t).put(ed.key,e)},t.prototype.zi=function(t,e){return Hd(t).put(_d(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},t.prototype.er=function(t,e){var n=Qc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Hd(t).ls({range:r,index:Yf.queryTargetsIndexName},(function(t,n,r){var o=bd(n);Yc(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.nr=function(t,e,n){var r=this,i=[],o=Gd(t);return e.forEach((function(e){var s=Ff(e.path);i.push(o.put(new td(n,s))),i.push(r.Ii.sr(t,n,e))})),Tf.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=Gd(t);return Tf.forEach(e,(function(e){var o=Ff(e.path);return Tf.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])}))},t.prototype.Xi=function(t,e){var n=Gd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Gd(t),i=Ah();return r.ls({range:n,hs:!0},(function(t,e,n){var r=Hf(t[1]),o=new mc(r);i=i.add(o)})).next((function(){return i}))},t.prototype.ki=function(t,e){var n=Ff(e.path),r=IDBKeyRange.bound([n],[Wu(n)],!1,!0),i=0;return Gd(t).ls({index:td.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return Hd(t).get(e).next((function(t){return t?bd(t):null}))},t}();function Hd(t){return ud(t,Yf.store)}function Bd(t){return ud(t,ed.store)}function Gd(t){return ud(t,td.store)}function $d(t,e){var n=t[1],r=e[1],i=Gu(t[0],e[0]);return 0===i?Gu(n,r):i}var Wd=function(){function t(t){this.ar=t,this.buffer=new wh($d),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();$d(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Kd=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;Lu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return Object(Wn.b)(e,void 0,void 0,(function(){var e;return Object(Wn.d)(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Af(e=n.sent())?(Lu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ad(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Jd=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yr=function(t,e){var n=this;if(0===e)return Tf.resolve(lc.U);var r=new Wd(e);return this.Ar.mn(t,(function(t){return r.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return r.lr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(Lu("LruGarbageCollector","Garbage collection skipped; disabled"),Tf.resolve(Cd)):this.br(t).next((function(r){return r<n.params.Hs?(Lu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),Cd):n.vr(t,e)}))},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Rr(t,this.params.Js).next((function(e){return e>c.params.Ys?(Lu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)})).next((function(r){return n=r,s=Date.now(),c.Zi(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.Vr(t,n)})).next((function(t){return u=Date.now(),Du()<=Ri.a.DEBUG&&Lu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Tf.resolve({js:!0,Ws:r,Gs:i,zs:t})}))},t}(),Zd=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Jd(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},t.prototype.sr=function(t,e,n){return Xd(t,n)},t.prototype.rr=function(t,e,n){return Xd(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return Xd(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return Fd(t)._s((function(r){return Ud(t,r,e).next((function(t){return t&&(n=!0),Tf.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],o=0;return this.Cr(t,(function(s,a){if(a<=e){var u=n.Nr(t,s).next((function(e){if(!e)return o++,r.fi(t,s).next((function(){return r._i(s),Gd(t).delete([0,Ff(s.path)])}))}));i.push(u)}})).next((function(){return Tf.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Xd(t,e)},t.prototype.Cr=function(t,e){var n,r=Gd(t),i=lc.U;return r.ls({index:td.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==lc.U&&e(new mc(Hf(n)),i),i=s,n=o):i=lc.U})).next((function(){i!==lc.U&&e(new mc(Hf(n)),i)}))},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function Xd(t,e){return Gd(t).put(function(t,e){return new td(0,Ff(t.path),e)}(e,t.vs))}var Qd=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return ep(t).put(np(e),n)},t.prototype._i=function(t,e){var n=ep(t),r=np(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Lr(t,r)}))},t.prototype.fi=function(t,e){var n=this;return ep(t).get(np(e)).next((function(t){return n.$r(t)}))},t.prototype.Br=function(t,e){var n=this;return ep(t).get(np(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:Dd(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Sh();return this.qr(t,e,(function(t,e){var i=n.$r(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Ur=function(t,e){var n=this,r=Sh(),i=new yh(mc.J);return this.qr(t,e,(function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,Dd(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Qr:r,Kr:i}}))},t.prototype.qr=function(t,e,n){if(e.nt())return Tf.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return ep(t).ls({range:r},(function(t,e,r){for(var s=mc.Tt(t);o&&mc.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=kh(),o=e.path.length+1,s={};if(n.isEqual(fc.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=pd(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Xf.collectionReadTimeIndex}return ep(t).ls(s,(function(t,n,s){if(t.length===o){var a=fd(r.Kt,n);e.path.st(a.key.path)?a instanceof Wc&&jl(e,a)&&(i=i.Ht(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new Yd(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return tp(t).get(Qf.key).next((function(t){return zu(!!t),t}))},t.prototype.Lr=function(t,e){return tp(t).put(Qf.key,e)},t.prototype.$r=function(t){if(t){var e=fd(this.Kt,t);return e instanceof Kc&&e.version.isEqual(fc.min())?null:e}return null},t}(),Yd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new Nd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Wn.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new wh((function(t,e){return Gu(t.ot(),e.ot())}));return this.oi.forEach((function(o,s){var a=e.zr.get(o);if(s.li){var u=dd(e.Gr.Kt,s.li,e.ai(o));i=i.add(o.path.Z());var c=Dd(u);r+=c-a,n.push(e.Gr.ui(t,o,u))}else if(r-=a,e.Wr){var l=dd(e.Gr.Kt,new Kc(o,fc.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))})),i.forEach((function(r){n.push(e.Gr.Ti.Us(t,r))})),n.push(this.Gr.updateMetadata(t,r)),Tf.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},e}(Rd);function tp(t){return ud(t,Qf.store)}function ep(t){return ud(t,Xf.store)}function np(t){return t.path.rt()}var rp=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;zu(n<r&&n>=0&&r<=11);var o=new kf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Gf.store)}(t),function(t){t.createObjectStore($f.store,{keyPath:$f.keyPath}),t.createObjectStore(Wf.store,{keyPath:Wf.keyPath,autoIncrement:!0}).createIndex(Wf.userMutationsIndex,Wf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Kf.store)}(t),ip(t),function(t){t.createObjectStore(Xf.store)}(t));var s=Tf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(td.store),t.deleteObjectStore(Yf.store),t.deleteObjectStore(ed.store)}(t),ip(t)),s=s.next((function(){return function(t){var e=t.store(ed.store),n=new ed(0,0,fc.min().G(),0);return e.put(ed.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Wf.store).os().next((function(n){t.deleteObjectStore(Wf.store),t.createObjectStore(Wf.store,{keyPath:Wf.keyPath,autoIncrement:!0}).createIndex(Wf.userMutationsIndex,Wf.userMutationsKeyPath,{unique:!0});var r=e.store(Wf.store),i=n.map((function(t){return r.put(t)}));return Tf.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(rd.store,{keyPath:rd.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Hr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Qf.store)}(t),i.Jr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Yr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Xr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Xf.store);e.createIndex(Xf.readTimeIndex,Xf.readTimeIndexPath,{unique:!1}),e.createIndex(Xf.collectionReadTimeIndex,Xf.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Zr(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(id.store,{keyPath:id.keyPath})}(t),function(t){t.createObjectStore(od.store,{keyPath:od.keyPath})}(t)}))),s},t.prototype.Jr=function(t){var e=0;return t.store(Xf.store).ls((function(t,n){e+=Dd(n)})).next((function(){var n=new Qf(e);return t.store(Qf.store).put(Qf.key,n)}))},t.prototype.Hr=function(t){var e=this,n=t.store($f.store),r=t.store(Wf.store);return n.os().next((function(n){return Tf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Wf.userMutationsIndex,i).next((function(r){return Tf.forEach(r,(function(r){zu(r.userId===n.userId);var i=yd(e.Kt,r);return Pd(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Yr=function(t){var e=t.store(td.store),n=t.store(Xf.store);return t.store(ed.store).get(ed.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new pc(n),s=function(t){return[0,Ff(t)]}(o);r.push(e.get(s).next((function(n){return n?Tf.resolve():function(n){return e.put(new td(0,Ff(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Tf.$n(r)}))}))},t.prototype.Xr=function(t,e){t.createObjectStore(nd.store,{keyPath:nd.keyPath});var n=e.store(nd.store),r=new Td,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Ff(i)})}};return e.store(Xf.store).ls({hs:!0},(function(t,e){var n=new pc(t);return i(n.Z())})).next((function(){return e.store(Kf.store).ls({hs:!0},(function(t,e){var n=Hf(t[1]);return i(n.Z())}))}))},t.prototype.Zr=function(t){var e=this,n=t.store(Yf.store);return n.ls((function(t,r){var i=bd(r),o=_d(e.Kt,i);return n.put(o)}))},t}();function ip(t){t.createObjectStore(td.store,{keyPath:td.keyPath}).createIndex(td.documentTargetsIndex,td.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Yf.store,{keyPath:Yf.keyPath}).createIndex(Yf.queryTargetsIndexName,Yf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ed.store)}var op="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sp=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=s,this.document=a,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new Zu(Ju.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Zd(this,i),this.lo=n+"main",this.Kt=new hd(u),this._o=new If(this.lo,11,new rp(this.Kt)),this.fo=new qd(this.Ii,this.Kt),this.Ti=new kd,this.wo=function(t,e){return new Qd(t,e)}(this.Kt,this.Ti),this.Eo=new Od,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&Uu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Zu(Ju.FAILED_PRECONDITION,op);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.ji(e)}))})).then((function(e){t.io=new lc(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(Wn.b)(e,void 0,void 0,(function(){return Object(Wn.d)(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return Object(Wn.b)(e,void 0,void 0,(function(){return Object(Wn.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return Object(Wn.b)(e,void 0,void 0,(function(){return Object(Wn.d)(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return up(e).put(new rd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(Af(e))return Lu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Lu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},t.prototype.po=function(t){var e=this;return ap(t).get(Gf.key).next((function(t){return Tf.resolve(e.Co(t))}))},t.prototype.xo=function(t){return up(t).delete(this.clientId)},t.prototype.No=function(){return Object(Wn.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Wn.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=ud(t,rd.store);return e.os().next((function(t){var n=r.Fo(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Tf.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?Tf.resolve(!0):ap(t).get(Gf.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new Zu(Ju.FAILED_PRECONDITION,op);return!1}}return!(!e.networkEnabled||!e.inForeground)||up(t).os().next((function(t){return void 0===e.Fo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Lu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Lo=function(){return Object(Wn.b)(this,void 0,void 0,(function(){var t=this;return Object(Wn.d)(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Gf.store,rd.store],(function(e){var n=new ad(e,lc.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},t.prototype.Fo=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return up(e).os().next((function(e){return t.Fo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Ld.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Lu("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",sd,(function(o){return r=new ad(o,i.io?i.io.next():lc.U),"readwrite-primary"===e?i.po(r).next((function(t){return!!t||i.vo(r)})).next((function(e){if(!e)throw Uu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo((function(){return i.ho(!1)})),new Zu(Ju.FAILED_PRECONDITION,Vf);return n(r)})).next((function(t){return i.Do(r).next((function(){return t}))})):i.Go(r).next((function(){return n(r)}))})).then((function(t){return r.ps(),t}))},t.prototype.Go=function(t){var e=this;return ap(t).get(Gf.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Zu(Ju.FAILED_PRECONDITION,op)}))},t.prototype.Do=function(t){var e=new Gf(this.clientId,this.allowTabSynchronization,Date.now());return ap(t).put(Gf.key,e)},t.jn=function(){return If.jn()},t.prototype.So=function(t){var e=this,n=ap(t);return n.get(Gf.key).next((function(t){return e.Co(t)?(Lu("IndexedDbPersistence","Releasing primary lease."),n.delete(Gf.key)):Tf.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Uu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return Lu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Uu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){Uu("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ap(t){return ud(t,Gf.store)}function up(t){return ud(t,rd.store)}function cp(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var lp=function(t,e){this.progress=t,this.zo=e},hp=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=Sh();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){var i=n.Xo(t,e,r),o=xh();return i.forEach((function(t,e){e||(e=new Kc(t,fc.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return mc.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):El(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new mc(e)).next((function(t){var e=kh();return t instanceof Wc&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=kh();return this.Ti.Qs(t,i).next((function(s){return Tf.forEach(s,(function(s){var a=function(t,e){return new vl(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.jr(t,e,n).next((function(n){return r=n,o.Ho.Ci(t,e)})).next((function(e){return o.ic(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=eh(u,r.get(c),0,o.Ss);r=l instanceof Wc?r.Ht(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){jl(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=Ah(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof sh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Wc&&(c=c.Ht(t,e))})),c}))},t}(),fp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Ah(),i=Ah(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),dp=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(fc.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var s=i.lc(e,o);return(bl(e)||_l(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(Du()<=Ri.a.DEBUG&&Lu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Cl(e)),i.uc.jr(t,e,n).next((function(t){return s.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new wh(Al(t));return e.forEach((function(e,r){r instanceof Wc&&jl(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Du()<=Ri.a.DEBUG&&Lu("QueryEngine","Using full collection scan to execute query:",Cl(e)),this.uc.jr(t,e,fc.min())},t}(),pp=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new yh(Gu),this.wc=new Nd((function(t){return Qc(t)}),Yc),this.Ec=fc.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new hp(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},t}();function gp(t,e,n,r){return new pp(t,e,n,r)}function vp(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Wn.d)(this,(function(s){switch(s.label){case 0:return n=qu(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.bi(t).next((function(s){return o=s,r=n.persistence.Ko(e),i=new hp(n.Tc,r,n.persistence.jo()),r.bi(t)})).next((function(e){for(var n=[],r=[],s=Ah(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return i.Zo(t,s).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function mp(t,e){var n=qu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Tf.resolve();return o.forEach((function(t){s=s.next((function(){return r.fi(e,t)})).next((function(e){var o=e,s=n.Fs.get(t);zu(null!==s),(!o||o.version.u(s)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Os)}))})),s.next((function(){return t.Ho.xi(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function yp(t){var e=qu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function bp(t,e){var n=qu(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Wr:!0});i=n.dc;var s=[];e.Fe.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.fo.ir(t,e.Ke,o).next((function(){return n.fo.nr(t,e.Ue,o)})));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return zu(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.fo.Ji(t,c))}}}));var a=xh();if(e.Me.forEach((function(r,i){e.Le.has(r)&&s.push(n.persistence.Ii.kr(t,r))})),s.push(_p(t,o,e.Me,r,void 0).next((function(t){a=t}))),!r.isEqual(fc.min())){var u=n.fo.Ki(t).next((function(e){return n.fo.Wi(t,t.vs,r)}));s.push(u)}return Tf.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,a)}))})).then((function(t){return n.dc=i,t}))}function _p(t,e,n,r,i){var o=Ah();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=xh();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof Kc&&s.version.isEqual(fc.min())?(e._i(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.ui(s,u),o=o.Ht(n,s)):Lu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function wp(t,e){var n=qu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)}))}function Op(t,e){var n=qu(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.fo.er(t,e).next((function(i){return i?Tf.resolve(r=i):n.fo.qi(t).next((function(i){return r=new Rl(e,i,0,t.vs),n.fo.Gi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function Ep(t,e,n){return Object(Wn.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Wn.d)(this,(function(a){switch(a.label){case 0:r=qu(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ii.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Af(s=a.sent()))throw s;return Lu("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function xp(t,e,n){var r=qu(t),i=fc.min(),o=Ah();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=qu(t),i=r.wc.get(n);return void 0!==i?Tf.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,Sl(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:fc.min(),n?o:Ah())})).next((function(t){return{documents:t,Pc:o}}))}))}function Sp(t,e){var n=qu(t),r=qu(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function Tp(t){var e=qu(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=qu(t),i=xh(),o=pd(n),s=ep(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:Xf.readTimeIndex,range:a},(function(t,e){var n=fd(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{zo:i,readTime:gd(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.zo;return e.Ec=t.readTime,n}))}function kp(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e;return Object(Wn.d)(this,(function(n){return[2,(e=qu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=ep(t),n=fc.min();return e.ls({index:Xf.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=gd(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function Ip(t,e,n,r){return Object(Wn.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f,d;return Object(Wn.d)(this,(function(p){switch(p.label){case 0:for(i=qu(t),o=Ah(),s=xh(),a=Ch(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,Op(i,function(t){return Sl(yl(pc.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return _p(t,f,s,fc.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i.fo.Xi(t,d.targetId).next((function(){return i.fo.nr(t,o,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function Cp(t,e,n){return void 0===n&&(n=Ah()),Object(Wn.b)(this,void 0,void 0,(function(){var r,i;return Object(Wn.d)(this,(function(o){switch(o.label){case 0:return[4,Op(t,Sl(wd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=qu(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Qh(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var s=r.$t(Ku.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.fo.Ji(t,s).next((function(){return i.fo.Xi(t,r.targetId)})).next((function(){return i.fo.nr(t,n,r.targetId)})).next((function(){return i.Eo.Bs(t,e)}))}))]}}))}))}var jp=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return Tf.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Qh(n.createTime)}),Tf.resolve()},t.prototype.$s=function(t,e){return Tf.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:wd(t.bundledQuery),readTime:Qh(t.readTime)}}(e)),Tf.resolve()},t}(),Ap=function(){function t(){this.Sc=new wh(Np.Dc),this.Cc=new wh(Np.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new Np(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},t.prototype.rr=function(t,e){this.Oc(new Np(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new mc(new pc([])),r=new Np(n,t),i=new Np(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Oc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Oc(e)}))},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new mc(new pc([])),n=new Np(e,t),r=new Np(e,t+1),i=Ah();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ki=function(t){var e=new Np(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Np=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return mc.J(t.key,e.key)||Gu(t.$c,e.$c)},t.xc=function(t,e){return Gu(t.$c,e.$c)||mc.J(t.key,e.key)},t}(),Rp=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new wh(Np.Dc)}return t.prototype.Ri=function(t){return Tf.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new cd(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new Np(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return Tf.resolve(o)},t.prototype.yi=function(t,e){return Tf.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return Tf.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return Tf.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return Tf.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new Np(e,0),i=new Np(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),Tf.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new wh(Gu);return e.forEach((function(t){var e=new Np(t,0),i=new Np(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),Tf.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;mc.Et(i)||(i=i.child(""));var o=new Np(new mc(i),0),s=new wh(Gu);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)}),o),Tf.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.xi=function(t,e){var n=this;zu(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Tf.forEach(e.mutations,(function(i){var o=new Np(i.key,e.batchId);return r=r.delete(o),n.Ii.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new Np(e,0),r=this.qc.Pe(n);return Tf.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return Tf.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Pp=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new yh(mc.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:s,readTime:n}),this.size+=s-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return Tf.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=Sh();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)})),Tf.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=kh(),i=new mc(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.value,u=a.li,c=a.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||u instanceof Wc&&jl(e,u)&&(r=r.Ht(u.key,u))}return Tf.resolve(r)},t.prototype.Gc=function(t,e){return Tf.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new Dp(this)},t.prototype.Mr=function(t){return Tf.resolve(this.size)},t}(),Dp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(Wn.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)})),Tf.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Rd),Lp=function(){function t(t){this.persistence=t,this.zc=new Nd((function(t){return Qc(t)}),Yc),this.lastRemoteSnapshotVersion=fc.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Ap,this.targetCount=0,this.Yc=zd.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),Tf.resolve()},t.prototype.Ki=function(t){return Tf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Tf.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Tf.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Tf.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new zd(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Tf.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),Tf.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Tf.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Xi(t,a.targetId)),i++)})),Tf.$n(o).next((function(){return i}))},t.prototype.tr=function(t){return Tf.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return Tf.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Tf.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),Tf.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),Tf.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return Tf.resolve(n)},t.prototype.ki=function(t,e){return Tf.resolve(this.Jc.ki(e))},t}(),Up=function(){function t(t,e){var n=this;this.Xc={},this.io=new lc(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Lp(this),this.Ti=new Sd,this.wo=function(t,e){return new Pp(t,(function(t){return n.Ii.Zc(t)}))}(this.Ti),this.Kt=new hd(e),this.Eo=new jp(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new Rp(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;Lu("MemoryPersistence","Starting transaction:",t);var i=new Vp(this.io.next());return this.Ii.ta(),n(i).next((function(t){return r.Ii.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.ps(),t}))},t.prototype.na=function(t,e){return Tf.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},t}(),Vp=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(Wn.c)(e,t),e}(Mf),Mp=function(){function t(t){this.persistence=t,this.sa=new Ap,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Fu()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Tf.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Tf.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Tf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Dr();return r.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Yi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return Tf.forEach(this.oa,(function(r){var i=mc.ft(r);return e.ca(t,i).next((function(t){t||n._i(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Tf.Bn([function(){return Tf.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Fp(t,e){return"firestore_clients_"+t+"_"+e}function zp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function qp(t,e){return"firestore_targets_"+t+"_"+e}var Hp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Zu(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Uu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Bp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Zu(r.error.code,r.error.message)),i?new t(e,r.state,o):(Uu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Rh(),s=0;i&&s<r.activeTargetIds.length;++s)i=jc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Uu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$p=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Uu("SharedClientState","Failed to parse online state: "+e),null)},t}(),Wp=function(){function t(){this.activeTargetIds=Rh()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Kp=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new yh(Gu),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Fp(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Wp),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Wn.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Wn.d)(this,(function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Fp(this.persistenceKey,r)))&&(o=Gp.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.Lo()})),this.Tr=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(qp(this.persistenceKey,t));if(n){var r=Bp.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(qp(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Fa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Lu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Lu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Lu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Lu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Uu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return Object(Wn.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(Wn.d)(this,(function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=lc.U;if(null!=t)try{var n=JSON.parse(t);zu("number"==typeof n),e=n}catch(t){Uu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==lc.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Hp(this.currentUser,t,e,n),i=zp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=zp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=qp(this.persistenceKey,t),i=new Bp(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Gp.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Hp.aa(new ic(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Bp.aa(r,e)},t.prototype.ba=function(t){return $p.aa(t)},t.prototype.Xa=function(t){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Lu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fa.iu(s,a).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Rh();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),Jp=function(){function t(){this.ru=new Wp,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Wp,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),Zp=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),Xp=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Lu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Lu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Qp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Yp=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),tg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Wn.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var s=new Ru;s.listenOnce(ju.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Cu.NO_ERROR:var e=s.getResponseJson();Lu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Cu.TIMEOUT:Lu("Connection",'RPC "'+t+'" timed out'),o(new Zu(Ju.DEADLINE_EXCEEDED,"Request time out"));break;case Cu.HTTP_ERROR:var n=s.getStatus();if(Lu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ju).indexOf(e)>=0?e:Ju.UNKNOWN}(r.status);o(new Zu(a,r.message))}else o(new Zu(Ju.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Zu(Ju.UNAVAILABLE,"Connection failed."));break;default:Fu()}}finally{Lu("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new xu,i=ks(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(Kn.p)()||Object(Kn.r)()||Object(Kn.m)()||Object(Kn.n)()||Object(Kn.s)()||Object(Kn.l)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Lu("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Yp({du:function(t){c?Lu("Connection","Not sending because WebChannel is closed:",t):(u||(Lu("Connection","Opening WebChannel transport."),a.open(),u=!0),Lu("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,Nu.EventType.OPEN,(function(){c||Lu("Connection","WebChannel transport opened.")})),h(a,Nu.EventType.CLOSE,(function(){c||(c=!0,Lu("Connection","WebChannel transport closed"),l.Pu())})),h(a,Nu.EventType.ERROR,(function(t){c||(c=!0,Vu("Connection","WebChannel transport errored:",t),l.Pu(new Zu(Ju.UNAVAILABLE,"The operation could not be completed")))})),h(a,Nu.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];zu(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Lu("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=hh[t];if(void 0!==e)return mh(e)}(i),s=r.message;void 0===o&&(o=Ju.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new Zu(o,s)),a.close()}else Lu("Connection","WebChannel received:",n),l.yu(n)}})),h(i,Au.STAT_EVENT,(function(t){10===t.stat?Lu("Connection","Detected buffering proxy"):11===t.stat&&Lu("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ru()}),0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Lu("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return Lu("RestConnection","Received: ",t),t}),(function(e){throw Vu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Qp[t]},t}());function eg(){return"undefined"!=typeof window?window:null}function ng(){return"undefined"!=typeof document?document:null}function rg(t){return new Kh(t,!0)}var ig=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Lu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),og=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=o,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new ig(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===Ju.RESOURCE_EXHAUSTED?(Uu(e.toString()),Uu("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Ju.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then((function(e){t.Wu===n&&t.rh(e)}),(function(n){e((function(){var e=new Zu(Ju.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(Wn.b)(t,void 0,void 0,(function(){return Object(Wn.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return Lu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.Wu===t?n():(Lu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),sg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(Wn.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Fu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(zu(void 0===e||"string"==typeof e),Ku.fromBase64String(e||"")):(zu(void 0===e||e instanceof Uint8Array),Ku.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ju.UNKNOWN:mh(t.code);return new Zu(e,t.message||"")}(a);n=new zh(r,i,o,s||null)}else if("documentChange"in e){i=nf(t,(r=e.documentChange).document.name),o=Qh(r.document.updateTime);var a=new Hc({mapValue:{fields:r.document.fields}}),u=(s=new Wc(i,o,a,{}),r.targetIds||[]);n=new Mh(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=nf(t,(r=e.documentDelete).document),o=r.readTime?Qh(r.readTime):fc.min(),a=new Kc(i,o),n=new Mh([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=nf(t,(r=e.documentRemove).document),n=new Mh([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Fu();var c=e.filter;i=new gh(r=c.count||0),n=new Fh(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return fc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?fc.min():e.readTime?Qh(e.readTime):fc.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=sf(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=tl(r)?{documents:ff(t,r)}:{query:df(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Zh(t,e.resumeToken):e.Mt.u(fc.min())>0&&(n.readTime=Jh(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fu()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=sf(this.Kt),e.removeTarget=t,this.eh(e)},e}(og),ag=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(Wn.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(zu(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(zu(void 0!==e),t.map((function(t){return function(t,e){var n=Qh(t.updateTime?t.updateTime:e);n.isEqual(fc.min())&&(n=Qh(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Zl(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Qh(t.commitTime);return this.listener.wh(n,e)}return zu(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=sf(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return lf(e.Kt,t)}))};this.eh(n)},e}(og),ug=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Wn.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Zu(Ju.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Ju.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Ju.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),cg=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Uu(e),this.Ph=!1):Lu("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),lg=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object(Wn.b)(o,void 0,void 0,(function(){return Object(Wn.d)(this,(function(t){switch(t.label){case 0:return bg(this)?(Lu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e;return Object(Wn.d)(this,(function(n){switch(n.label){case 0:return(e=qu(t)).Oh.add(4),[4,fg(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,hg(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new cg(n,r)};function hg(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e,n;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:if(!bg(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function fg(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e,n;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function dg(t,e){var n=qu(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),yg(n)?mg(n):Pg(n).Ju()&&gg(n,e))}function pg(t,e){var n=qu(t),r=Pg(n);n.Nh.delete(e),r.Ju()&&vg(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():bg(n)&&n.Mh.set("Unknown"))}function gg(t,e){t.Lh.cn(e.targetId),Pg(t).hh(e)}function vg(t,e){t.Lh.cn(e),Pg(t).lh(e)}function mg(t){t.Lh=new Hh({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Pg(t).start(),t.Mh.yh()}function yg(t){return bg(t)&&!Pg(t).Hu()&&t.Nh.size>0}function bg(t){return 0===qu(t).Oh.size}function _g(t){t.Lh=void 0}function wg(t){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(e){return t.Nh.forEach((function(e,n){gg(t,e)})),[2]}))}))}function Og(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(n){return _g(t),yg(t)?(t.Mh.ph(e),mg(t)):t.Mh.set("Unknown"),[2]}))}))}function Eg(t,e,n){return Object(Wn.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Wn.d)(this,(function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof zh&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Wn.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Lu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,xg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Mh?t.Lh.wn(e):e instanceof Fh?t.Lh.yn(e):t.Lh.In(e),n.isEqual(fc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,yp(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Ku.h,n.Mt)),vg(t,e);var r=new Rl(n.target,e,1,n.sequenceNumber);gg(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Lu("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,xg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function xg(t,e,n){return Object(Wn.b)(this,void 0,void 0,(function(){var r=this;return Object(Wn.d)(this,(function(i){switch(i.label){case 0:if(!Af(e))throw e;return t.Oh.add(1),[4,fg(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return yp(t.Sh)}),t.fs.bo((function(){return Object(Wn.b)(r,void 0,void 0,(function(){return Object(Wn.d)(this,(function(e){switch(e.label){case 0:return Lu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,hg(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Sg(t,e){return e().catch((function(n){return xg(t,n,e)}))}function Tg(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Wn.d)(this,(function(s){switch(s.label){case 0:e=qu(t),n=Dg(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return bg(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,wp(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Dg(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,xg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return kg(e)&&Ig(e),[2]}}))}))}function kg(t){return bg(t)&&!Dg(t).Hu()&&t.xh.length>0}function Ig(t){Dg(t).start()}function Cg(t){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(e){return Dg(t).Th(),[2]}))}))}function jg(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Wn.d)(this,(function(i){for(e=Dg(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]}))}))}function Ag(t,e,n){return Object(Wn.b)(this,void 0,void 0,(function(){var r,i;return Object(Wn.d)(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=ld.from(r,e,n),[4,Sg(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,Tg(t)];case 2:return o.sent(),[2]}}))}))}function Ng(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(n){switch(n.label){case 0:return e&&Dg(t).fh?[4,function(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r;return Object(Wn.d)(this,(function(i){switch(i.label){case 0:return vh(r=e.code)&&r!==Ju.ABORTED?(n=t.xh.shift(),Dg(t).Xu(),[4,Sg(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Tg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return kg(t)&&Ig(t),[2]}}))}))}function Rg(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:return n=qu(t),e?(n.Oh.delete(2),[4,hg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,fg(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Pg(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=qu(t);return r.mh(),new sg(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:wg.bind(null,t),Iu:Og.bind(null,t),uh:Eg.bind(null,t)}),t.Fh.push((function(n){return Object(Wn.b)(e,void 0,void 0,(function(){return Object(Wn.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),yg(t)?mg(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),_g(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function Dg(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=qu(t);return r.mh(),new ag(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Cg.bind(null,t),Iu:Ng.bind(null,t),Eh:jg.bind(null,t),wh:Ag.bind(null,t)}),t.Fh.push((function(n){return Object(Wn.b)(e,void 0,void 0,(function(){return Object(Wn.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Tg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Lu("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var Lg=function(){this.jh=void 0,this.listeners=[]},Ug=function(){this.queries=new Nd((function(t){return Il(t)}),kl),this.onlineState="Unknown",this.Wh=new Set};function Vg(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(Wn.d)(this,(function(c){switch(c.label){case 0:if(n=qu(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Lg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.jh=c.sent(),[3,4];case 3:return a=c.sent(),u=Uf(a,"Initialization of query '"+Cl(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.jh&&e.Hh(o.jh)&&qg(n),[2]}}))}))}function Mg(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Wn.d)(this,(function(a){return n=qu(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function Fg(t,e){for(var n=qu(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(s)&&(r=!0);a.jh=s}}r&&qg(n)}function zg(t,e,n){var r=qu(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function qg(t){t.Wh.forEach((function(t){t.next()}))}var Hg=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Lh(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Lh.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Bg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Gg=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return nf(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?cf(this.Kt,t.document,!1):new Kc(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Qh(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Gg(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Ah()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Wn.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Wn.d)(this,(function(o){switch(o.label){case 0:return[4,Ip(this.Sh,new Gg(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Cp(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new lp(Object.assign({},this.progress),t))]}}))}))}}();var $g=function(t){this.key=t},Wg=function(t){this.key=t},Kg=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Ah(),this.Ce=Ah(),this.ll=Al(t),this._l=new Ph(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Dh,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=bl(this.query)&&i.size===this.query.limit?i.last():null,c=_l(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),h=e instanceof Wc?e:null;h&&(h=jl(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),bl(this.query)||_l(this.query))for(;s.size>this.query.limit;){var l=bl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fu()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new Lh(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new Dh,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Ah(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new Wg(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new $g(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Ah();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return Lh.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),Jg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Zg=function(t){this.key=t,this.yl=!1},Xg=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new Nd((function(t){return Il(t)}),kl),this.Dl=new Map,this.Cl=[],this.xl=new yh(mc.J),this.Nl=new Map,this.Ol=new Ap,this.Fl={},this.kl=new Map,this.Ml=zd.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Qg(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Wn.d)(this,(function(a){switch(a.label){case 0:return n=kv(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Op(n.Sh,Sl(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,Yg(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.$l&&dg(n.gl,o),a.label=4;case 4:return[2,r]}}))}))}function Yg(t,e,n,r){return Object(Wn.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(Wn.d)(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Wn.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Wn.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,xp(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Fe.get(e.targetId),s=e.view.Ei(i,t.$l,o),[2,(fv(t,e.targetId,s.ml),s.snapshot)]}}))}))}(t,e,n,r)},[4,xp(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Kg(e,i.Pc),s=o.dl(i.documents),a=Vh.Be(n,r&&"Offline"!==t.onlineState),u=o.Ei(s,t.$l,a),fv(t,n,u.ml),c=new Jg(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}}))}))}function tv(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Wn.d)(this,(function(o){switch(o.label){case 0:return n=qu(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!kl(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Ep(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),pg(n.gl,r.targetId),lv(n,r.targetId)})).catch(Ad)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return lv(n,r.targetId),[4,Ep(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function ev(t,e,n){return Object(Wn.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Wn.d)(this,(function(a){switch(a.label){case 0:r=Iv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=qu(t),i=hc.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Ah());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=nh(c,n.get(c.key));null!=l&&s.push(new sh(c.key,l,Gc(l.proto.mapValue),Xl.exists(!0)))}return r.Ho.Pi(t,i,s,e)}))})).then((function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}}))}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new yh(Gu)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,gv(r,i.oi)];case 3:return a.sent(),[4,Tg(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Uf(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function nv(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r;return Object(Wn.d)(this,(function(i){switch(i.label){case 0:n=qu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,bp(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach((function(t,e){var r=n.Nl.get(e);r&&(zu(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?zu(r.yl):t.Ke.size>0&&(zu(r.yl),r.yl=!1))})),[4,gv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ad(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function rv(t,e,n){var r=qu(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=qu(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&qg(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function iv(t,e,n){return Object(Wn.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(Wn.d)(this,(function(c){switch(c.label){case 0:return(r=qu(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new yh(mc.J)).Ht(o,new Kc(o,fc.min())),a=Ah().add(o),u=new Uh(fc.min(),new Map,new wh(Gu),s,a),[4,nv(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),pv(r),[3,4];case 2:return[4,Ep(r.Sh,e,!1).then((function(){return lv(r,e,n)})).catch(Ad)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function ov(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Wn.d)(this,(function(o){switch(o.label){case 0:n=qu(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,mp(n.Sh,e)];case 2:return i=o.sent(),cv(n,r,null),uv(n,r),n.pl.Oa(r,"acknowledged"),[4,gv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ad(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function sv(t,e,n){return Object(Wn.b)(this,void 0,void 0,(function(){var r,i;return Object(Wn.d)(this,(function(o){switch(o.label){case 0:r=qu(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=qu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.yi(t,e).next((function(e){return zu(null!==e),r=e.keys(),n.Ho.xi(t,e)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),cv(r,e,n),uv(r,e),r.pl.Oa(e,"rejected",n),[4,gv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ad(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function av(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Wn.d)(this,(function(a){switch(a.label){case 0:bg((n=qu(t)).gl)||Lu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=qu(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.pi(t)}))}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Uf(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function uv(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function cv(t,e,n){var r=qu(t),i=r.Fl[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function lv(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach((function(e){t.Ol.ki(e)||hv(t,e)}))}function hv(t,e){var n=t.xl.get(e);null!==n&&(pg(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),pv(t))}function fv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof $g?(t.Ol.sr(o.key,e),dv(t,o)):o instanceof Wg?(Lu("SyncEngine","Document no longer in limbo: "+o.key),t.Ol.rr(o.key,e),t.Ol.ki(o.key)||hv(t,o.key)):Fu()}}function dv(t,e){var n=e.key;t.xl.get(n)||(Lu("SyncEngine","New document in limbo: "+n),t.Cl.push(n),pv(t))}function pv(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Zg(e)),t.xl=t.xl.Ht(e,n),dg(t.gl,new Rl(Sl(yl(e.path)),n,2,lc.U))}}function gv(t,e,n){return Object(Wn.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Wn.d)(this,(function(a){switch(a.label){case 0:return r=qu(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){s.push(r.Bl(a,e,n).then((function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=fp.cc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Object(Wn.d)(this,(function(l){switch(l.label){case 0:n=qu(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Tf.forEach(e,(function(e){return Tf.forEach(e.rc,(function(r){return n.persistence.Ii.sr(t,e.targetId,r)})).next((function(){return Tf.forEach(e.oc,(function(r){return n.persistence.Ii.rr(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Af(r=l.sent()))throw r;return Lu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}}))}))}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function vv(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r;return Object(Wn.d)(this,(function(i){switch(i.label){case 0:return(n=qu(t)).currentUser.isEqual(e)?[3,3]:(Lu("SyncEngine","User change. New user:",e.R()),[4,vp(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new Zu(Ju.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,gv(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function mv(t,e){var n=qu(t),r=n.Nl.get(e);if(r&&r.yl)return Ah().add(r.key);var i=Ah(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Sl.get(a[s]);i=i.ye(u.view.fl)}return i}function yv(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Wn.d)(this,(function(o){switch(o.label){case 0:return[4,xp((n=qu(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&fv(n,e.targetId,i.ml),i)]}}))}))}function bv(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e;return Object(Wn.d)(this,(function(n){return[2,Tp((e=qu(t)).Sh).then((function(t){return gv(e,t)}))]}))}))}function _v(t,e,n,r){return Object(Wn.b)(this,void 0,void 0,(function(){var i,o;return Object(Wn.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=qu(t),r=qu(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.gi(t,e).next((function(e){return e?n.Ic.Zo(t,e):Tf.resolve(null)}))}))}((i=qu(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Tg(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cv(i,e,r||null),uv(i,e),function(t,e){qu(qu(t).Ho).Ni(e)}(i.Sh,e)):Fu(),s.label=4;case 4:return[4,gv(i,o)];case 5:return s.sent(),[3,7];case 6:Lu("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function wv(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(Wn.d)(this,(function(c){switch(c.label){case 0:return kv(n=qu(t)),Iv(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Ov(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Rg(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)dg(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?a.push(e):u=u.then((function(){return lv(n,e),Ep(n.Sh,e,!0)})),pg(n.gl,e)})),[4,u]);case 4:return c.sent(),[4,Ov(n,a)];case 5:return c.sent(),function(t){var e=qu(t);e.Nl.forEach((function(t,n){pg(e.gl,n)})),e.Ol.Mc(),e.Nl=new Map,e.xl=new yh(mc.J)}(n),n.Ll=!1,[4,Rg(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Ov(t,e,n){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Wn.d)(this,(function(g){switch(g.label){case 0:n=qu(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Dl.get(a=s[o]))&&0!==c.length?[4,Op(n.Sh,Sl(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,yv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Sp(n.Sh,a)];case 8:return p=g.sent(),[4,Op(n.Sh,p)];case 9:return u=g.sent(),[4,Yg(n,Ev(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function Ev(t){return ml(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xv(t){var e=qu(t);return qu(qu(e.Sh).persistence).Qo()}function Sv(t,e,n,r){return Object(Wn.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Wn.d)(this,(function(a){switch(a.label){case 0:return(i=qu(t)).Ll?(Lu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Tp(i.Sh)];case 3:return o=a.sent(),s=Uh.$e(e,"current"===n),[4,gv(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Ep(i.Sh,e,!0)];case 6:return a.sent(),lv(i,e,r),[3,8];case 7:Fu(),a.label=8;case 8:return[2]}}))}))}function Tv(t,e,n){return Object(Wn.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return Object(Wn.d)(this,(function(f){switch(f.label){case 0:if(!(r=kv(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(Lu("SyncEngine","Adding an already active target "+s),[3,5]):[4,Sp(r.Sh,s)]:[3,6];case 2:return a=f.sent(),[4,Op(r.Sh,a)];case 3:return u=f.sent(),[4,Yg(r,Ev(a),u.targetId,!1)];case 4:f.sent(),dg(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Wn.d)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Ep(r.Sh,t,!1).then((function(){pg(r.gl,t),lv(r,t)})).catch(Ad)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function kv(t){var e=qu(t);return e.gl.Ch.Bh=nv.bind(null,e),e.gl.Ch.Sn=mv.bind(null,e),e.gl.Ch.$h=iv.bind(null,e),e.vl.uh=Fg.bind(null,e.Vl),e.vl.ql=zg.bind(null,e.Vl),e}function Iv(t){var e=qu(t);return e.gl.Ch.qh=ov.bind(null,e),e.gl.Ch.Uh=sv.bind(null,e),e}var Cv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(e){switch(e.label){case 0:return this.Kt=rg(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return gp(this.persistence,new dp,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Up(Mp.ra,this.Kt)},t.prototype.Wl=function(t){return new Jp},t.prototype.terminate=function(){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},t}(),jv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Wn.c)(e,t),e.prototype.initialize=function(e){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,kp(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Iv(this.Xl.fa)];case 4:return n.sent(),[4,Tg(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return gp(this.persistence,new dp,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Kd(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=cp(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?jd.Xs(this.cacheSizeBytes):jd.ei;return new sp(this.synchronizeTabs,e,t.clientId,n,t.fs,eg(),ng(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Jp},e}(Cv),Av=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Wn.c)(e,t),e.prototype.initialize=function(e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Wn.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Kp?(this.pl.fa={nu:_v.bind(null,n),su:Sv.bind(null,n),iu:Tv.bind(null,n),Qo:xv.bind(null,n),eu:bv.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po((function(t){return Object(Wn.b)(r,void 0,void 0,(function(){return Object(Wn.d)(this,(function(e){switch(e.label){case 0:return[4,wv(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=eg();if(!Kp.jn(e))throw new Zu(Ju.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=cp(t.gu.T,t.gu.persistenceKey);return new Kp(e,t.fs,n,t.clientId,t.Yl)},e}(jv),Nv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n=this;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return rv(n.fa,t,1)},this.gl.Ch.s_=vv.bind(null,this.fa),[4,Rg(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new Ug},t.prototype.Zl=function(t){var e=rg(t.gu.T),n=new tg(t.gu);return function(t,e,n){return new ug(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return rv(s.fa,t,0)},o=Xp.jn()?new Xp:new Zp,new lg(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Xg(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e;return Object(Wn.d)(this,(function(n){switch(n.label){case 0:return e=qu(t),Lu("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,fg(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),Rv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Pv=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Sf,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(Wn.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Wn.d)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Bg(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(Wn.b)(this,void 0,void 0,(function(){var t,e;return Object(Wn.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e;return Object(Wn.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Wn.b)(this,void 0,void 0,(function(){var t,e;return Object(Wn.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Zu(Ju.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new vc(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Dv=function(t){this._methodName=t};function Lv(t,e,n){if(!n)throw new Zu(Ju.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Uv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Zu(Ju.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Vv(t,e,n,r){if(!0===e&&!0===r)throw new Zu(Ju.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Mv(t){if(!mc.Et(t))throw new Zu(Ju.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Fv(t){if(mc.Et(t))throw new Zu(Ju.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function zv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Fu()}function qv(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Zu(Ju.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zv(t);throw new Zu(Ju.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Hv(t,e){if(e<=0)throw new Zu(Ju.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Bv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Zu(Ju.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Zu(Ju.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Vv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Gv=new Map,$v=function(){function t(t,e){this.w_="(lite)",this.E_=new Bv({}),this.T_=!1,t instanceof rc?(this.I_=t,this.m_=new sc):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Zu(Ju.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(t.options.projectId)}(t),this.m_=new ac(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Zu(Ju.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Zu(Ju.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Bv(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new sc;switch(t.type){case"gapi":var e=t.client;return zu(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new cc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Zu(Ju.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Gv.get(this))&&(Lu("ComponentProvider","Removing Datastore"),Gv.delete(this),t.terminate()),Promise.resolve();var t},t}(),Wv=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Jv(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Kv=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Jv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,yl(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Wn.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Wv(this.firestore,null,new mc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Kv);function Zv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Qu&&(t=t._),Lv("collection","path",e),t instanceof $v)return Fv(n=pc.ct.apply(pc,Object(Wn.g)([e],r))),new Jv(t,null,n);if(!(t instanceof Wv||t instanceof Jv))throw new Zu(Ju.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Fv(n=pc.ct.apply(pc,Object(Wn.g)([t.path],r)).child(pc.ct(e))),new Jv(t.firestore,null,n)}function Xv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Qu&&(t=t._),1===arguments.length&&(e=Bu.t()),Lv("doc","path",e),t instanceof $v)return Mv(n=pc.ct.apply(pc,Object(Wn.g)([e],r))),new Wv(t,null,new mc(n));if(!(t instanceof Wv||t instanceof Jv))throw new Zu(Ju.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Mv(n=t.D_.child(pc.ct.apply(pc,Object(Wn.g)([e],r)))),new Wv(t.firestore,t instanceof Jv?t.v_:null,new mc(n))}function Qv(t,e){return t instanceof Qu&&(t=t._),e instanceof Qu&&(e=e._),(t instanceof Wv||t instanceof Jv)&&(e instanceof Wv||e instanceof Jv)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Yv(t,e){return t instanceof Qu&&(t=t._),e instanceof Qu&&(e=e._),t instanceof Kv&&e instanceof Kv&&t.firestore===e.firestore&&kl(t.C_,e.C_)&&t.v_===e.v_}var tm=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Zu(Ju.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Zu(Ju.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Gu(this.x_,t.x_)||Gu(this.N_,t.N_)},t}(),em=/^__.*__$/,nm=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new sh(t,this.data,this.zt,e,this.fieldTransforms):new oh(t,this.data,e,this.fieldTransforms)},t}(),rm=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new sh(t,this.data,this.zt,e,this.fieldTransforms)},t}();function im(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fu()}}var om=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Sm(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(im(this.k_)&&em.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),sm=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||rg(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new om({k_:t,methodName:e,W_:n,path:vc.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function am(t){var e=t.p_(),n=rg(t.I_);return new sm(t.I_,!!e.ignoreUndefinedProperties,n)}function um(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);wm("Data must be an object, but it was:",s,r);var a,u,c=bm(r,s);if(o.merge)a=new wc(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Om(e,f[h],n);if(!s.contains(d))throw new Zu(Ju.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Tm(l,d)||l.push(d)}a=new wc(l),u=s.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,u=s.fieldTransforms;return new nm(new Hc(c),a,u)}var cm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Wn.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Dv);function lm(t,e,n){return new om({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var hm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Wn.c)(e,t),e.prototype.z_=function(t){return new Jl(t.path,new zl)},e.prototype.isEqual=function(t){return t instanceof e},e}(Dv),fm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Wn.c)(e,t),e.prototype.z_=function(t){var e=lm(this,t,!0),n=this.H_.map((function(t){return ym(t,e)})),r=new ql(n);return new Jl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Dv),dm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Wn.c)(e,t),e.prototype.z_=function(t){var e=lm(this,t,!0),n=this.H_.map((function(t){return ym(t,e)})),r=new Bl(n);return new Jl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Dv),pm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Wn.c)(e,t),e.prototype.z_=function(t){var e=new $l(t.Kt,Ll(t.Kt,this.J_));return new Jl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Dv);function gm(t,e,n,r){var i=t.G_(1,e,n);wm("Data must be an object, but it was:",i,r);var o=[],s=new Bc;bc(r,(function(t,r){var a=xm(e,t,n);r instanceof Qu&&(r=r._);var u=i.U_(a);if(r instanceof cm)o.push(a);else{var c=ym(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new wc(o);return new rm(s.yt(),a,i.fieldTransforms)}function vm(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[Om(e,r,n)],u=[i];if(o.length%2!=0)throw new Zu(Ju.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Om(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Bc,f=a.length-1;f>=0;--f)if(!Tm(l,a[f])){var d=a[f],p=u[f];p instanceof Qu&&(p=p._);var g=s.U_(d);if(p instanceof cm)l.push(d);else{var v=ym(p,g);null!=v&&(l.push(d),h.set(d,v))}}var m=new wc(l);return new rm(h.yt(),m,s.fieldTransforms)}function mm(t,e,n,r){return void 0===r&&(r=!1),ym(n,t.G_(r?4:3,e))}function ym(t,e){if(t instanceof Qu&&(t=t._),_m(t))return wm("Unsupported field value:",e,t),bm(t,e);if(t instanceof Dv)return function(t,e){if(!im(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=ym(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Qu&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ll(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=hc.fromDate(t);return{timestampValue:Jh(e.Kt,n)}}if(t instanceof hc)return n=new hc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Jh(e.Kt,n)};if(t instanceof tm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xu)return{bytesValue:Zh(e.Kt,t.l)};if(t instanceof Wv){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Yh(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+zv(t))}(t,e)}function bm(t,e){var n={};return _c(t)?e.path&&e.path.length>0&&e.zt.push(e.path):bc(t,(function(t,r){var i=ym(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function _m(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof hc||t instanceof tm||t instanceof Xu||t instanceof Wv||t instanceof Dv)}function wm(t,e,n){if(!_m(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=zv(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Om(t,e,n){if(e instanceof Qu&&(e=e._),e instanceof Pv)return e.d_;if("string"==typeof e)return xm(t,e);throw Sm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Em=new RegExp("[~\\*/\\[\\]]");function xm(t,e,n){if(e.search(Em)>=0)throw Sm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Pv.bind.apply(Pv,Object(Wn.g)([void 0],e.split("."))))).d_}catch(r){throw Sm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Sm(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Zu(Ju.INVALID_ARGUMENT,(a+=". ")+t+u)}function Tm(t,e){return t.some((function(t){return t.isEqual(e)}))}var km=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Zu(Ju.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(Wn.d)(this,(function(u){switch(u.label){case 0:return n=qu(t),r=sf(n.Kt)+"/documents",i={documents:e.map((function(t){return ef(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){zu(!!e.found);var n=nf(t,e.found.name),r=Qh(e.found.updateTime),i=new Hc({mapValue:{fields:e.found.fields}});return new Wc(n,r,i,{})}(t,e):"missing"in e?function(t,e){zu(!!e.missing),zu(!!e.readTime);var n=nf(t,e.missing),r=Qh(e.readTime);return new Kc(n,r)}(t,e):Fu()}(n.Kt,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());zu(!!e),a.push(e)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Kc||t instanceof Wc?n.sf(t):Fu()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new dh(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Wn.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Wn.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=mc.ft(n);e.mutations.push(new ph(r,e.Gt(r)))})),[4,function(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Wn.d)(this,(function(o){switch(o.label){case 0:return n=qu(t),r=sf(n.Kt)+"/documents",i={writes:e.map((function(t){return lf(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Wc)e=t.version;else{if(!(t instanceof Kc))throw Fu();e=fc.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Zu(Ju.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Xl.updateTime(e):Xl.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(fc.min()))throw new Zu(Ju.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xl.updateTime(e)}return Xl.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Im=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new ig(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(Wn.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Wn.d)(this,(function(r){return t=new km(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Ic(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!vh(e)}return!1},t}(),Cm=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=ic.UNAUTHENTICATED,this.clientId=Bu.t(),this._f=function(){},this.N=new Sf,this.credentials.S((function(t){Lu("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new Zu(Ju.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Sf;return this.fs.Tf((function(){return Object(Wn.b)(t,void 0,void 0,(function(){var t,n;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Uf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function jm(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Wn.d)(this,(function(o){switch(o.label){case 0:return t.fs.Af(),Lu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.bo((function(){return Object(Wn.b)(i,void 0,void 0,(function(){return Object(Wn.d)(this,(function(t){switch(t.label){case 0:return[4,vp(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function Am(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r;return Object(Wn.d)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,Nm(t)];case 1:return n=i.sent(),Lu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return Object(Wn.b)(this,void 0,void 0,(function(){var n,r;return Object(Wn.d)(this,(function(i){switch(i.label){case 0:return(n=qu(t)).fs.Af(),Lu("RemoteStore","RemoteStore received new credentials"),r=bg(n),n.Oh.add(3),[4,fg(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,hg(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function Nm(t){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Lu("FirestoreClient","Using default OfflineComponentProvider"),[4,jm(t,new Cv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Rm(t){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Lu("FirestoreClient","Using default OnlineComponentProvider"),[4,Am(t,new Nv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Pm(t){return Nm(t).then((function(t){return t.persistence}))}function Dm(t){return Nm(t).then((function(t){return t.Sh}))}function Lm(t){return Rm(t).then((function(t){return t.gl}))}function Um(t){return Rm(t).then((function(t){return t.fa}))}function Vm(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e,n;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:return[4,Rm(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Qg.bind(null,e.fa),n.Jh=tv.bind(null,e.fa),n)]}}))}))}function Mm(t,e,n){var r=this;void 0===n&&(n={});var i=new Sf;return t.fs.ys((function(){return Object(Wn.b)(r,void 0,void 0,(function(){var r;return Object(Wn.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Rv({next:function(o){e.ys((function(){return Mg(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Zu(Ju.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Zu(Ju.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Hg(yl(n.path),o,{includeMetadataChanges:!0,sl:!0});return Vg(t,s)},[4,Vm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function Fm(t,e,n){var r=this;void 0===n&&(n={});var i=new Sf;return t.fs.ys((function(){return Object(Wn.b)(r,void 0,void 0,(function(){var r;return Object(Wn.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Rv({next:function(n){e.ys((function(){return Mg(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Zu(Ju.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Hg(n,o,{includeMetadataChanges:!0,sl:!0});return Vg(t,s)},[4,Vm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var zm=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new ig(this,"async_queue_retry"),this.vf=function(){var e=ng();e&&Lu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=ng();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=ng();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(Wn.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Wn.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Af(t=n.sent()))throw t;return Lu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Uu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Lf.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Fu()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Wn.b)(this,void 0,void 0,(function(){var t;return Object(Wn.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),qm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new zm,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Wn.c)(e,t),e.prototype.b_=function(){return this.Lf||Bm(this),this.Lf.terminate()},e}($v);function Hm(t){return t.Lf||Bm(t),t.Lf.df(),t.Lf}function Bm(t){var e=t.p_(),n=function(t,e,n){return new nc(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Cm(t.m_,t.Mf,n)}function Gm(t,e,n){var r=this,i=new Sf;return t.fs.enqueue((function(){return Object(Wn.b)(r,void 0,void 0,(function(){var r;return Object(Wn.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,jm(t,n)];case 1:return o.sent(),[4,Am(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ju.FAILED_PRECONDITION||t.code===Ju.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function $m(t){if(t.R_||t.P_)throw new Zu(Ju.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Wm=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Ac(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xc(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Sc(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw Fu()}},t.prototype.Wf=function(t,e){var n=this,r={};return bc(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new tm(xc(t.latitude),xc(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Tc(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(kc(t));default:return null}},t.prototype.Bf=function(t){var e=Ec(t);return new hc(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=pc.ct(t);zu(xf(n));var r=new rc(n.get(1),n.get(3)),i=new mc(n.X(5));return r.isEqual(e)||Uu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Km=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Wv(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Jm(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Zm("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Jm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Wn.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Km);function Zm(t,e){return"string"==typeof e?xm(t,e):e instanceof Qu?e._.d_:e.d_}function Xm(t){if(_l(t)&&0===t.Nt.length)throw new Zu(Ju.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qm=function(){};function Ym(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var ty=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Wn.c)(e,t),e.prototype.Yf=function(t){var e=am(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new Zu(Ju.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ay(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(sy(r,t,l[c]));a={arrayValue:{values:u}}}else a=sy(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ay(s,o),a=mm(n,"where",s,"in"===o||"not-in"===o);var h=el.create(i,o,a);return function(t,e){if(e.xt()){var n=Ol(t);if(null!==n&&!n.isEqual(e.field))throw new Zu(Ju.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=wl(t);null!==r&&uy(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Zu(Ju.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Kv(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new vl(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Qm),ey=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Wn.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Zu(Ju.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Zu(Ju.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new fl(e,n);return function(t,e){if(null===wl(t)){var n=Ol(t);null!==n&&uy(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Kv(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new vl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Qm),ny=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Wn.c)(e,t),e.prototype.Yf=function(t){return new Kv(t.firestore,t.v_,Tl(t.C_,this.nd,this.sd))},e}(Qm),ry=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Wn.c)(e,t),e.prototype.Yf=function(t){var e=oy(t,this.type,this.rd,this.od);return new Kv(t.firestore,t.v_,function(t,e){return new vl(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Qm),iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Wn.c)(e,t),e.prototype.Yf=function(t){var e=oy(t,this.type,this.rd,this.od);return new Kv(t.firestore,t.v_,function(t,e){return new vl(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Qm);function oy(t,e,n,r){if(n[0]instanceof Qu&&(n[0]=n[0]._),n[0]instanceof Km)return function(t,e,n,r,i){if(!r)throw new Zu(Ju.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=xl(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(Uc(e,r.key));else{var c=r.field(u.field);if(Tc(c))throw new Zu(Ju.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new Zu(Ju.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ll(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=am(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new Zu(Ju.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new Zu(Ju.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!El(t)&&-1!==c.indexOf("/"))throw new Zu(Ju.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(pc.ct(c));if(!mc.Et(l))throw new Zu(Ju.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new mc(l);a.push(Uc(e,h))}else{var f=mm(n,r,c);a.push(f)}}return new ll(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function sy(t,e,n){if(n instanceof Qu&&(n=n._),"string"==typeof n){if(""===n)throw new Zu(Ju.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!El(e)&&-1!==n.indexOf("/"))throw new Zu(Ju.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(pc.ct(n));if(!mc.Et(r))throw new Zu(Ju.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Uc(t,new mc(r))}if(n instanceof Wv)return Uc(t,n.S_);throw new Zu(Ju.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zv(n)+".")}function ay(t,e){if(!Array.isArray(t)||0===t.length)throw new Zu(Ju.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Zu(Ju.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function uy(t,e,n){if(!n.isEqual(e))throw new Zu(Ju.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function cy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function ly(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var hy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Wn.c)(e,t),e.prototype.Uf=function(t){return new Xu(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Wv(this.firestore,null,e)},e}(Wm),fy=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),dy=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(Wn.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new py(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Zm("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Km),py=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Wn.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(dy),gy=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new fy(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new py(n.zf,n.Hf,r.key,r,new fy(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Zu(Ju.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new py(t.zf,t.Hf,e.doc.key,e.doc,new fy(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new py(t.zf,t.Hf,e.doc.key,e.doc,new fy(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:vy(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function vy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fu()}}function my(t,e){return t instanceof dy&&e instanceof dy?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof gy&&e instanceof gy&&t.zf===e.zf&&Yv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var yy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Wn.c)(e,t),e.prototype.Uf=function(t){return new Xu(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Wv(this.firestore,null,e)},e}(Wm);function by(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=qv(t,Wv);var o=qv(t.firestore,qm),s=am(o);return e instanceof Qu&&(e=e._),wy(o,[("string"==typeof e||e instanceof Pv?vm(s,"updateDoc",t.S_,e,n,r):gm(s,"updateDoc",t.S_,e)).O_(t.S_,Xl.exists(!0))])}function _y(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Qu&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||cy(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(cy(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Wv)c=qv(t.firestore,qm),l=yl(t.S_.path),u={next:function(e){i[a]&&i[a](Oy(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=qv(t,Kv);c=qv(d.firestore,qm),l=d.C_;var p=new yy(c);u={next:function(t){i[a]&&i[a](new gy(c,p,d,t))},error:i[a+1],complete:i[a+2]},Xm(t.C_)}return function(t,e,n,r){var i=this,o=new Rv(r),s=new Hg(e,o,n);return t.fs.ys((function(){return Object(Wn.b)(i,void 0,void 0,(function(){var e;return Object(Wn.d)(this,(function(n){switch(n.label){case 0:return e=Vg,[4,Vm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return Object(Wn.b)(i,void 0,void 0,(function(){var e;return Object(Wn.d)(this,(function(n){switch(n.label){case 0:return e=Mg,[4,Vm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Hm(c),l,h,u)}function wy(t,e){return function(t,e){var n=this,r=new Sf;return t.fs.ys((function(){return Object(Wn.b)(n,void 0,void 0,(function(){var n;return Object(Wn.d)(this,(function(i){switch(i.label){case 0:return n=ev,[4,Um(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Hm(t),e)}function Oy(t,e,n){var r=n.docs.get(e.S_),i=new yy(t);return new dy(t,i,e.S_,r,new fy(n.hasPendingWrites,n.fromCache),e.v_)}var Ey=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=am(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=xy(t,this.zf),i=ly(r.v_,e,n),o=um(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.O_(r.S_,Xl.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=xy(t,this.zf);return e instanceof Qu&&(e=e._),o="string"==typeof e||e instanceof Pv?vm(this.wd,"WriteBatch.update",s.S_,e,n,r):gm(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.O_(s.S_,Xl.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=xy(t,this.zf);return this.fd=this.fd.concat(new dh(e.S_,Xl.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Zu(Ju.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function xy(t,e){if(t instanceof Qu&&(t=t._),t.firestore!==e)throw new Zu(Ju.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Sy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Wn.c)(e,t),e.prototype.get=function(e){var n=this,r=xy(e,this.zf),i=new yy(this.zf);return t.prototype.get.call(this,e).then((function(t){return new dy(n.zf,i,r.S_,t.Jf,new fy(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=am(t)}return t.prototype.get=function(t){var e=this,n=xy(t,this.zf),r=new hy(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Fu();var i=t[0];if(i instanceof Kc)return new Km(e.zf,r,n.S_,null,n.v_);if(i instanceof Wc)return new Km(e.zf,r,i.key,i,n.v_);throw Fu()}))},t.prototype.set=function(t,e,n){var r=xy(t,this.zf),i=ly(r.v_,e,n),o=um(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=xy(t,this.zf);return e instanceof Qu&&(e=e._),o="string"==typeof e||e instanceof Pv?vm(this.wd,"Transaction.update",s.S_,e,n,r):gm(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=xy(t,this.zf);return this.Td.delete(e.S_),this},t}()),Ty=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){$m(t=qv(t,qm));var n=Hm(t),r=t.p_(),i=new Nv;return Gm(n,i,new jv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){$m(t=qv(t,qm));var e=Hm(t),n=t.p_(),r=new Nv;return Gm(e,r,new Av(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Zu(Ju.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Sf;return t.Mf.Tf((function(){return Object(Wn.b)(e,void 0,void 0,(function(){var e;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Wn.b)(this,void 0,void 0,(function(){return Object(Wn.d)(this,(function(e){switch(e.label){case 0:return If.jn()?[4,If.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(cp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),ky=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof rc||(i.md=e),i}return Object(Wn.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=qv(t,$v)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Vu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Wn.b)(e,void 0,void 0,(function(){var e,n;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:return[4,Pm(t)];case 1:return e=r.sent(),[4,Lm(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=qu(t);return e.Oh.delete(0),hg(e)}(n))]}}))}))}))}(Hm(qv(this._,qm)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Wn.b)(e,void 0,void 0,(function(){var e,n;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:return[4,Pm(t)];case 1:return e=r.sent(),[4,Lm(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(Wn.b)(this,void 0,void 0,(function(){var e;return Object(Wn.d)(this,(function(n){switch(n.label){case 0:return(e=qu(t)).Oh.add(0),[4,fg(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Hm(qv(this._,qm)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Vv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Sf;return t.fs.ys((function(){return Object(Wn.b)(e,void 0,void 0,(function(){var e;return Object(Wn.d)(this,(function(r){switch(r.label){case 0:return e=av,[4,Um(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Hm(qv(this._,qm)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Rv(e);return t.fs.ys((function(){return Object(Wn.b)(n,void 0,void 0,(function(){var e;return Object(Wn.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){qu(t).Wh.add(e),e.next()},[4,Vm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object(Wn.b)(n,void 0,void 0,(function(){var e;return Object(Wn.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){qu(t).Wh.delete(e)},[4,Vm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Hm(t=qv(t,qm)),cy(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Zu(Ju.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Fy(this,Zv(this._,t))}catch(t){throw Ny(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Ay(this,Xv(this._,t))}catch(t){throw Ny(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Uy(this,function(t,e){if(t=qv(t,$v),Lv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Zu(Ju.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Kv(t,null,function(t){return new vl(pc.at(),t)}(e))}(this._,t))}catch(t){throw Ny(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Sf;return t.fs.ys((function(){return Object(Wn.b)(n,void 0,void 0,(function(){var n;return Object(Wn.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Rm(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new Im(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(Hm(t),(function(n){return e(new Sy(t,n))}))}(this._,(function(n){return t(new Cy(e,n))}))},e.prototype.batch=function(){var t=this;return Hm(this._),new jy(new Ey(this._,(function(e){return wy(t._,e)})))},e.prototype.loadBundle=function(t){throw new Zu(Ju.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Zu(Ju.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Qu),Iy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Wn.c)(e,t),e.prototype.Uf=function(t){return new ec(new Xu(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Ay.Ad(e,this.firestore,null)},e}(Wm),Cy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new Iy(e),r}return Object(Wn.c)(e,t),e.prototype.get=function(t){var e=this,n=zy(t);return this._.get(n).then((function(t){return new Dy(e.zf,new dy(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=zy(t);return n?(Uv("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=zy(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Wn.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=zy(t);return this._.delete(e),this},e}(Qu),jy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Wn.c)(e,t),e.prototype.set=function(t,e,n){var r=zy(t);return n?(Uv("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=zy(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Wn.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=zy(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Qu),Ay=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Iy(e),r}return Object(Wn.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Zu(Ju.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Wv(n._,r,new mc(t)))},e.Ad=function(t,n,r){return new e(n,new Wv(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Fy(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Fy(this.firestore,Zv(this._,t))}catch(t){throw Ny(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Qu&&(t=t._),t instanceof Wv&&Qv(this._,t)},e.prototype.set=function(t,e){e=Uv("DocumentReference.set",e);try{return function(t,e,n){t=qv(t,Wv);var r=qv(t.firestore,qm),i=ly(t.v_,e,n);return wy(r,[um(am(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,Xl.jt())])}(this._,t,e)}catch(t){throw Ny(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?by(this._,t):by.apply(void 0,Object(Wn.g)([this._,t,e],n))}catch(t){throw Ny(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return wy(qv((t=this._).firestore,qm),[new dh(t.S_,Xl.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ry(e),i=Py(e,(function(e){return new Dy(t.firestore,new dy(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return _y(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=qv(t,Wv);var e=qv(t.firestore,qm),n=Hm(e),r=new yy(e);return function(t,e){var n=this,r=new Sf;return t.fs.ys((function(){return Object(Wn.b)(n,void 0,void 0,(function(){var n;return Object(Wn.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Wn.b)(this,void 0,void 0,(function(){var r,i;return Object(Wn.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=qu(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Wc?n.resolve(i):i instanceof Kc?n.resolve(null):n.reject(new Zu(Ju.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Uf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Dm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new dy(e,r,t.S_,n,new fy(n instanceof Wc&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=qv(t,Wv);var e=qv(t.firestore,qm);return Mm(Hm(e),t.S_,{source:"server"}).then((function(n){return Oy(e,t,n)}))}(this._):function(t){t=qv(t,Wv);var e=qv(t.firestore,qm);return Mm(Hm(e),t.S_).then((function(n){return Oy(e,t,n)}))}(this._)).then((function(t){return new Dy(e.firestore,new dy(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Qu);function Ny(t,e,n){return t.message=t.message.replace(e,n),t}function Ry(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!cy(r))return r}return{}}function Py(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=cy(t[0])?t[0]:cy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Dy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Wn.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ay(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return my(this._,t._)},e}(Qu),Ly=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Wn.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Dy),Uy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Iy(e),r}return Object(Wn.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Ym(this._,function(t,e,n){var r=e,i=Zm("where",t);return new ty(i,r,n)}(t,n,r)))}catch(t){throw Ny(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ym(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Zm("orderBy",t);return new ey(r,n)}(t,n)))}catch(t){throw Ny(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ym(this._,function(t){return Hv("limit",t),new ny("limit",t,"F")}(t)))}catch(t){throw Ny(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ym(this._,function(t){return Hv("limitToLast",t),new ny("limitToLast",t,"L")}(t)))}catch(t){throw Ny(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ym(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ry("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Ny(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ym(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ry("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Ny(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ym(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iy("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Ny(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ym(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iy("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Ny(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Yv(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=qv(t,Kv);var e=qv(t.firestore,qm),n=Hm(e),r=new yy(e);return function(t,e){var n=this,r=new Sf;return t.fs.ys((function(){return Object(Wn.b)(n,void 0,void 0,(function(){var n;return Object(Wn.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Wn.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(Wn.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,xp(t,e,!0)];case 1:return a=u.sent(),r=new Kg(e,a.Pc),i=r.dl(a.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Uf(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Dm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new gy(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=qv(t,Kv);var e=qv(t.firestore,qm),n=Hm(e),r=new yy(e);return Fm(n,t.C_,{source:"server"}).then((function(n){return new gy(e,r,t,n)}))}(this._):function(t){t=qv(t,Kv);var e=qv(t.firestore,qm),n=Hm(e),r=new yy(e);return Xm(t.C_),Fm(n,t.C_).then((function(n){return new gy(e,r,t,n)}))}(this._)).then((function(t){return new My(e.firestore,new gy(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ry(e),i=Py(e,(function(e){return new My(t.firestore,new gy(t.firestore._,t.Hf,t._,e.ud))}));return _y(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Qu),Vy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Wn.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ly(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Qu),My=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Wn.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Uy(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new Ly(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new Vy(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new Ly(n.zf,r))}))},e.prototype.isEqual=function(t){return my(this._,t._)},e}(Qu),Fy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Wn.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Ay(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Ay(this.firestore,void 0===t?Xv(this._):Xv(this._,t))}catch(t){throw Ny(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=qv(t.firestore,qm),r=Xv(t),i=ly(t.v_,e);return wy(n,[um(am(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,Xl.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new Ay(e.firestore,t)}))},e.prototype.isEqual=function(t){return Qv(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Uy);function zy(t){return t instanceof Qu&&(t=t._),qv(t,Wv)}var qy=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Pv.bind.apply(Pv,Object(Wn.g)([void 0],e))))||this}return Object(Wn.c)(e,t),e.documentId=function(){return new e(vc.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Qu&&(t=t._),t instanceof Pv&&this._.d_.isEqual(t.d_)},e}(Qu),Hy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Wn.c)(e,t),e.serverTimestamp=function(){var t=new hm("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new cm("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fm("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dm("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new pm("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Qu);!function(){function t(){this.Pd={},this.yd=new Sf,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var By,Gy={Firestore:ky,GeoPoint:tm,Timestamp:hc,Blob:ec,Transaction:Cy,WriteBatch:jy,DocumentReference:Ay,DocumentSnapshot:Dy,Query:Uy,QueryDocumentSnapshot:Ly,QuerySnapshot:My,CollectionReference:Fy,FieldPath:qy,FieldValue:Hy,setLogLevel:function(t){Pu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function $y(t,e){return function(t,e=qn.a){return new Et.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Wy(t,e){return $y(t,e).pipe(Object(St.a)(t=>({payload:t,type:"query"})))}function Ky(t,e){return Wy(t,e).pipe(Oi(void 0),Ei(),Object(St.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Jy(t,e,n){return Ky(t,n).pipe(Ti((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Zy(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Zy(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Zy(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Ci(),Object(St.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Zy(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Xy(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new Jn.a("firestore",(function(t){return function(t,e){return new ky(t,new qm(t,e),new Ty)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Gy)))})(By=$n.a),By.registerVersion("@firebase/firestore","2.1.2");class Qy{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Ky(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(St.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Oi(void 0),Ei(),pn(([t,e])=>e.length>0||!t),Object(St.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ti((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Xy(t);return Jy(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Wy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(kt.a)(this.query.get(t)).pipe(Object(Xe.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Yy(this.ref.doc(t),this.afs)}}class Yy{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=ob(n,e);return new Qy(r,i,this.afs)}snapshotChanges(){return $y(this.ref,this.afs.schedulers.outsideAngular).pipe(Oi(void 0),Ei(),Object(St.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(St.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(kt.a)(this.ref.get(t)).pipe(Object(Xe.b)(this.afs.schedulers.insideAngular))}}class tb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Ky(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),pn(t=>t.length>0),this.afs.keepUnstableUntilFirst):Ky(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ti((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Xy(t);return Jy(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Wy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(kt.a)(this.query.get(t)).pipe(Object(Xe.b)(this.afs.schedulers.insideAngular))}}const eb=new r.q("angularfire2.enableFirestorePersistence"),nb=new r.q("angularfire2.firestore.persistenceSettings"),rb=new r.q("angularfire2.firestore.settings"),ib=new r.q("angularfire2.firestore.use-emulator");function ob(t,e=(t=>t)){return{query:e(t),ref:t}}let sb=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Rn.e(o),this.keepUnstableUntilFirst=Object(Rn.i)(this.schedulers);const c=Object(Rn.h)(t,o,e);!Ni.a.auth&&u&&Object(Rn.k)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Rn.g)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!F(i)){const e=()=>{try{return Object(kt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(By){return"undefined"!=typeof console&&console.warn(By),Object(Je.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Je.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=ob(n,e),o=this.schedulers.ngZone.run(()=>r);return new Qy(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new tb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Yy(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Rn.c),r.Ob(Rn.b,8),r.Ob(eb,8),r.Ob(rb,8),r.Ob(r.B),r.Ob(r.z),r.Ob(nb,8),r.Ob(ib,8),r.Ob(Pn,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Ob)(Rn.c),Object(r.Ob)(Rn.b,8),Object(r.Ob)(eb,8),Object(r.Ob)(rb,8),Object(r.Ob)(r.B),Object(r.Ob)(r.z),Object(r.Ob)(nb,8),Object(r.Ob)(ib,8),Object(r.Ob)(Pn,8))},token:t,providedIn:"any"}),t})(),ab=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:eb,useValue:!0},{provide:nb,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[sb]}),t})();class ub extends Ke.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new an.a;return this._value}next(t){super.next(this._value=t)}}var cb=n("yCtX");const lb={};class hb{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new fb(t,this.resultSelector))}}class fb extends Qe.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(lb),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(tn.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===lb?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function db(t){return new Et.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(kt.a)(n):Object(yn.b)()).subscribe(e)})}function pb(t){return function(e){return 0===t?Object(yn.b)():e.lift(new gb(t))}}class gb{constructor(t){if(this.total=t,this.total<0)throw new mn}call(t,e){return e.subscribe(new vb(t,this.total))}}class vb extends dn.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function mb(t){return function(e){const n=new yb(t),r=e.lift(n);return n.caught=r}}class yb{constructor(t){this.selector=t}call(t,e){return e.subscribe(new bb(t,this.selector,this.caught))}}class bb extends Qe.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ye.a(this,void 0,void 0);this.add(r);const i=Object(tn.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}var _b=n("5+tZ"),wb=n("vkgz");class Ob{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Eb(t,this.predicate,this.thisArg,this.source))}}class Eb extends dn.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function xb(t,e){return Object(_b.a)(t,e,1)}class Sb{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Tb(t,this.callback))}}class Tb extends dn.a{constructor(t,e){super(t),this.add(new sn.a(e))}}class kb{constructor(t,e){this.id=t,this.url=e}}class Ib extends kb{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cb extends kb{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jb extends kb{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ab extends kb{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Nb extends kb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rb extends kb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pb extends kb{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Db extends kb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lb extends kb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ub{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vb{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mb{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fb{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zb{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qb{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hb{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Bb{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gb(t){return new Bb(t)}function $b(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Wb(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Kb(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Jb(t[i],e[i]))return!1;return!0}function Jb(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Zb(t){return Array.prototype.concat.apply([],t)}function Xb(t){return t.length>0?t[t.length-1]:null}function Qb(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Yb(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(kt.a)(Promise.resolve(t)):Object(Je.a)(t)}function t_(t,e,n){return n?function(t,e){return Kb(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!i_(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Jb(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!i_(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!i_(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!i_(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class e_{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gb(this.queryParams)),this._queryParamMap}toString(){return u_.serialize(this)}}class n_{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qb(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return c_(this)}}class r_{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gb(this.parameters)),this._parameterMap}toString(){return g_(this)}}function i_(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function o_(t,e){let n=[];return Qb(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Qb(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class s_{}class a_{parse(t){const e=new __(t);return new e_(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return c_(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Qb(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=o_(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${c_(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${h_(e)}=${h_(t)}`).join("&"):`${h_(e)}=${h_(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const u_=new a_;function c_(t){return t.segments.map(t=>g_(t)).join("/")}function l_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function h_(t){return l_(t).replace(/%3B/gi,";")}function f_(t){return l_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function d_(t){return decodeURIComponent(t)}function p_(t){return d_(t.replace(/\+/g,"%20"))}function g_(t){return`${f_(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${f_(t)}=${f_(e[t])}`).join("")}`;var e}const v_=/^[^\/()?;=#]+/;function m_(t){const e=t.match(v_);return e?e[0]:""}const y_=/^[^=?&#]+/,b_=/^[^?&#]+/;class __{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new n_([],{}):new n_([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new n_(t,e)),n}parseSegment(){const t=m_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new r_(d_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=m_(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=m_(this.remaining);t&&(n=t,this.capture(n))}t[d_(e)]=d_(n)}parseQueryParam(t){const e=function(t){const e=t.match(y_);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(b_);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=p_(e),i=p_(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=m_(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new n_([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class w_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=O_(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=O_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=E_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return E_(t,this._root).map(t=>t.value)}}function O_(t,e){if(t===e.value)return e;for(const n of e.children){const e=O_(t,n);if(e)return e}return null}function E_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=E_(t,n);if(r.length)return r.unshift(e),r}return[]}class x_{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function S_(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class T_ extends w_{constructor(t,e){super(t),this.snapshot=e,N_(this,t)}toString(){return this.snapshot.toString()}}function k_(t,e){const n=function(t,e){const n=new j_([],{},{},"",{},"primary",e,null,t.root,-1,{});return new A_("",new x_(n,[]))}(t,e),r=new ub([new r_("",{})]),i=new ub({}),o=new ub({}),s=new ub({}),a=new ub(""),u=new I_(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new T_(new x_(u,[]),n)}class I_{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(St.a)(t=>Gb(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(St.a)(t=>Gb(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function C_(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class j_{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gb(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gb(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class A_ extends w_{constructor(t,e){super(e),this.url=t,N_(this,e)}toString(){return R_(this._root)}}function N_(t,e){e.value._routerState=t,e.children.forEach(e=>N_(t,e))}function R_(t){const e=t.children.length>0?` { ${t.children.map(R_).join(", ")} } `:"";return`${t.value}${e}`}function P_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Kb(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Kb(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Kb(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Kb(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function D_(t,e){return Kb(t.params,e.params)&&function(t,e){return i_(t,e)&&t.every((t,n)=>Kb(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||D_(t.parent,e.parent))}function L_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function U_(t,e,n,r,i){let o={};return r&&Qb(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new e_(n.root===t?e:function t(e,n,r){const i={};return Qb(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new n_(e.segments,i)}(n.root,t,e),o,i)}class V_{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&L_(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Xb(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class M_{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function F_(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function z_(t,e,n){if(t||(t=new n_([],{})),0===t.segments.length&&t.hasChildren())return q_(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=F_(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!$_(s,a,e))return o;r+=2}else{if(!$_(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new n_(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new n_(t.segments.slice(r.pathIndex),t.children),q_(e,0,i)}return r.match&&0===i.length?new n_(t.segments,{}):r.match&&!t.hasChildren()?H_(t,e,n):r.match?q_(t,0,i):H_(t,e,n)}function q_(t,e,n){if(0===n.length)return new n_(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return Qb(r,(n,r)=>{null!==n&&(i[r]=z_(t.children[r],e,n))}),Qb(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new n_(t.segments,i)}}function H_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=B_(n[i].outlets);return new n_(r,t)}if(0===i&&L_(n[0])){r.push(new r_(t.segments[e].path,n[0])),i++;continue}const o=F_(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&L_(s)?(r.push(new r_(o,G_(s))),i+=2):(r.push(new r_(o,{})),i++)}return new n_(r,{})}function B_(t){const e={};return Qb(t,(t,n)=>{null!==t&&(e[n]=H_(new n_([],{}),0,t))}),e}function G_(t){const e={};return Qb(t,(t,n)=>e[n]=""+t),e}function $_(t,e,n){return t==n.path&&Kb(e,n.parameters)}class W_{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),P_(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=S_(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Qb(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=S_(t),i=t.value.component?n.children:e;Qb(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=S_(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new qb(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Fb(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(P_(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),K_(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function K_(t){P_(t.value),t.children.forEach(K_)}class J_{constructor(t,e){this.routes=t,this.module=e}}function Z_(t){return"function"==typeof t}function X_(t){return t instanceof e_}class Q_{constructor(t){this.segmentGroup=t||null}}class Y_{constructor(t){this.urlTree=t}}function tw(t){return new Et.a(e=>e.error(new Q_(t)))}function ew(t){return new Et.a(e=>e.error(new Y_(t)))}function nw(t){return new Et.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class rw{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(St.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(mb(t=>{if(t instanceof Y_)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Q_)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(St.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(mb(t=>{if(t instanceof Q_)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new n_([],{primary:t}):t;return new e_(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(St.a)(t=>new n_([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Je.a)({});const n=[],r=[],i={};return Qb(t,(t,o)=>{const s=e(o,t).pipe(Object(St.a)(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),Je.a.apply(null,n.concat(r)).pipe(bi(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?pn((e,n)=>t(e,n,r)):Cn.a,pb(1),n?On(e):Sn(()=>new fn))}(),Object(St.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(Je.a)(...n).pipe(Object(St.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(mb(t=>{if(t instanceof Q_)return Object(Je.a)(null);throw t}))),bi(),jn(t=>!!t),mb((t,n)=>{if(t instanceof fn||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Je.a)(new n_([],{}));throw new Q_(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return aw(r)!==o?tw(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):tw(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ew(i):this.lineralizeSegments(n,i).pipe(Object(_b.a)(n=>{const i=new n_(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=iw(e,r,i);if(!s)return tw(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?ew(l):this.lineralizeSegments(r,l).pipe(Object(_b.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(St.a)(t=>(n._loadedConfig=t,new n_(r,{})))):Object(Je.a)(new n_(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=iw(e,n,r);if(!i)return tw(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(_b.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>sw(t,e,n)&&"primary"!==aw(n))}(t,n,r)?{segmentGroup:ow(new n_(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==aw(r)&&(n[aw(r)]=new n_([],{}));return n}(r,new n_(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>sw(t,e,n))}(t,n,r)?{segmentGroup:ow(new n_(t.segments,function(t,e,n,r){const i={};for(const o of n)sw(t,e,o)&&!r[aw(o)]&&(i[aw(o)]=new n_([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(St.a)(t=>new n_(o,t))):0===r.length&&0===s.length?Object(Je.a)(new n_(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(Object(St.a)(t=>new n_(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Je.a)(new J_(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Je.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(_b.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(St.a)(t=>(e._loadedConfig=t,t))):function(t){return new Et.a(e=>e.error($b(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Je.a)(new J_([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(kt.a)(r).pipe(Object(St.a)(r=>{const i=t.get(r);let o;if(function(t){return t&&Z_(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Z_(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Yb(o)})).pipe(bi(),Object(wb.a)(t=>{if(!X_(t))return;const e=$b(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(i=t=>!0===t,t=>t.lift(new Ob(i,void 0,t)))):Object(Je.a)(!0);var i}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Je.a)(n);if(r.numberOfChildren>1||!r.children.primary)return nw(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new e_(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Qb(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Qb(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new n_(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function iw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Wb)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ow(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new n_(t.segments.concat(e.segments),e.children)}return t}function sw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function aw(t){return t.outlet||"primary"}class uw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class cw{constructor(t,e){this.component=t,this.route=e}}function lw(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=S_(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!i_(t.url,e.url);case"pathParamsOrQueryParamsChange":return!i_(t.url,e.url)||!Kb(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!D_(t,e)||!Kb(t.queryParams,e.queryParams);case"paramsChange":default:return!D_(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new uw(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new cw(u&&u.outlet&&u.outlet.component||null,a))}else a&&fw(n,u,o),o.canActivateChecks.push(new uw(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Qb(s,(t,e)=>fw(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function hw(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function fw(t,e,n){const r=S_(t),i=t.value;Qb(r,(t,r)=>{fw(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new cw(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const dw=Symbol("INITIAL_VALUE");function pw(){return en(t=>function(...t){let e=null,n=null;return Object(wi.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(xt.a)(t[0])&&(t=t[0]),Object(cb.a)(t,n).lift(new hb(e))}(...t.map(t=>t.pipe(bn(1),Oi(dw)))).pipe(Ti((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==dw)return t;if(r===dw&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||X_(r))return r}return t},t)},dw),pn(t=>t!==dw),Object(St.a)(t=>X_(t)?t:!0===t),bn(1)))}function gw(t,e){return null!==t&&e&&e(new zb(t)),Object(Je.a)(!0)}function vw(t,e){return null!==t&&e&&e(new Mb(t)),Object(Je.a)(!0)}function mw(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Je.a)(!0);const i=r.map(r=>db(()=>{const i=hw(r,e,n);let o;if(function(t){return t&&Z_(t.canActivate)}(i))o=Yb(i.canActivate(e,t));else{if(!Z_(i))throw new Error("Invalid CanActivate guard");o=Yb(i(e,t))}return o.pipe(jn())}));return Object(Je.a)(i).pipe(pw())}function yw(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>db(()=>{const i=e.guards.map(i=>{const o=hw(i,e.node,n);let s;if(function(t){return t&&Z_(t.canActivateChild)}(o))s=Yb(o.canActivateChild(r,t));else{if(!Z_(o))throw new Error("Invalid CanActivateChild guard");s=Yb(o(r,t))}return s.pipe(jn())});return Object(Je.a)(i).pipe(pw())}));return Object(Je.a)(i).pipe(pw())}class bw{}class _w{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Ew(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new j_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new x_(n,e),i=new A_(this.url,r);return this.inheritParamsAndData(i._root),Object(Je.a)(i)}catch(By){return new Et.a(e=>e.error(By))}}inheritParamsAndData(t){const e=t.value,n=C_(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=o_(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(By){if(!(By instanceof bw))throw By}if(this.noLeftoversInUrl(e,n,r))return[];throw new bw}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new bw;if((t.outlet||"primary")!==r)throw new bw;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Xb(n).parameters:{};i=new j_(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tw(t),r,t.component,t,ww(e),Ow(e)+n.length,kw(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new bw;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Wb)(n,t,e);if(!r)throw new bw;const i={};Qb(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new j_(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tw(t),r,t.component,t,ww(e),Ow(e)+o.length,kw(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Ew(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new x_(i,t)]}if(0===a.length&&0===c.length)return[new x_(i,[])];const l=this.processSegment(a,u,c,"primary");return[new x_(i,l)]}}function ww(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ow(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ew(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>xw(t,e,n)&&"primary"!==Sw(n))}(t,n,r)){const i=new n_(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Sw(o)){const n=new n_([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Sw(o)]=n}return i}(t,e,r,new n_(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>xw(t,e,n))}(t,n,r)){const o=new n_(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(xw(t,n,a)&&!i[Sw(a)]){const n=new n_([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Sw(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new n_(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function xw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Sw(t){return t.outlet||"primary"}function Tw(t){return t.data||{}}function kw(t){return t.resolve||{}}function Iw(t){return function(e){return e.pipe(en(e=>{const n=t(e);return n?Object(kt.a)(n).pipe(Object(St.a)(()=>e)):Object(kt.a)([e])}))}}class Cw{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let jw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[Kw]},encapsulation:2}),t})();function Aw(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Nw(r,Rw(e,r))}}function Nw(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Aw(t.children,e)}function Rw(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Pw(t){const e=t.children&&t.children.map(Pw),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=jw),n}const Dw=new r.q("ROUTES");class Lw{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(St.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new J_(Zb(r.injector.get(Dw)).map(Pw),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(kt.a)(this.loader.load(t)):Yb(t()).pipe(Object(_b.a)(t=>t instanceof r.v?Object(Je.a)(t):Object(kt.a)(this.compiler.compileModuleAsync(t))))}}class Uw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Vw,this.attachRef=null}}class Vw{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Uw,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Mw{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Fw(t){throw t}function zw(t,e,n){return e.parse("/")}function qw(t,e){return Object(Je.a)(null)}let Hw=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ke.a,this.errorHandler=Fw,this.malformedUriErrorHandler=zw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qw,afterPreactivation:qw},this.urlHandlingStrategy=new Mw,this.routeReuseStrategy=new Cw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new e_(new n_([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Lw(s,a,t=>this.triggerEvent(new Ub(t)),t=>this.triggerEvent(new Vb(t))),this.routerState=k_(this.currentUrlTree,this.rootComponentType),this.transitions=new ub({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(pn(t=>0!==t.id),Object(St.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),en(t=>{let n=!1,r=!1;return Object(Je.a)(t).pipe(Object(wb.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),en(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Je.a)(t).pipe(en(t=>{const n=this.transitions.getValue();return e.next(new Ib(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?yn.a:[t]}),en(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(en(t=>function(t,e,n,r,i){return new rw(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(St.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(wb.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(_b.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new _w(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(St.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(wb.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(wb.a)(t=>{const n=new Nb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Ib(n,this.serializeUrl(r),i,o);e.next(a);const u=k_(r,this.rootComponentType).snapshot;return Object(Je.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),yn.a}),Iw(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(wb.a)(t=>{const e=new Rb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(St.a)(t=>Object.assign(Object.assign({},t),{guards:lw(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(_b.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Je.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(kt.a)(t).pipe(Object(_b.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Je.a)(!0);const s=o.map(o=>{const s=hw(o,e,i);let a;if(function(t){return t&&Z_(t.canDeactivate)}(s))a=Yb(s.canDeactivate(t,e,n,r));else{if(!Z_(s))throw new Error("Invalid CanDeactivate guard");a=Yb(s(t,e,n,r))}return a.pipe(jn())});return Object(Je.a)(s).pipe(pw())}(t.component,t.route,n,e,r)),jn(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(_b.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(kt.a)(e).pipe(xb(e=>Object(kt.a)([vw(e.route.parent,r),gw(e.route,r),yw(t,e.path,n),mw(t,e.route,n)]).pipe(bi(),jn(t=>!0!==t,!0))),jn(t=>!0!==t,!0))}(r,o,t,e):Object(Je.a)(n)),Object(St.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(wb.a)(t=>{if(X_(t.guardsResult)){const e=$b(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(wb.a)(t=>{const e=new Pb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),pn(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new jb(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Iw(t=>{if(t.guards.canActivateChecks.length)return Object(Je.a)(t).pipe(Object(wb.a)(t=>{const e=new Db(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),en(t=>{let n=!1;return Object(Je.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(_b.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Je.a)(t);let o=0;return Object(kt.a)(n).pipe(xb(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Je.a)({});const o={};return Object(kt.a)(i).pipe(Object(_b.a)(i=>function(t,e,n,r){const i=hw(t,e,r);return Yb(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(wb.a)(t=>{o[i]=t}))),pb(1),Object(_b.a)(()=>Object.keys(o).length===i.length?Object(Je.a)(o):yn.a))}(t._resolve,t,e,r).pipe(Object(St.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),C_(t,n).resolve),null)))}(t.route,e,r,i)),Object(wb.a)(()=>o++),pb(1),Object(_b.a)(e=>o===n.length?Object(Je.a)(t):yn.a))}))}),Object(wb.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new jb(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(wb.a)(t=>{const e=new Lb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Iw(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(St.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new x_(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new I_(new ub((i=n.value).url),new ub(i.params),new ub(i.queryParams),new ub(i.fragment),new ub(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new x_(r,o)}}var i}(t,e._root,n?n._root:void 0);return new T_(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(wb.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(St.a)(t=>(new W_(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(wb.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new jb(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Sb(i))),mb(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=X_(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new jb(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ab(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(fl){t.reject(fl)}}var i;return yn.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Aw(t),this.config=t.map(Pw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(r.U)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return U_(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new V_(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Qb(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new V_(n,e,r)}(n);if(o.toRoot())return U_(e.root,new n_([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new M_(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new M_(t,t===e.root,0)}const r=L_(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new M_(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?q_(s.segmentGroup,s.index,o.commands):z_(s.segmentGroup,s.index,o.commands);return U_(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=X_(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(By){e=this.malformedUriErrorHandler(By,this.urlSerializer,t)}return e}isActive(t,e){if(X_(t))return t_(this.currentUrlTree,t,e);const n=this.parseUrl(t);return t_(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Cb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,u;i?(s=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{s=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M),r.Ob(s_),r.Ob(Vw),r.Ob(O),r.Ob(r.r),r.Ob(r.w),r.Ob(r.i),r.Ob(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Bw=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Ke.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:$w(this.skipLocationChange),replaceUrl:$w(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:$w(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:$w(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Hw),r.Ib(I_),r.Pb("tabindex"),r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Rb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})(),Gw=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Ke.a,this.subscription=t.events.subscribe(t=>{t instanceof Cb&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:$w(this.skipLocationChange),replaceUrl:$w(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:$w(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:$w(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Hw),r.Ib(I_),r.Ib(m))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Rb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Nb("href",e.href,r.cc),r.zb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function $w(t){return""===t||!!t}let Ww=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Cb&&this.update()})}ngAfterContentInit(){Object(kt.a)([this.links.changes,this.linksWithHrefs.changes,Object(Je.a)(null)]).pipe(Object(yi.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(kt.a)(e).pipe(Object(yi.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Hw),r.Ib(r.l),r.Ib(r.D),r.Ib(r.h),r.Ib(Bw,8),r.Ib(Gw,8))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Bb(n,Bw,!0),r.Bb(n,Gw,!0)),2&t&&(r.bc(i=r.Sb())&&(e.links=i),r.bc(i=r.Sb())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.wb]}),t})(),Kw=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Jw(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Vw),r.Ib(r.P),r.Ib(r.j),r.Pb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Jw{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===I_?this.route:t===Vw?this.childContexts:this.parent.get(t,e)}}class Zw{}class Xw{preload(t,e){return Object(Je.a)(null)}}let Qw=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Lw(e,n,e=>t.triggerEvent(new Ub(e)),e=>t.triggerEvent(new Vb(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(pn(t=>t instanceof Cb),xb(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(kt.a)(n).pipe(Object(yi.a)(),Object(St.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(_b.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Hw),r.Ob(r.w),r.Ob(r.i),r.Ob(r.r),r.Ob(Zw))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Yw=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ib?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Cb&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Hb&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Hb(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Hw),r.Ob(z),r.Ob(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const tO=new r.q("ROUTER_CONFIGURATION"),eO=new r.q("ROUTER_FORROOT_GUARD"),nO=[O,{provide:s_,useClass:a_},{provide:Hw,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Hw(null,t,e,n,r,i,o,Zb(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[s_,Vw,O,r.r,r.w,r.i,Dw,tO,[class{},new r.A],[class{},new r.A]]},Vw,{provide:I_,useFactory:function(t){return t.routerState.root},deps:[Hw]},{provide:r.w,useClass:r.J},Qw,Xw,class{preload(t,e){return e().pipe(mb(()=>Object(Je.a)(null)))}},{provide:tO,useValue:{enableTracing:!1}}];function rO(){return new r.y("Router",Hw)}let iO=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[nO,uO(e),{provide:eO,useFactory:aO,deps:[[Hw,new r.A,new r.I]]},{provide:tO,useValue:n||{}},{provide:m,useFactory:sO,deps:[u,[new r.p(b),new r.A],tO]},{provide:Yw,useFactory:oO,deps:[Hw,z,tO]},{provide:Zw,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Xw},{provide:r.y,multi:!0,useFactory:rO},[cO,{provide:r.d,multi:!0,useFactory:lO,deps:[cO]},{provide:fO,useFactory:hO,deps:[cO]},{provide:r.b,multi:!0,useExisting:fO}]]}}static forChild(e){return{ngModule:t,providers:[uO(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Ob(eO,8),r.Ob(Hw,8))}}),t})();function oO(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Yw(t,e,n)}function sO(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function aO(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function uO(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Dw,multi:!0,useValue:t}]}let cO=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ke.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Hw),r=this.injector.get(tO);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Je.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(tO),n=this.injector.get(Qw),i=this.injector.get(Yw),o=this.injector.get(Hw),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function lO(t){return t.appInitializer.bind(t)}function hO(t){return t.bootstrapListener.bind(t)}const fO=new r.q("Router Initializer"),dO=function(){return["/"]};let pO=(()=>{class t{constructor(t,e,n){this.auth=t,this.afs=e,this.firestore=n,this.loginForm=new Ie({email:new ke("admin@blog.aksads.tech"),password:new ke("")}),this.createPostForm=new Ie({title:new ke(""),description:new ke(""),file:new ke})}ngOnInit(){document.getElementById("login-modal").style.display="block"}login(){this.auth.signInWithEmailAndPassword(this.loginForm.value.email,this.loginForm.value.password).then(t=>{console.log("Logged in as "+t.user.email),document.getElementById("login-modal").style.display="none"}).catch(t=>{console.log("Login Failed"+t),document.getElementById("login-error").style.display="block"})}createBlog(){if(this.createPostForm.value.title&&this.createPostForm.value.description&&this.createPostForm.value.file){const t=`posts/${We.kebabCase(this.createPostForm.value.title)}.md`,e=this.afs.ref(t);this.afs.upload(t,this.file),e.getDownloadURL().toPromise().then(t=>{this.firestore.collection("posts").doc(We.kebabCase(this.createPostForm.value.title)).set({title:this.createPostForm.value.title,description:this.createPostForm.value.description,file_url:t,post_uri:"post/"+We.kebabCase(this.createPostForm.value.title),timestamp:new Date}).then(()=>{document.getElementById("success").classList.remove("hidden")}).catch(()=>{document.getElementById("error").classList.remove("hidden")})}).catch(()=>{document.getElementById("error").classList.remove("hidden")})}else document.getElementById("error").classList.remove("hidden")}fileInputChange(t){console.log("setting file to "+t.target.files[0].name),this.file=t.target.files[0]}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Fn),r.Ib(gi),r.Ib(sb))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-admin"]],decls:37,vars:4,consts:[["id","login-modal",1,"modal"],[1,"modal-content"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","login-email",1,"form-label"],["id","login-email","type","text","autocomplete","username","formControlName","email",1,"form-control"],["for","login-password",1,"form-label"],["id","login-password","type","password","autocomplete","current-password","formControlName","password",1,"form-control"],["id","login-error",1,"text-danger","hidden"],["type","submit",1,"btn","btn-outline-dark"],["id","success","role","alert",1,"alert","alert-success","hidden"],["routerLinkActive","router-link-active",1,"alert-link",3,"routerLink"],["id","error","role","alert",1,"alert","alert-danger","hidden"],["id","blog-form",3,"formGroup","ngSubmit"],["for","post-title",1,"form-label"],["type","text","id","post-title","autocomplete","off","formControlName","title",1,"form-control"],["for","post-desc",1,"form-label"],["type","text","id","post-desc","formControlName","description",1,"form-control"],[1,"input-group","mb-3"],["type","file","formControlName","file",1,"form-control",3,"change"],["type","submit",1,"btn","btn-outline-light"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"form",2),r.Rb("ngSubmit",(function(){return e.login()})),r.Lb(3,"div",3),r.Lb(4,"label",4),r.fc(5," Email: "),r.Kb(),r.Jb(6,"input",5),r.Kb(),r.Lb(7,"div",3),r.Lb(8,"label",6),r.fc(9," Password: "),r.Kb(),r.Jb(10,"input",7),r.Kb(),r.Lb(11,"p",8),r.fc(12," Incorrect email/password. Try again "),r.Kb(),r.Lb(13,"button",9),r.fc(14,"Login"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(15,"div",10),r.fc(16," Successfully created a new post. View it "),r.Lb(17,"a",11),r.fc(18,"here"),r.Kb(),r.fc(19,".\n"),r.Kb(),r.Lb(20,"div",12),r.fc(21," Something went wrong... Try again by refreshing the page\n"),r.Kb(),r.Lb(22,"form",13),r.Rb("ngSubmit",(function(){return e.createBlog()})),r.Lb(23,"h2"),r.fc(24,"Create new blog post"),r.Kb(),r.Lb(25,"div",3),r.Lb(26,"label",14),r.fc(27,"Title"),r.Kb(),r.Jb(28,"input",15),r.Kb(),r.Lb(29,"div",3),r.Lb(30,"label",16),r.fc(31,"Short Description"),r.Kb(),r.Jb(32,"textarea",17),r.Kb(),r.Lb(33,"div",18),r.Lb(34,"input",19),r.Rb("change",(function(t){return e.fileInputChange(t)})),r.Kb(),r.Kb(),r.Lb(35,"button",20),r.fc(36,"Create"),r.Kb(),r.Kb()),2&t&&(r.yb(2),r.Yb("formGroup",e.loginForm),r.yb(15),r.Yb("routerLink",r.ac(3,dO)),r.yb(5),r.Yb("formGroup",e.createPostForm))},directives:[Ne,qt,De,Pt,zt,qe,Gw,Ww],styles:[".modal[_ngcontent-%COMP%]{position:fixed;z-index:1;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.hidden[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]{display:none}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:auto;padding:20px;border:1px solid #888;width:80%;color:#000}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:focus, .close[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;cursor:pointer}#blog-form[_ngcontent-%COMP%]{margin:6%}"]}),t})();var gO=n("OnMO");class vO{}class mO{}class yO{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof yO?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new yO;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof yO?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class bO{encodeKey(t){return _O(t)}encodeValue(t){return _O(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function _O(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class wO{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new bO,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new wO({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function OO(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function EO(t){return"undefined"!=typeof Blob&&t instanceof Blob}function xO(t){return"undefined"!=typeof FormData&&t instanceof FormData}class SO{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new yO),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new wO,this.urlWithParams=e}serializeBody(){return null===this.body?null:OO(this.body)||EO(this.body)||xO(this.body)||"string"==typeof this.body?this.body:this.body instanceof wO?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xO(this.body)?null:EO(this.body)?this.body.type||null:OO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wO?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new SO(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var TO=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class kO{constructor(t,e=200,n="OK"){this.headers=t.headers||new yO,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class IO extends kO{constructor(t={}){super(t),this.type=TO.ResponseHeader}clone(t={}){return new IO({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class CO extends kO{constructor(t={}){super(t),this.type=TO.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new CO({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class jO extends kO{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function AO(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let NO=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof SO)r=t;else{let i=void 0;i=n.headers instanceof yO?n.headers:new yO(n.headers);let o=void 0;n.params&&(o=n.params instanceof wO?n.params:new wO({fromObject:n.params})),r=new SO(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Je.a)(r).pipe(xb(t=>this.handler.handle(t)));if(t instanceof SO||"events"===n.observe)return i;const o=i.pipe(pn(t=>t instanceof CO));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(St.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(St.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(St.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(St.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new wO).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,AO(n,e))}post(t,e,n={}){return this.request("POST",t,AO(n,e))}put(t,e,n={}){return this.request("PUT",t,AO(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(vO))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class RO{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const PO=new r.q("HTTP_INTERCEPTORS");let DO=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const LO=/^\)\]\}',?\n/;class UO{}let VO=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),MO=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Et.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new yO(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new IO({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(LO,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new CO({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new jO({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new jO({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:TO.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:TO.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:TO.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(UO))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const FO=new r.q("XSRF_COOKIE_NAME"),zO=new r.q("XSRF_HEADER_NAME");class qO{}let HO=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=C(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(a),r.Ob(r.B),r.Ob(FO))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),BO=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(qO),r.Ob(zO))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),GO=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(PO,[]);this.chain=t.reduceRight((t,e)=>new RO(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(mO),r.Ob(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),$O=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:BO,useClass:DO}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:FO,useValue:e.cookieName}:[],e.headerName?{provide:zO,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[BO,{provide:PO,useExisting:BO,multi:!0},{provide:qO,useClass:HO},{provide:FO,useValue:"XSRF-TOKEN"},{provide:zO,useValue:"X-XSRF-TOKEN"}]}),t})(),WO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[NO,{provide:vO,useClass:GO},MO,{provide:mO,useExisting:MO},VO,{provide:UO,useExisting:VO}],imports:[[$O.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const KO=["*"];class JO{}const ZO=new r.q("SECURITY_CONTEXT");let XO=(()=>{class t{constructor(t,e,n,r,i){this.platform=t,this.securityContext=e,this.http=n,this.sanitizer=i,this.initialMarkedOptions={renderer:new gO.Renderer},this.options=r}get options(){return this._options}set options(t){this._options=Object.assign(Object.assign({},this.initialMarkedOptions),t)}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}compile(t,e=!1,n=!1,r=this.options){const i=this.trimIndentation(t),o=e?this.decodeHtml(i):i,s=n?this.renderEmoji(o):o,a=Object(gO.parse)(s,r);return this.sanitizer.sanitize(this.securityContext,a)||""}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Object(St.a)(e=>this.handleExtension(t,e)))}highlight(t){if(M(this.platform)&&"undefined"!=typeof Prism){t||(t=document);const e=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(e,t=>t.classList.add("language-none")),Prism.highlightAllUnder(t)}}renderKatex(t,e){if(!M(this.platform))return t;if("undefined"==typeof katex||void 0===katex.renderToString)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");return t.replace(/\$([^\s][^$]*?[^\s])\$/gm,(t,n)=>katex.renderToString(n,e))}decodeHtml(t){if(!M(this.platform))return t;const e=document.createElement("textarea");return e.innerHTML=t,e.value}handleExtension(t,e){const n=t?t.split("?")[0].split(".").splice(-1).join():null;return"md"!==n?"```"+n+"\n"+e+"\n```":e}renderEmoji(t){if(!M(this.platform))return t;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}trimIndentation(t){if(!t)return"";let e;return t.split("\n").map(t=>{let n=e;return t.length>0&&(n=isNaN(n)?t.search(/\S|$/):Math.min(t.search(/\S|$/),n)),isNaN(e)&&(e=n),n?t.substring(n):t}).join("\n")}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.B),r.Ob(ZO),r.Ob(NO,8),r.Ob(JO,8),r.Ob(gt))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();var QO=function(t){return t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",t}({});let YO=(()=>{class t{constructor(t,e){this.element=t,this.markdownService=e,this.error=new r.n,this.load=new r.n,this.ready=new r.n,this._emoji=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}ngOnChanges(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){this.data||this.src||this.handleTransclusion()}render(t,e=!1){let n=this.markdownService.compile(t,e,this.emoji);n=this.katex?this.markdownService.renderKatex(n,this.katexOptions):n,this.element.nativeElement.innerHTML=n,this.handlePlugins(),this.markdownService.highlight(this.element.nativeElement),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&""+t!="false"}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe(t=>{this.render(t),this.load.emit(t)},t=>this.error.emit(t))}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.lineHighlight&&(this.setPluginClass(this.element.nativeElement,QO.LineHighlight),this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset})),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,QO.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,e){const n=t.querySelectorAll("pre");for(let r=0;r<n.length;r++){const t=e instanceof Array?e:[e];n.item(r).classList.add(...t)}}setPluginOptions(t,e){const n=t.querySelectorAll("pre");for(let r=0;r<n.length;r++)Object.keys(e).forEach(t=>{const i=e[t];if(i){const e=this.toLispCase(t);n.item(r).setAttribute(e,i.toString())}})}toLispCase(t){const e=t.match(/([A-Z])/g);if(!e)return t;let n=t.toString();for(let r=0,i=e.length;r<i;r++)n=n.replace(new RegExp(e[r]),"-"+e[r].toLowerCase());return"-"===n.slice(0,1)&&(n=n.slice(1)),n}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(XO))},t.\u0275cmp=r.Cb({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{emoji:"emoji",katex:"katex",lineHighlight:"lineHighlight",lineNumbers:"lineNumbers",data:"data",src:"src",katexOptions:"katexOptions",line:"line",lineOffset:"lineOffset",start:"start"},outputs:{error:"error",load:"load",ready:"ready"},features:[r.wb],ngContentSelectors:KO,decls:1,vars:0,template:function(t,e){1&t&&(r.Xb(),r.Wb(0))},encapsulation:2}),t})(),tE=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[XO,e&&e.loader||[],e&&e.markedOptions||[],{provide:ZO,useValue:e&&null!=e.sanitize?e.sanitize:r.H.HTML}]}}static forChild(){return{ngModule:t}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),eE=(()=>{class t{constructor(t,e,n){this.route=t,this.router=e,this.afs=n}ngOnInit(){this.articleID=this.route.snapshot.params.id,console.log(this.articleID),this.article=this.afs.collection("posts").doc(this.articleID).valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(I_),r.Ib(Hw),r.Ib(sb))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-post"]],decls:3,vars:3,consts:[[1,"container"],[3,"src"]],template:function(t,e){var n;1&t&&(r.Lb(0,"div",0),r.Jb(1,"markdown",1),r.Tb(2,"async"),r.Kb()),2&t&&(r.yb(1),r.Yb("src",null==(n=r.Ub(2,1,e.article))?null:n.file_url))},directives:[YO],pipes:[U],styles:[".container[_ngcontent-%COMP%]{padding:6%;color:#fff}"]}),t})(),nE=(()=>{class t{static isString(t){return"string"==typeof t||t instanceof String}static caseInsensitiveSort(e,n){return t.isString(e)&&t.isString(n)?e.localeCompare(n):t.defaultCompare(e,n)}static defaultCompare(t,e){return t&&t instanceof Date&&(t=t.getTime()),e&&e instanceof Date&&(e=e.getTime()),t===e?0:null==t?1:null==e?-1:t>e?1:-1}static parseExpression(t){return(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".")}static getValue(t,e){for(let n=0,r=e.length;n<r;++n){if(!t)return;const r=e[n];if(!(r in t))return;t="function"==typeof t[r]?t[r]():t[r]}return t}static setValue(t,e,n){let r;for(r=0;r<n.length-1;r++)t=t[n[r]];t[n[r]]=e}transform(t,e,n,r=!1,i){return t?Array.isArray(e)?this.multiExpressionTransform(t,e,n,r,i):Array.isArray(t)?this.sortArray(t.slice(),e,n,r,i):"object"==typeof t?this.transformObject(Object.assign({},t),e,n,r,i):t:t}sortArray(e,n,r,i,o){const s=n&&-1!==n.indexOf(".");let a;s&&(n=t.parseExpression(n)),a=o&&"function"==typeof o?o:i?t.caseInsensitiveSort:t.defaultCompare;const u=e.sort((e,r)=>n?s?a(t.getValue(e,n),t.getValue(r,n)):e&&r?a(e[n],r[n]):a(e,r):a(e,r));return r?u.reverse():u}transformObject(e,n,r,i,o){const s=t.parseExpression(n);let a=s.pop(),u=t.getValue(e,s);return Array.isArray(u)||(s.push(a),a=null,u=t.getValue(e,s)),u?(t.setValue(e,this.transform(u,a,r,i),s),e):e}multiExpressionTransform(t,e,n,r=!1,i){return e.reverse().reduce((t,e)=>this.transform(t,e,n,r,i),t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Hb({name:"orderBy",type:t,pure:!1}),t})(),rE=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[nE]}),t})();function iE(t,e){if(1&t&&(r.Lb(0,"div",2),r.Lb(1,"h2",3),r.fc(2),r.Kb(),r.Lb(3,"p",4),r.fc(4),r.Kb(),r.Lb(5,"a",5),r.fc(6,"Read"),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(2),r.gc(t.title),r.yb(2),r.gc(t.description),r.yb(1),r.Zb("routerLink",t.post_uri)}}const oE=[{path:"post/:id",component:eE},{path:"admin",component:pO},{path:"",component:(()=>{class t{constructor(t){this.firestore=t,this.posts=this.firestore.collection("posts").valueChanges()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(sb))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-home"]],decls:4,vars:8,consts:[[1,"posts"],["class","post",4,"ngFor","ngForOf"],[1,"post"],[1,"title"],[1,"desc"],[1,"btn","btn-outline-light",3,"routerLink"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.ec(1,iE,7,3,"div",1),r.Tb(2,"orderBy"),r.Tb(3,"async"),r.Kb()),2&t&&(r.yb(1),r.Yb("ngForOf",r.Vb(2,1,r.Ub(3,6,e.posts),"timestamp",!0,!1)))},directives:[A,Gw],pipes:[nE,U],styles:[".posts[_ngcontent-%COMP%]{margin:8%;color:#fff}.post[_ngcontent-%COMP%]{padding:3%;border:1px solid #fff;border-radius:10px;margin:2%}"]}),t})()}];let sE=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[iO.forRoot(oE)],iO]}),t})(),aE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-navbar"]],decls:7,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-light"],["routerLink","/",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"]],template:function(t,e){1&t&&(r.Lb(0,"nav",0),r.Lb(1,"a",1),r.fc(2,"Blog"),r.Kb(),r.Lb(3,"button",2),r.Jb(4,"span",3),r.Kb(),r.Lb(5,"div",4),r.Jb(6,"ul",5),r.Kb(),r.Kb())},directives:[Gw],styles:[".navbar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#4942ff,#1daffd 50%,#69f61e);padding:0 2%}.navbar-brand[_ngcontent-%COMP%]{font-family:Akshat Sans,sans-serif;font-size:40px}"]}),t})(),uE=(()=>{class t{constructor(){this.title="blog"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Jb(1,"router-outlet"))},directives:[aE,Kw],styles:[""]}),t})();function cE(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(By){o(By)}}function a(t){try{u(r.throw(t))}catch(By){o(By)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}class lE{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new hE(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class hE extends dn.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Ke.a,n.set(e,i);const t=new dE(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new dE(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new fE(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class fE extends dn.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class dE extends Et.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new sn.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new pE(n)),e.add(r.subscribe(t)),e}}class pE extends sn.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}const gE=new r.q("angularfire2.analytics.analyticsCollectionEnabled"),vE=new r.q("angularfire2.analytics.appVersion"),mE=new r.q("angularfire2.analytics.appName"),yE=new r.q("angularfire2.analytics.debugMode"),bE=new r.q("angularfire2.analytics.config");let _E=(()=>{class t{constructor(t,e,r,i,o,s,a,u){if(this.analyticsInitialized=new Promise(()=>{}),M(a)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),o&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),s&&this.updateConfig(s),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const c=Object(Je.a)(void 0).pipe(Object(Xe.b)(new Rn.e(u).outsideAngular),en(()=>M(a)?u.runOutsideAngular(()=>n.e(4).then(n.bind(null,"AAub"))):yn.a),Object(St.a)(()=>Object(Rn.g)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,s,o])),hn({bufferSize:1,refCount:!1}));return Object(Rn.j)(this,c,u)}updateConfig(t){return cE(this,void 0,void 0,(function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))}))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Rn.d),r.Ob(gE,8),r.Ob(vE,8),r.Ob(mE,8),r.Ob(yE,8),r.Ob(bE,8),r.Ob(r.B),r.Ob(r.z))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Ob)(Rn.d),Object(r.Ob)(gE,8),Object(r.Ob)(vE,8),Object(r.Ob)(mE,8),Object(r.Ob)(yE,8),Object(r.Ob)(bE,8),Object(r.Ob)(r.B),Object(r.Ob)(r.z))},token:t,providedIn:"any"}),t})(),wE=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],F(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(_E),r.Ob(r.B),r.Ob(Fn),r.Ob(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),OE=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const EE={},xE=t=>{const e=[t.screen_class,t.outlet].join("#");if(EE.hasOwnProperty(e))return EE[e];{const t=OE++;return EE[e]=t,t}};let SE=(()=>{class t{constructor(t,e,n,r,i,o,s){if(!e||!M(i))return this;o.runOutsideAngular(()=>{const i=e.events.pipe(pn(t=>t instanceof qb));var o;this.disposable=i.pipe(en(t=>{var i;const o=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",s=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!s)return Object(Je.a)(null);let a=s;for(;a.firstChild;)a=a.firstChild;const u=a.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",c={screen_name:u,page_path:"/"+o,firebase_event_origin:"auto",firebase_screen:u,outlet:t.snapshot.outlet};n&&(c.page_title=n.getTitle());let l=s.component;if(l){if(l===jw){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;l=e.component}}else l=t.snapshot.component;if("string"==typeof l)return Object(Je.a)(Object.assign(Object.assign({},c),{screen_class:l}));if(l){const t=r.resolveComponentFactory(l);return Object(Je.a)(Object.assign(Object.assign({},c),{screen_class:t.selector}))}return Object(Je.a)(null)}),pn(t=>t),Object(St.a)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:xE(t)},t)),(o=t=>t.outlet,t=>t.lift(new lE(o,void 0,void 0,void 0))),Object(_b.a)(e=>e.pipe(Ci((t,e)=>JSON.stringify(t)===JSON.stringify(e)),Oi(void 0),Ei(),Object(St.a)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),en(e=>cE(this,void 0,void 0,(function*(){return s&&(yield s.initialized),yield t.logEvent("screen_view",e)})))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(_E),r.Ob(Hw,8),r.Ob(Ot,8),r.Ob(r.j),r.Ob(r.B),r.Ob(r.z),r.Ob(wE,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),TE=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Ob(_E),r.Ob(SE,8),r.Ob(wE,8))},providers:[_E]}),t})(),kE=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[uE]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[SE,wE],imports:[[_t,sE,WO,Ge,$e,rE,tE.forRoot({loader:NO}),Rn.a.initializeApp(i),TE,ab,mi,zn]]}),t})();Object(r.S)(),yt().bootstrapModule(kE).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);